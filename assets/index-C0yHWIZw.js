function Yk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function mS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gS={exports:{}},If={},vS={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),Xk=Symbol.for("react.portal"),Jk=Symbol.for("react.fragment"),Zk=Symbol.for("react.strict_mode"),e2=Symbol.for("react.profiler"),t2=Symbol.for("react.provider"),n2=Symbol.for("react.context"),r2=Symbol.for("react.forward_ref"),s2=Symbol.for("react.suspense"),o2=Symbol.for("react.memo"),i2=Symbol.for("react.lazy"),k0=Symbol.iterator;function a2(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var yS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,xS={};function la(t,e,n){this.props=t,this.context=e,this.refs=xS,this.updater=n||yS}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _S(){}_S.prototype=la.prototype;function sv(t,e,n){this.props=t,this.context=e,this.refs=xS,this.updater=n||yS}var ov=sv.prototype=new _S;ov.constructor=sv;wS(ov,la.prototype);ov.isPureReactComponent=!0;var j0=Array.isArray,ES=Object.prototype.hasOwnProperty,iv={current:null},SS={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)ES.call(e,r)&&!SS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gc,type:t,key:o,ref:i,props:s,_owner:iv.current}}function l2(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function av(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function c2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D0=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c2(""+t.key):e.toString(36)}function zu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case gc:case Xk:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+ep(i,0):r,j0(s)?(n="",t!=null&&(n=t.replace(D0,"$&/")+"/"),zu(s,e,n,"",function(c){return c})):s!=null&&(av(s)&&(s=l2(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(D0,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",j0(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ep(o,a);i+=zu(o,e,n,l,s)}else if(l=a2(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ep(o,a++),i+=zu(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function hu(t,e,n){if(t==null)return t;var r=[],s=0;return zu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function u2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Wu={transition:null},d2={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:iv};function bS(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:hu,forEach:function(t,e,n){hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hu(t,function(){e++}),e},toArray:function(t){return hu(t,function(e){return e})||[]},only:function(t){if(!av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=la;Se.Fragment=Jk;Se.Profiler=e2;Se.PureComponent=sv;Se.StrictMode=Zk;Se.Suspense=s2;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d2;Se.act=bS;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wS({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=iv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ES.call(e,l)&&!SS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gc,type:t.type,key:s,ref:o,props:r,_owner:i}};Se.createContext=function(t){return t={$$typeof:n2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t2,_context:t},t.Consumer=t};Se.createElement=TS;Se.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:r2,render:t}};Se.isValidElement=av;Se.lazy=function(t){return{$$typeof:i2,_payload:{_status:-1,_result:t},_init:u2}};Se.memo=function(t,e){return{$$typeof:o2,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Wu.transition;Wu.transition={};try{t()}finally{Wu.transition=e}};Se.unstable_act=bS;Se.useCallback=function(t,e){return Ht.current.useCallback(t,e)};Se.useContext=function(t){return Ht.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Ht.current.useEffect(t,e)};Se.useId=function(){return Ht.current.useId()};Se.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Ht.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};Se.useRef=function(t){return Ht.current.useRef(t)};Se.useState=function(t){return Ht.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Ht.current.useTransition()};Se.version="18.3.1";vS.exports=Se;var p=vS.exports;const We=mS(p),CS=Yk({__proto__:null,default:We},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2=p,h2=Symbol.for("react.element"),p2=Symbol.for("react.fragment"),m2=Object.prototype.hasOwnProperty,g2=f2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v2={key:!0,ref:!0,__self:!0,__source:!0};function IS(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)m2.call(e,r)&&!v2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:h2,type:t,key:o,ref:i,props:s,_owner:g2.current}}If.Fragment=p2;If.jsx=IS;If.jsxs=IS;gS.exports=If;var u=gS.exports,RS={exports:{}},gn={},AS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var G=L.length;L.push(F);e:for(;0<G;){var J=G-1>>>1,ie=L[J];if(0<s(ie,F))L[J]=F,L[G]=ie,G=J;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],G=L.pop();if(G!==F){L[0]=G;e:for(var J=0,ie=L.length,ve=ie>>>1;J<ve;){var Ce=2*(J+1)-1,Fe=L[Ce],De=Ce+1,Q=L[De];if(0>s(Fe,G))De<ie&&0>s(Q,Fe)?(L[J]=Q,L[De]=G,J=De):(L[J]=Fe,L[Ce]=G,J=Ce);else if(De<ie&&0>s(Q,G))L[J]=Q,L[De]=G,J=De;else break e}}return F}function s(L,F){var G=L.sortIndex-F.sortIndex;return G!==0?G:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],f=1,h=null,m=3,x=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=L)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function N(L){if(v=!1,b(L),!w)if(n(l)!==null)w=!0,Y(O);else{var F=n(c);F!==null&&ne(N,F.startTime-L)}}function O(L,F){w=!1,v&&(v=!1,E(T),T=-1),x=!0;var G=m;try{for(b(F),h=n(l);h!==null&&(!(h.expirationTime>F)||L&&!R());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var ie=J(h.expirationTime<=F);F=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),b(F)}else r(l);h=n(l)}if(h!==null)var ve=!0;else{var Ce=n(c);Ce!==null&&ne(N,Ce.startTime-F),ve=!1}return ve}finally{h=null,m=G,x=!1}}var j=!1,C=null,T=-1,I=5,P=-1;function R(){return!(t.unstable_now()-P<I)}function D(){if(C!==null){var L=t.unstable_now();P=L;var F=!0;try{F=C(!0,L)}finally{F?k():(j=!1,C=null)}}else j=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=D,k=function(){te.postMessage(null)}}else k=function(){_(D,0)};function Y(L){C=L,j||(j=!0,k())}function ne(L,F){T=_(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,Y(O))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var G=m;m=F;try{return L()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=m;m=L;try{return F()}finally{m=G}},t.unstable_scheduleCallback=function(L,F,G){var J=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,L={id:f++,callback:F,priorityLevel:L,startTime:G,expirationTime:ie,sortIndex:-1},G>J?(L.sortIndex=G,e(c,L),n(l)===null&&L===n(c)&&(v?(E(T),T=-1):v=!0,ne(N,G-J))):(L.sortIndex=ie,e(l,L),w||x||(w=!0,Y(O))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var F=m;return function(){var G=m;m=F;try{return L.apply(this,arguments)}finally{m=G}}}})(PS);AS.exports=PS;var y2=AS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2=p,mn=y2;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NS=new Set,Dl={};function $o(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(Dl[t]=e,t=0;t<e.length;t++)NS.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,x2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O0={},M0={};function _2(t){return lm.call(M0,t)?!0:lm.call(O0,t)?!1:x2.test(t)?M0[t]=!0:(O0[t]=!0,!1)}function E2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S2(t,e,n,r){if(e===null||typeof e>"u"||E2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lv=/[\-:]([a-z])/g;function cv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lv,cv);At[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lv,cv);At[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lv,cv);At[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function uv(t,e,n,r){var s=At.hasOwnProperty(e)?At[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S2(e,n,s,r)&&(n=null),r||s===null?_2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=w2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),_i=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),jS=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),DS=Symbol.for("react.offscreen"),L0=Symbol.iterator;function qa(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,tp;function sl(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sl(t):""}function T2(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function fm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case _i:return"Portal";case cm:return"Profiler";case dv:return"StrictMode";case um:return"Suspense";case dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jS:return(t.displayName||"Context")+".Consumer";case kS:return(t._context.displayName||"Context")+".Provider";case fv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hv:return e=t.displayName||null,e!==null?e:fm(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return fm(t(e))}catch{}}return null}function b2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(e);case 8:return e===dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C2(t){var e=OS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=C2(t))}function MS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hm(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LS(t,e){e=e.checked,e!=null&&uv(t,"checked",e,!1)}function pm(t,e){LS(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&mm(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mm(t,e,n){(e!=="number"||wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function ji(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ol(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function VS(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gu,US=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I2=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){I2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function $S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function BS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var R2=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(t,e){if(e){if(R2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function pv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _m=null,Di=null,Oi=null;function B0(t){if(t=wc(t)){if(typeof _m!="function")throw Error(W(280));var e=t.stateNode;e&&(e=kf(e),_m(t.stateNode,t.type,e))}}function zS(t){Di?Oi?Oi.push(t):Oi=[t]:Di=t}function WS(){if(Di){var t=Di,e=Oi;if(Oi=Di=null,B0(t),e)for(t=0;t<e.length;t++)B0(e[t])}}function HS(t,e){return t(e)}function qS(){}var sp=!1;function GS(t,e,n){if(sp)return t(e,n);sp=!0;try{return HS(t,e,n)}finally{sp=!1,(Di!==null||Oi!==null)&&(qS(),WS())}}function Ml(t,e){var n=t.stateNode;if(n===null)return null;var r=kf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Em=!1;if(Ur)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Em=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Em=!1}function A2(t,e,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var yl=!1,xd=null,_d=!1,Sm=null,P2={onError:function(t){yl=!0,xd=t}};function N2(t,e,n,r,s,o,i,a,l){yl=!1,xd=null,A2.apply(P2,arguments)}function k2(t,e,n,r,s,o,i,a,l){if(N2.apply(this,arguments),yl){if(yl){var c=xd;yl=!1,xd=null}else throw Error(W(198));_d||(_d=!0,Sm=c)}}function Bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z0(t){if(Bo(t)!==t)throw Error(W(188))}function j2(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return z0(s),t;if(o===r)return z0(s),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function QS(t){return t=j2(t),t!==null?YS(t):null}function YS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YS(t);if(e!==null)return e;t=t.sibling}return null}var XS=mn.unstable_scheduleCallback,W0=mn.unstable_cancelCallback,D2=mn.unstable_shouldYield,O2=mn.unstable_requestPaint,ot=mn.unstable_now,M2=mn.unstable_getCurrentPriorityLevel,mv=mn.unstable_ImmediatePriority,JS=mn.unstable_UserBlockingPriority,Ed=mn.unstable_NormalPriority,L2=mn.unstable_LowPriority,ZS=mn.unstable_IdlePriority,Rf=null,ur=null;function V2(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Rf,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:$2,F2=Math.log,U2=Math.LN2;function $2(t){return t>>>=0,t===0?32:31-(F2(t)/U2|0)|0}var vu=64,yu=4194304;function il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=il(a):(o&=i,o!==0&&(r=il(o)))}else i=n&~s,i!==0?r=il(i):o!==0&&(r=il(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function B2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-zn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=B2(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e1(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function op(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function W2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function gv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function t1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n1,vv,r1,s1,o1,bm=!1,wu=[],Is=null,Rs=null,As=null,Ll=new Map,Vl=new Map,ys=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(t,e){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(e.pointerId)}}function Ka(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=wc(e),e!==null&&vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function q2(t,e,n,r,s){switch(e){case"focusin":return Is=Ka(Is,t,e,n,r,s),!0;case"dragenter":return Rs=Ka(Rs,t,e,n,r,s),!0;case"mouseover":return As=Ka(As,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ll.set(o,Ka(Ll.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Vl.set(o,Ka(Vl.get(o)||null,t,e,n,r,s)),!0}return!1}function i1(t){var e=po(t.target);if(e!==null){var n=Bo(e);if(n!==null){if(e=n.tag,e===13){if(e=KS(n),e!==null){t.blockedOn=e,o1(t.priority,function(){r1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xm=r,n.target.dispatchEvent(r),xm=null}else return e=wc(n),e!==null&&vv(e),t.blockedOn=n,!1;e.shift()}return!0}function q0(t,e,n){Hu(t)&&n.delete(e)}function G2(){bm=!1,Is!==null&&Hu(Is)&&(Is=null),Rs!==null&&Hu(Rs)&&(Rs=null),As!==null&&Hu(As)&&(As=null),Ll.forEach(q0),Vl.forEach(q0)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,bm||(bm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,G2)))}function Fl(t){function e(s){return Qa(s,t)}if(0<wu.length){Qa(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Is!==null&&Qa(Is,t),Rs!==null&&Qa(Rs,t),As!==null&&Qa(As,t),Ll.forEach(e),Vl.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)i1(n),n.blockedOn===null&&ys.shift()}var Mi=Xr.ReactCurrentBatchConfig,Td=!0;function K2(t,e,n,r){var s=Oe,o=Mi.transition;Mi.transition=null;try{Oe=1,yv(t,e,n,r)}finally{Oe=s,Mi.transition=o}}function Q2(t,e,n,r){var s=Oe,o=Mi.transition;Mi.transition=null;try{Oe=4,yv(t,e,n,r)}finally{Oe=s,Mi.transition=o}}function yv(t,e,n,r){if(Td){var s=Cm(t,e,n,r);if(s===null)mp(t,e,r,bd,n),H0(t,r);else if(q2(s,t,e,n,r))r.stopPropagation();else if(H0(t,r),e&4&&-1<H2.indexOf(t)){for(;s!==null;){var o=wc(s);if(o!==null&&n1(o),o=Cm(t,e,n,r),o===null&&mp(t,e,r,bd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var bd=null;function Cm(t,e,n,r){if(bd=null,t=pv(r),t=po(t),t!==null)if(e=Bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bd=t,null}function a1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M2()){case mv:return 1;case JS:return 4;case Ed:case L2:return 16;case ZS:return 536870912;default:return 16}default:return 16}}var Ss=null,wv=null,qu=null;function l1(){if(qu)return qu;var t,e=wv,n=e.length,r,s="value"in Ss?Ss.value:Ss.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return qu=s.slice(t,1<r?1-r:void 0)}function Gu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function G0(){return!1}function vn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xu:G0,this.isPropagationStopped=G0,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xv=vn(ca),yc=et({},ca,{view:0,detail:0}),Y2=vn(yc),ip,ap,Ya,Af=et({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(ip=t.screenX-Ya.screenX,ap=t.screenY-Ya.screenY):ap=ip=0,Ya=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),K0=vn(Af),X2=et({},Af,{dataTransfer:0}),J2=vn(X2),Z2=et({},yc,{relatedTarget:0}),lp=vn(Z2),ej=et({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),tj=vn(ej),nj=et({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rj=vn(nj),sj=et({},ca,{data:0}),Q0=vn(sj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ij={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aj[t])?!!e[t]:!1}function _v(){return lj}var cj=et({},yc,{key:function(t){if(t.key){var e=oj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ij[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(t){return t.type==="keypress"?Gu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uj=vn(cj),dj=et({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=vn(dj),fj=et({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),hj=vn(fj),pj=et({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),mj=vn(pj),gj=et({},Af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vj=vn(gj),yj=[9,13,27,32],Ev=Ur&&"CompositionEvent"in window,wl=null;Ur&&"documentMode"in document&&(wl=document.documentMode);var wj=Ur&&"TextEvent"in window&&!wl,c1=Ur&&(!Ev||wl&&8<wl&&11>=wl),X0=" ",J0=!1;function u1(t,e){switch(t){case"keyup":return yj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Si=!1;function xj(t,e){switch(t){case"compositionend":return d1(e);case"keypress":return e.which!==32?null:(J0=!0,X0);case"textInput":return t=e.data,t===X0&&J0?null:t;default:return null}}function _j(t,e){if(Si)return t==="compositionend"||!Ev&&u1(t,e)?(t=l1(),qu=wv=Ss=null,Si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c1&&e.locale!=="ko"?null:e.data;default:return null}}var Ej={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ej[t.type]:e==="textarea"}function f1(t,e,n,r){zS(r),e=Cd(e,"onChange"),0<e.length&&(n=new xv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xl=null,Ul=null;function Sj(t){S1(t,0)}function Pf(t){var e=Ci(t);if(MS(e))return t}function Tj(t,e){if(t==="change")return e}var h1=!1;if(Ur){var cp;if(Ur){var up="oninput"in document;if(!up){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),up=typeof ex.oninput=="function"}cp=up}else cp=!1;h1=cp&&(!document.documentMode||9<document.documentMode)}function tx(){xl&&(xl.detachEvent("onpropertychange",p1),Ul=xl=null)}function p1(t){if(t.propertyName==="value"&&Pf(Ul)){var e=[];f1(e,Ul,t,pv(t)),GS(Sj,e)}}function bj(t,e,n){t==="focusin"?(tx(),xl=e,Ul=n,xl.attachEvent("onpropertychange",p1)):t==="focusout"&&tx()}function Cj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pf(Ul)}function Ij(t,e){if(t==="click")return Pf(e)}function Rj(t,e){if(t==="input"||t==="change")return Pf(e)}function Aj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:Aj;function $l(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lm.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function nx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rx(t,e){var n=nx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nx(n)}}function m1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g1(){for(var t=window,e=wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wd(t.document)}return e}function Sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pj(t){var e=g1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m1(n.ownerDocument.documentElement,n)){if(r!==null&&Sv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=rx(n,o);var i=rx(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Nj=Ur&&"documentMode"in document&&11>=document.documentMode,Ti=null,Im=null,_l=null,Rm=!1;function sx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rm||Ti==null||Ti!==wd(r)||(r=Ti,"selectionStart"in r&&Sv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_l&&$l(_l,r)||(_l=r,r=Cd(Im,"onSelect"),0<r.length&&(e=new xv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ti)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},dp={},v1={};Ur&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Nf(t){if(dp[t])return dp[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v1)return dp[t]=e[n];return t}var y1=Nf("animationend"),w1=Nf("animationiteration"),x1=Nf("animationstart"),_1=Nf("transitionend"),E1=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(t,e){E1.set(t,e),$o(e,[t])}for(var fp=0;fp<ox.length;fp++){var hp=ox[fp],kj=hp.toLowerCase(),jj=hp[0].toUpperCase()+hp.slice(1);Js(kj,"on"+jj)}Js(y1,"onAnimationEnd");Js(w1,"onAnimationIteration");Js(x1,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(_1,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dj=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function ix(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,k2(r,e,void 0,t),t.currentTarget=null}function S1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;ix(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;ix(s,a,c),o=l}}}if(_d)throw t=Sm,_d=!1,Sm=null,t}function ze(t,e){var n=e[jm];n===void 0&&(n=e[jm]=new Set);var r=t+"__bubble";n.has(r)||(T1(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),T1(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[Eu]){t[Eu]=!0,NS.forEach(function(n){n!=="selectionchange"&&(Dj.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,pp("selectionchange",!1,e))}}function T1(t,e,n,r){switch(a1(e)){case 1:var s=K2;break;case 4:s=Q2;break;default:s=yv}n=s.bind(null,e,n,t),s=void 0,!Em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=po(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}GS(function(){var c=o,f=pv(n),h=[];e:{var m=E1.get(t);if(m!==void 0){var x=xv,w=t;switch(t){case"keypress":if(Gu(n)===0)break e;case"keydown":case"keyup":x=uj;break;case"focusin":w="focus",x=lp;break;case"focusout":w="blur",x=lp;break;case"beforeblur":case"afterblur":x=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=K0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=J2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=hj;break;case y1:case w1:case x1:x=tj;break;case _1:x=mj;break;case"scroll":x=Y2;break;case"wheel":x=vj;break;case"copy":case"cut":case"paste":x=rj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Y0}var v=(e&4)!==0,_=!v&&t==="scroll",E=v?m!==null?m+"Capture":null:m;v=[];for(var y=c,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,E!==null&&(N=Ml(y,E),N!=null&&v.push(zl(y,N,b)))),_)break;y=y.return}0<v.length&&(m=new x(m,w,null,n,f),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==xm&&(w=n.relatedTarget||n.fromElement)&&(po(w)||w[$r]))break e;if((x||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=c,w=w?po(w):null,w!==null&&(_=Bo(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=c),x!==w)){if(v=K0,N="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Y0,N="onPointerLeave",E="onPointerEnter",y="pointer"),_=x==null?m:Ci(x),b=w==null?m:Ci(w),m=new v(N,y+"leave",x,n,f),m.target=_,m.relatedTarget=b,N=null,po(f)===c&&(v=new v(E,y+"enter",w,n,f),v.target=b,v.relatedTarget=_,N=v),_=N,x&&w)t:{for(v=x,E=w,y=0,b=v;b;b=hi(b))y++;for(b=0,N=E;N;N=hi(N))b++;for(;0<y-b;)v=hi(v),y--;for(;0<b-y;)E=hi(E),b--;for(;y--;){if(v===E||E!==null&&v===E.alternate)break t;v=hi(v),E=hi(E)}v=null}else v=null;x!==null&&ax(h,m,x,v,!1),w!==null&&_!==null&&ax(h,_,w,v,!0)}}e:{if(m=c?Ci(c):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var O=Tj;else if(Z0(m))if(h1)O=Rj;else{O=Cj;var j=bj}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=Ij);if(O&&(O=O(t,c))){f1(h,O,n,f);break e}j&&j(t,m,c),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&mm(m,"number",m.value)}switch(j=c?Ci(c):window,t){case"focusin":(Z0(j)||j.contentEditable==="true")&&(Ti=j,Im=c,_l=null);break;case"focusout":_l=Im=Ti=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,sx(h,n,f);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":sx(h,n,f)}var C;if(Ev)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Si?u1(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(c1&&n.locale!=="ko"&&(Si||T!=="onCompositionStart"?T==="onCompositionEnd"&&Si&&(C=l1()):(Ss=f,wv="value"in Ss?Ss.value:Ss.textContent,Si=!0)),j=Cd(c,T),0<j.length&&(T=new Q0(T,t,null,n,f),h.push({event:T,listeners:j}),C?T.data=C:(C=d1(n),C!==null&&(T.data=C)))),(C=wj?xj(t,n):_j(t,n))&&(c=Cd(c,"onBeforeInput"),0<c.length&&(f=new Q0("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=C))}S1(h,e)})}function zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ml(t,n),o!=null&&r.unshift(zl(t,o,s)),o=Ml(t,e),o!=null&&r.push(zl(t,o,s))),t=t.return}return r}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ax(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ml(n,o),l!=null&&i.unshift(zl(n,l,a))):s||(l=Ml(n,o),l!=null&&i.push(zl(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Oj=/\r\n?/g,Mj=/\u0000|\uFFFD/g;function lx(t){return(typeof t=="string"?t:""+t).replace(Oj,`
`).replace(Mj,"")}function Su(t,e,n){if(e=lx(e),lx(t)!==e&&n)throw Error(W(425))}function Id(){}var Am=null,Pm=null;function Nm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,Lj=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,Vj=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(t){return cx.resolve(null).then(t).catch(Fj)}:km;function Fj(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fl(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ux(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),lr="__reactFiber$"+ua,Wl="__reactProps$"+ua,$r="__reactContainer$"+ua,jm="__reactEvents$"+ua,Uj="__reactListeners$"+ua,$j="__reactHandles$"+ua;function po(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ux(t);t!==null;){if(n=t[lr])return n;t=ux(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[lr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function kf(t){return t[Wl]||null}var Dm=[],Ii=-1;function Zs(t){return{current:t}}function He(t){0>Ii||(t.current=Dm[Ii],Dm[Ii]=null,Ii--)}function Ve(t,e){Ii++,Dm[Ii]=t.current,t.current=e}var Us={},Ut=Zs(Us),Jt=Zs(!1),bo=Us;function Gi(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zt(t){return t=t.childContextTypes,t!=null}function Rd(){He(Jt),He(Ut)}function dx(t,e,n){if(Ut.current!==Us)throw Error(W(168));Ve(Ut,e),Ve(Jt,n)}function b1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,b2(t)||"Unknown",s));return et({},n,r)}function Ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,bo=Ut.current,Ve(Ut,t),Ve(Jt,Jt.current),!0}function fx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=b1(t,e,bo),r.__reactInternalMemoizedMergedChildContext=t,He(Jt),He(Ut),Ve(Ut,t)):He(Jt),Ve(Jt,n)}var Nr=null,jf=!1,vp=!1;function C1(t){Nr===null?Nr=[t]:Nr.push(t)}function Bj(t){jf=!0,C1(t)}function eo(){if(!vp&&Nr!==null){vp=!0;var t=0,e=Oe;try{var n=Nr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,jf=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),XS(mv,eo),s}finally{Oe=e,vp=!1}}return null}var Ri=[],Ai=0,Pd=null,Nd=0,wn=[],xn=0,Co=null,jr=1,Dr="";function co(t,e){Ri[Ai++]=Nd,Ri[Ai++]=Pd,Pd=t,Nd=e}function I1(t,e,n){wn[xn++]=jr,wn[xn++]=Dr,wn[xn++]=Co,Co=t;var r=jr;t=Dr;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var o=32-zn(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,jr=1<<32-zn(e)+s|n<<s|r,Dr=o+t}else jr=1<<o|n<<s|r,Dr=t}function Tv(t){t.return!==null&&(co(t,1),I1(t,1,0))}function bv(t){for(;t===Pd;)Pd=Ri[--Ai],Ri[Ai]=null,Nd=Ri[--Ai],Ri[Ai]=null;for(;t===Co;)Co=wn[--xn],wn[xn]=null,Dr=wn[--xn],wn[xn]=null,jr=wn[--xn],wn[xn]=null}var un=null,cn=null,qe=!1,Un=null;function R1(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,cn=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Co!==null?{id:jr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,cn=null,!0):!1;default:return!1}}function Om(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mm(t){if(qe){var e=cn;if(e){var n=e;if(!hx(t,e)){if(Om(t))throw Error(W(418));e=Ps(n.nextSibling);var r=un;e&&hx(t,e)?R1(r,n):(t.flags=t.flags&-4097|2,qe=!1,un=t)}}else{if(Om(t))throw Error(W(418));t.flags=t.flags&-4097|2,qe=!1,un=t}}}function px(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Tu(t){if(t!==un)return!1;if(!qe)return px(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nm(t.type,t.memoizedProps)),e&&(e=cn)){if(Om(t))throw A1(),Error(W(418));for(;e;)R1(t,e),e=Ps(e.nextSibling)}if(px(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=un?Ps(t.stateNode.nextSibling):null;return!0}function A1(){for(var t=cn;t;)t=Ps(t.nextSibling)}function Ki(){cn=un=null,qe=!1}function Cv(t){Un===null?Un=[t]:Un.push(t)}var zj=Xr.ReactCurrentBatchConfig;function Xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function bu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mx(t){var e=t._init;return e(t._payload)}function P1(t){function e(E,y){if(t){var b=E.deletions;b===null?(E.deletions=[y],E.flags|=16):b.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function s(E,y){return E=Ds(E,y),E.index=0,E.sibling=null,E}function o(E,y,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<y?(E.flags|=2,y):b):(E.flags|=2,y)):(E.flags|=1048576,y)}function i(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,b,N){return y===null||y.tag!==6?(y=Tp(b,E.mode,N),y.return=E,y):(y=s(y,b),y.return=E,y)}function l(E,y,b,N){var O=b.type;return O===Ei?f(E,y,b.props.children,N,b.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===gs&&mx(O)===y.type)?(N=s(y,b.props),N.ref=Xa(E,y,b),N.return=E,N):(N=ed(b.type,b.key,b.props,null,E.mode,N),N.ref=Xa(E,y,b),N.return=E,N)}function c(E,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=bp(b,E.mode,N),y.return=E,y):(y=s(y,b.children||[]),y.return=E,y)}function f(E,y,b,N,O){return y===null||y.tag!==7?(y=Eo(b,E.mode,N,O),y.return=E,y):(y=s(y,b),y.return=E,y)}function h(E,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tp(""+y,E.mode,b),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pu:return b=ed(y.type,y.key,y.props,null,E.mode,b),b.ref=Xa(E,null,y),b.return=E,b;case _i:return y=bp(y,E.mode,b),y.return=E,y;case gs:var N=y._init;return h(E,N(y._payload),b)}if(ol(y)||qa(y))return y=Eo(y,E.mode,b,null),y.return=E,y;bu(E,y)}return null}function m(E,y,b,N){var O=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(E,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pu:return b.key===O?l(E,y,b,N):null;case _i:return b.key===O?c(E,y,b,N):null;case gs:return O=b._init,m(E,y,O(b._payload),N)}if(ol(b)||qa(b))return O!==null?null:f(E,y,b,N,null);bu(E,b)}return null}function x(E,y,b,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(b)||null,a(y,E,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pu:return E=E.get(N.key===null?b:N.key)||null,l(y,E,N,O);case _i:return E=E.get(N.key===null?b:N.key)||null,c(y,E,N,O);case gs:var j=N._init;return x(E,y,b,j(N._payload),O)}if(ol(N)||qa(N))return E=E.get(b)||null,f(y,E,N,O,null);bu(y,N)}return null}function w(E,y,b,N){for(var O=null,j=null,C=y,T=y=0,I=null;C!==null&&T<b.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var P=m(E,C,b[T],N);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(E,C),y=o(P,y,T),j===null?O=P:j.sibling=P,j=P,C=I}if(T===b.length)return n(E,C),qe&&co(E,T),O;if(C===null){for(;T<b.length;T++)C=h(E,b[T],N),C!==null&&(y=o(C,y,T),j===null?O=C:j.sibling=C,j=C);return qe&&co(E,T),O}for(C=r(E,C);T<b.length;T++)I=x(C,E,T,b[T],N),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=o(I,y,T),j===null?O=I:j.sibling=I,j=I);return t&&C.forEach(function(R){return e(E,R)}),qe&&co(E,T),O}function v(E,y,b,N){var O=qa(b);if(typeof O!="function")throw Error(W(150));if(b=O.call(b),b==null)throw Error(W(151));for(var j=O=null,C=y,T=y=0,I=null,P=b.next();C!==null&&!P.done;T++,P=b.next()){C.index>T?(I=C,C=null):I=C.sibling;var R=m(E,C,P.value,N);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(E,C),y=o(R,y,T),j===null?O=R:j.sibling=R,j=R,C=I}if(P.done)return n(E,C),qe&&co(E,T),O;if(C===null){for(;!P.done;T++,P=b.next())P=h(E,P.value,N),P!==null&&(y=o(P,y,T),j===null?O=P:j.sibling=P,j=P);return qe&&co(E,T),O}for(C=r(E,C);!P.done;T++,P=b.next())P=x(C,E,T,P.value,N),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),y=o(P,y,T),j===null?O=P:j.sibling=P,j=P);return t&&C.forEach(function(D){return e(E,D)}),qe&&co(E,T),O}function _(E,y,b,N){if(typeof b=="object"&&b!==null&&b.type===Ei&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pu:e:{for(var O=b.key,j=y;j!==null;){if(j.key===O){if(O=b.type,O===Ei){if(j.tag===7){n(E,j.sibling),y=s(j,b.props.children),y.return=E,E=y;break e}}else if(j.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===gs&&mx(O)===j.type){n(E,j.sibling),y=s(j,b.props),y.ref=Xa(E,j,b),y.return=E,E=y;break e}n(E,j);break}else e(E,j);j=j.sibling}b.type===Ei?(y=Eo(b.props.children,E.mode,N,b.key),y.return=E,E=y):(N=ed(b.type,b.key,b.props,null,E.mode,N),N.ref=Xa(E,y,b),N.return=E,E=N)}return i(E);case _i:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(E,y.sibling),y=s(y,b.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=bp(b,E.mode,N),y.return=E,E=y}return i(E);case gs:return j=b._init,_(E,y,j(b._payload),N)}if(ol(b))return w(E,y,b,N);if(qa(b))return v(E,y,b,N);bu(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(E,y.sibling),y=s(y,b),y.return=E,E=y):(n(E,y),y=Tp(b,E.mode,N),y.return=E,E=y),i(E)):n(E,y)}return _}var Qi=P1(!0),N1=P1(!1),kd=Zs(null),jd=null,Pi=null,Iv=null;function Rv(){Iv=Pi=jd=null}function Av(t){var e=kd.current;He(kd),t._currentValue=e}function Lm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){jd=t,Iv=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Iv!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(jd===null)throw Error(W(308));Pi=t,jd.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var mo=null;function Pv(t){mo===null?mo=[t]:mo.push(t)}function k1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Pv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function Nv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Br(t,n)}return s=r.interleaved,s===null?(e.next=e,Pv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Br(t,n)}function Ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gv(t,n)}}function gx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dd(t,e,n,r){var s=t.updateQueue;vs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,f=c=l=null,a=o;do{var m=a.lane,x=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(m=e,x=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(x,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(x,h,m):w,m==null)break e;h=et({},h,m);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else x={eventTime:x,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=x,l=h):f=f.next=x,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ro|=i,t.lanes=i,t.memoizedState=h}}function vx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var xc={},dr=Zs(xc),Hl=Zs(xc),ql=Zs(xc);function go(t){if(t===xc)throw Error(W(174));return t}function kv(t,e){switch(Ve(ql,e),Ve(Hl,t),Ve(dr,xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vm(e,t)}He(dr),Ve(dr,e)}function Yi(){He(dr),He(Hl),He(ql)}function D1(t){go(ql.current);var e=go(dr.current),n=vm(e,t.type);e!==n&&(Ve(Hl,t),Ve(dr,n))}function jv(t){Hl.current===t&&(He(dr),He(Hl))}var Ye=Zs(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yp=[];function Dv(){for(var t=0;t<yp.length;t++)yp[t]._workInProgressVersionPrimary=null;yp.length=0}var Qu=Xr.ReactCurrentDispatcher,wp=Xr.ReactCurrentBatchConfig,Io=0,Ze=null,dt=null,xt=null,Md=!1,El=!1,Gl=0,Wj=0;function Dt(){throw Error(W(321))}function Ov(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Mv(t,e,n,r,s,o){if(Io=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qu.current=t===null||t.memoizedState===null?Kj:Qj,t=n(r,s),El){o=0;do{if(El=!1,Gl=0,25<=o)throw Error(W(301));o+=1,xt=dt=null,e.updateQueue=null,Qu.current=Yj,t=n(r,s)}while(El)}if(Qu.current=Ld,e=dt!==null&&dt.next!==null,Io=0,xt=dt=Ze=null,Md=!1,e)throw Error(W(300));return t}function Lv(){var t=Gl!==0;return Gl=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=t:xt=xt.next=t,xt}function Rn(){if(dt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=xt===null?Ze.memoizedState:xt.next;if(e!==null)xt=e,dt=t;else{if(t===null)throw Error(W(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},xt===null?Ze.memoizedState=xt=t:xt=xt.next=t}return xt}function Kl(t,e){return typeof e=="function"?e(t):e}function xp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var f=c.lane;if((Io&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ze.lanes|=f,Ro|=f}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Kn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ze.lanes|=o,Ro|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _p(t){var e=Rn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Kn(o,e.memoizedState)||(Xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function O1(){}function M1(t,e){var n=Ze,r=Rn(),s=e(),o=!Kn(r.memoizedState,s);if(o&&(r.memoizedState=s,Xt=!0),r=r.queue,Vv(F1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Ql(9,V1.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(W(349));Io&30||L1(n,e,s)}return s}function L1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V1(t,e,n,r){e.value=n,e.getSnapshot=r,U1(e)&&$1(t)}function F1(t,e,n){return n(function(){U1(e)&&$1(t)})}function U1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function $1(t){var e=Br(t,1);e!==null&&Wn(e,t,1,-1)}function yx(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=Gj.bind(null,Ze,t),[e.memoizedState,t]}function Ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B1(){return Rn().memoizedState}function Yu(t,e,n,r){var s=ar();Ze.flags|=t,s.memoizedState=Ql(1|e,n,void 0,r===void 0?null:r)}function Df(t,e,n,r){var s=Rn();r=r===void 0?null:r;var o=void 0;if(dt!==null){var i=dt.memoizedState;if(o=i.destroy,r!==null&&Ov(r,i.deps)){s.memoizedState=Ql(e,n,o,r);return}}Ze.flags|=t,s.memoizedState=Ql(1|e,n,o,r)}function wx(t,e){return Yu(8390656,8,t,e)}function Vv(t,e){return Df(2048,8,t,e)}function z1(t,e){return Df(4,2,t,e)}function W1(t,e){return Df(4,4,t,e)}function H1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q1(t,e,n){return n=n!=null?n.concat([t]):null,Df(4,4,H1.bind(null,e,t),n)}function Fv(){}function G1(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ov(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function K1(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ov(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q1(t,e,n){return Io&21?(Kn(n,e)||(n=e1(),Ze.lanes|=n,Ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function Hj(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=wp.transition;wp.transition={};try{t(!1),e()}finally{Oe=n,wp.transition=r}}function Y1(){return Rn().memoizedState}function qj(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X1(t))J1(e,n);else if(n=k1(t,e,n,r),n!==null){var s=Wt();Wn(n,t,r,s),Z1(n,e,r)}}function Gj(t,e,n){var r=js(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X1(t))J1(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Kn(a,i)){var l=e.interleaved;l===null?(s.next=s,Pv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=k1(t,e,s,r),n!==null&&(s=Wt(),Wn(n,t,r,s),Z1(n,e,r))}}function X1(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function J1(t,e){El=Md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gv(t,n)}}var Ld={readContext:In,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Kj={readContext:In,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:wx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yu(4194308,4,H1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yu(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qj.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:yx,useDebugValue:Fv,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=yx(!1),e=t[0];return t=Hj.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,s=ar();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),_t===null)throw Error(W(349));Io&30||L1(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,wx(F1.bind(null,r,o,t),[t]),r.flags|=2048,Ql(9,V1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ar(),e=_t.identifierPrefix;if(qe){var n=Dr,r=jr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qj={readContext:In,useCallback:G1,useContext:In,useEffect:Vv,useImperativeHandle:q1,useInsertionEffect:z1,useLayoutEffect:W1,useMemo:K1,useReducer:xp,useRef:B1,useState:function(){return xp(Kl)},useDebugValue:Fv,useDeferredValue:function(t){var e=Rn();return Q1(e,dt.memoizedState,t)},useTransition:function(){var t=xp(Kl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:O1,useSyncExternalStore:M1,useId:Y1,unstable_isNewReconciler:!1},Yj={readContext:In,useCallback:G1,useContext:In,useEffect:Vv,useImperativeHandle:q1,useInsertionEffect:z1,useLayoutEffect:W1,useMemo:K1,useReducer:_p,useRef:B1,useState:function(){return _p(Kl)},useDebugValue:Fv,useDeferredValue:function(t){var e=Rn();return dt===null?e.memoizedState=t:Q1(e,dt.memoizedState,t)},useTransition:function(){var t=_p(Kl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:O1,useSyncExternalStore:M1,useId:Y1,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Of={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),s=js(t),o=Vr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ns(t,o,s),e!==null&&(Wn(e,t,s,r),Ku(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),s=js(t),o=Vr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ns(t,o,s),e!==null&&(Wn(e,t,s,r),Ku(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=js(t),s=Vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(Wn(e,t,r,n),Ku(e,t,r))}};function xx(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!$l(n,r)||!$l(s,o):!0}function eT(t,e,n){var r=!1,s=Us,o=e.contextType;return typeof o=="object"&&o!==null?o=In(o):(s=Zt(e)?bo:Ut.current,r=e.contextTypes,o=(r=r!=null)?Gi(t,s):Us),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Of,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function _x(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Of.enqueueReplaceState(e,e.state,null)}function Fm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Nv(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=In(o):(o=Zt(e)?bo:Ut.current,s.context=Gi(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Vm(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Of.enqueueReplaceState(s,s.state,null),Dd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,e){try{var n="",r=e;do n+=T2(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Xj=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fd||(Fd=!0,Ym=r),Um(t,e)},n}function nT(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Um(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Um(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Ex(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Xj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dD.bind(null,t,e,n),e.then(t,t))}function Sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var Jj=Xr.ReactCurrentOwner,Xt=!1;function zt(t,e,n,r){e.child=t===null?N1(e,null,n,r):Qi(e,t.child,n,r)}function bx(t,e,n,r,s){n=n.render;var o=e.ref;return Li(e,s),r=Mv(t,e,n,r,o,s),n=Lv(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zr(t,e,s)):(qe&&n&&Tv(e),e.flags|=1,zt(t,e,r,s),e.child)}function Cx(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Gv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rT(t,e,o,r,s)):(t=ed(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(i,r)&&t.ref===e.ref)return zr(t,e,s)}return e.flags|=1,t=Ds(o,r),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if($l(o,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,zr(t,e,s)}return $m(t,e,n,r,s)}function sT(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ki,an),an|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(ki,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ve(ki,an),an|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ve(ki,an),an|=r;return zt(t,e,s,n),e.child}function oT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $m(t,e,n,r,s){var o=Zt(n)?bo:Ut.current;return o=Gi(e,o),Li(e,s),n=Mv(t,e,n,r,o,s),r=Lv(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zr(t,e,s)):(qe&&r&&Tv(e),e.flags|=1,zt(t,e,n,s),e.child)}function Ix(t,e,n,r,s){if(Zt(n)){var o=!0;Ad(e)}else o=!1;if(Li(e,s),e.stateNode===null)Xu(t,e),eT(e,n,r),Fm(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=Zt(n)?bo:Ut.current,c=Gi(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_x(e,i,r,c),vs=!1;var m=e.memoizedState;i.state=m,Dd(e,r,i,s),l=e.memoizedState,a!==r||m!==l||Jt.current||vs?(typeof f=="function"&&(Vm(e,n,f,r),l=e.memoizedState),(a=vs||xx(e,n,a,r,m,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,j1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vn(e.type,a),i.props=c,h=e.pendingProps,m=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Zt(n)?bo:Ut.current,l=Gi(e,l));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==l)&&_x(e,i,r,l),vs=!1,m=e.memoizedState,i.state=m,Dd(e,r,i,s);var w=e.memoizedState;a!==h||m!==w||Jt.current||vs?(typeof x=="function"&&(Vm(e,n,x,r),w=e.memoizedState),(c=vs||xx(e,n,c,r,m,w,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),i.props=r,i.state=w,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Bm(t,e,n,r,o,s)}function Bm(t,e,n,r,s,o){oT(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&fx(e,n,!1),zr(t,e,o);r=e.stateNode,Jj.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Qi(e,t.child,null,o),e.child=Qi(e,null,a,o)):zt(t,e,a,o),e.memoizedState=r.state,s&&fx(e,n,!0),e.child}function iT(t){var e=t.stateNode;e.pendingContext?dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dx(t,e.context,!1),kv(t,e.containerInfo)}function Rx(t,e,n,r,s){return Ki(),Cv(s),e.flags|=256,zt(t,e,n,r),e.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function aT(t,e,n){var r=e.pendingProps,s=Ye.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(Ye,s&1),t===null)return Mm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Vf(i,r,0,null),t=Eo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Wm(n),e.memoizedState=zm,t):Uv(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Zj(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ds(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ds(a,o):(o=Eo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?Wm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=zm,r}return o=t.child,t=o.sibling,r=Ds(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uv(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cu(t,e,n,r){return r!==null&&Cv(r),Qi(e,t.child,null,n),t=Uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zj(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Ep(Error(W(422))),Cu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Vf({mode:"visible",children:r.children},s,0,null),o=Eo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qi(e,t.child,null,i),e.child.memoizedState=Wm(i),e.memoizedState=zm,o);if(!(e.mode&1))return Cu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=Ep(o,r,void 0),Cu(t,e,i,r)}if(a=(i&t.childLanes)!==0,Xt||a){if(r=_t,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Br(t,s),Wn(r,t,s,-1))}return qv(),r=Ep(Error(W(421))),Cu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fD.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,cn=Ps(s.nextSibling),un=e,qe=!0,Un=null,t!==null&&(wn[xn++]=jr,wn[xn++]=Dr,wn[xn++]=Co,jr=t.id,Dr=t.overflow,Co=e),e=Uv(e,r.children),e.flags|=4096,e)}function Ax(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lm(t.return,e,n)}function Sp(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function lT(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ax(t,n,e);else if(t.tag===19)Ax(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sp(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Od(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sp(e,!0,n,null,o);break;case"together":Sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eD(t,e,n){switch(e.tag){case 3:iT(e),Ki();break;case 5:D1(e);break;case 1:Zt(e.type)&&Ad(e);break;case 4:kv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(kd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(Ve(Ye,Ye.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Ve(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,sT(t,e,n)}return zr(t,e,n)}var cT,Hm,uT,dT;cT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};uT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,go(dr.current);var o=null;switch(n){case"input":s=hm(t,s),r=hm(t,r),o=[];break;case"select":s=et({},s,{value:void 0}),r=et({},r,{value:void 0}),o=[];break;case"textarea":s=gm(t,s),r=gm(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Id)}ym(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};dT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ja(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tD(t,e,n){var r=e.pendingProps;switch(bv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return Zt(e.type)&&Rd(),Ot(e),null;case 3:return r=e.stateNode,Yi(),He(Jt),He(Ut),Dv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(Zm(Un),Un=null))),Hm(t,e),Ot(e),null;case 5:jv(e);var s=go(ql.current);if(n=e.type,t!==null&&e.stateNode!=null)uT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ot(e),null}if(t=go(dr.current),Tu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[lr]=e,r[Wl]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)ze(al[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":V0(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":U0(r,o),ze("invalid",r)}ym(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",""+a]):Dl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":mu(r),F0(r,o,!0);break;case"textarea":mu(r),$0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Id)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[lr]=e,t[Wl]=r,cT(t,e,!1,!1),e.stateNode=t;e:{switch(i=wm(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<al.length;s++)ze(al[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":V0(t,r),s=hm(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":U0(t,r),s=gm(t,r),ze("invalid",t);break;default:s=r}ym(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?BS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&US(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ol(t,l):typeof l=="number"&&Ol(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Dl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",t):l!=null&&uv(t,o,l,i))}switch(n){case"input":mu(t),F0(t,r,!1);break;case"textarea":mu(t),$0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ji(t,!!r.multiple,o,!1):r.defaultValue!=null&&ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)dT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=go(ql.current),go(dr.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(o=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Ot(e),null;case 13:if(He(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&cn!==null&&e.mode&1&&!(e.flags&128))A1(),Ki(),e.flags|=98560,o=!1;else if(o=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[lr]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else Un!==null&&(Zm(Un),Un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?ht===0&&(ht=3):qv())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Yi(),Hm(t,e),t===null&&Bl(e.stateNode.containerInfo),Ot(e),null;case 10:return Av(e.type._context),Ot(e),null;case 17:return Zt(e.type)&&Rd(),Ot(e),null;case 19:if(He(Ye),o=e.memoizedState,o===null)return Ot(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Ja(o,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Od(t),i!==null){for(e.flags|=128,Ja(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&ot()>Ji&&(e.flags|=128,r=!0,Ja(o,!1),e.lanes=4194304)}else{if(!r)if(t=Od(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ja(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qe)return Ot(e),null}else 2*ot()-o.renderingStartTime>Ji&&n!==1073741824&&(e.flags|=128,r=!0,Ja(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ot(),e.sibling=null,n=Ye.current,Ve(Ye,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Hv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function nD(t,e){switch(bv(e),e.tag){case 1:return Zt(e.type)&&Rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yi(),He(Jt),He(Ut),Dv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jv(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return Yi(),null;case 10:return Av(e.type._context),null;case 22:case 23:return Hv(),null;case 24:return null;default:return null}}var Iu=!1,Vt=!1,rD=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function qm(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Px=!1;function sD(t,e){if(Am=Td,t=g1(),Sv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var x;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===t)break t;if(m===n&&++c===s&&(a=i),m===o&&++f===r&&(l=i),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pm={focusedElem:t,selectionRange:n},Td=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:Vn(e.type,v),_);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){rt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=Px,Px=!1,w}function Sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&qm(e,n,o)}s=s.next}while(s!==r)}}function Mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fT(t){var e=t.alternate;e!==null&&(t.alternate=null,fT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Wl],delete e[jm],delete e[Uj],delete e[$j])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hT(t){return t.tag===5||t.tag===3||t.tag===4}function Nx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Id));else if(r!==4&&(t=t.child,t!==null))for(Km(t,e,n),t=t.sibling;t!==null;)Km(t,e,n),t=t.sibling}function Qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qm(t,e,n),t=t.sibling;t!==null;)Qm(t,e,n),t=t.sibling}var bt=null,Fn=!1;function us(t,e,n){for(n=n.child;n!==null;)pT(t,e,n),n=n.sibling}function pT(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Rf,n)}catch{}switch(n.tag){case 5:Vt||Ni(n,e);case 6:var r=bt,s=Fn;bt=null,us(t,e,n),bt=r,Fn=s,bt!==null&&(Fn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Fn?(t=bt,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),Fl(t)):gp(bt,n.stateNode));break;case 4:r=bt,s=Fn,bt=n.stateNode.containerInfo,Fn=!0,us(t,e,n),bt=r,Fn=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&qm(n,e,i),s=s.next}while(s!==r)}us(t,e,n);break;case 1:if(!Vt&&(Ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}us(t,e,n);break;case 21:us(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,us(t,e,n),Vt=r):us(t,e,n);break;default:us(t,e,n)}}function kx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rD),e.forEach(function(r){var s=hD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Fn=!1;break e;case 3:bt=a.stateNode.containerInfo,Fn=!0;break e;case 4:bt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(bt===null)throw Error(W(160));pT(o,i,s),bt=null,Fn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mT(e,t),e=e.sibling}function mT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),ir(t),r&4){try{Sl(3,t,t.return),Mf(3,t)}catch(v){rt(t,t.return,v)}try{Sl(5,t,t.return)}catch(v){rt(t,t.return,v)}}break;case 1:Mn(e,t),ir(t),r&512&&n!==null&&Ni(n,n.return);break;case 5:if(Mn(e,t),ir(t),r&512&&n!==null&&Ni(n,n.return),t.flags&32){var s=t.stateNode;try{Ol(s,"")}catch(v){rt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LS(s,o),wm(a,i);var c=wm(a,o);for(i=0;i<l.length;i+=2){var f=l[i],h=l[i+1];f==="style"?BS(s,h):f==="dangerouslySetInnerHTML"?US(s,h):f==="children"?Ol(s,h):uv(s,f,h,c)}switch(a){case"input":pm(s,o);break;case"textarea":VS(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?ji(s,!!o.multiple,x,!1):m!==!!o.multiple&&(o.defaultValue!=null?ji(s,!!o.multiple,o.defaultValue,!0):ji(s,!!o.multiple,o.multiple?[]:"",!1))}s[Wl]=o}catch(v){rt(t,t.return,v)}}break;case 6:if(Mn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){rt(t,t.return,v)}}break;case 3:if(Mn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(v){rt(t,t.return,v)}break;case 4:Mn(e,t),ir(t);break;case 13:Mn(e,t),ir(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(zv=ot())),r&4&&kx(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||f,Mn(e,t),Vt=c):Mn(e,t),ir(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Z=t,f=t.child;f!==null;){for(h=Z=f;Z!==null;){switch(m=Z,x=m.child,m.tag){case 0:case 11:case 14:case 15:Sl(4,m,m.return);break;case 1:Ni(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){rt(r,n,v)}}break;case 5:Ni(m,m.return);break;case 22:if(m.memoizedState!==null){Dx(h);continue}}x!==null?(x.return=m,Z=x):Dx(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$S("display",i))}catch(v){rt(t,t.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){rt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),ir(t),r&4&&kx(t);break;case 21:break;default:Mn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hT(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ol(s,""),r.flags&=-33);var o=Nx(t);Qm(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Nx(t);Km(t,a,i);break;default:throw Error(W(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oD(t,e,n){Z=t,gT(t)}function gT(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Iu;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Iu;var c=Vt;if(Iu=i,(Vt=l)&&!c)for(Z=s;Z!==null;)i=Z,l=i.child,i.tag===22&&i.memoizedState!==null?Ox(s):l!==null?(l.return=i,Z=l):Ox(s);for(;o!==null;)Z=o,gT(o),o=o.sibling;Z=s,Iu=a,Vt=c}jx(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Z=o):jx(t)}}function jx(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Mf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vx(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vx(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Vt||e.flags&512&&Gm(e)}catch(m){rt(e,e.return,m)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Dx(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Ox(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mf(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var o=e.return;try{Gm(e)}catch(l){rt(e,o,l)}break;case 5:var i=e.return;try{Gm(e)}catch(l){rt(e,i,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var iD=Math.ceil,Vd=Xr.ReactCurrentDispatcher,$v=Xr.ReactCurrentOwner,Tn=Xr.ReactCurrentBatchConfig,Pe=0,_t=null,lt=null,Rt=0,an=0,ki=Zs(0),ht=0,Yl=null,Ro=0,Lf=0,Bv=0,Tl=null,Yt=null,zv=0,Ji=1/0,Pr=null,Fd=!1,Ym=null,ks=null,Ru=!1,Ts=null,Ud=0,bl=0,Xm=null,Ju=-1,Zu=0;function Wt(){return Pe&6?ot():Ju!==-1?Ju:Ju=ot()}function js(t){return t.mode&1?Pe&2&&Rt!==0?Rt&-Rt:zj.transition!==null?(Zu===0&&(Zu=e1()),Zu):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:a1(t.type)),t):1}function Wn(t,e,n,r){if(50<bl)throw bl=0,Xm=null,Error(W(185));vc(t,n,r),(!(Pe&2)||t!==_t)&&(t===_t&&(!(Pe&2)&&(Lf|=n),ht===4&&ws(t,Rt)),en(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ji=ot()+500,jf&&eo()))}function en(t,e){var n=t.callbackNode;z2(t,e);var r=Sd(t,t===_t?Rt:0);if(r===0)n!==null&&W0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&W0(n),e===1)t.tag===0?Bj(Mx.bind(null,t)):C1(Mx.bind(null,t)),Vj(function(){!(Pe&6)&&eo()}),n=null;else{switch(t1(r)){case 1:n=mv;break;case 4:n=JS;break;case 16:n=Ed;break;case 536870912:n=ZS;break;default:n=Ed}n=TT(n,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vT(t,e){if(Ju=-1,Zu=0,Pe&6)throw Error(W(327));var n=t.callbackNode;if(Vi()&&t.callbackNode!==n)return null;var r=Sd(t,t===_t?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$d(t,r);else{e=r;var s=Pe;Pe|=2;var o=wT();(_t!==t||Rt!==e)&&(Pr=null,Ji=ot()+500,_o(t,e));do try{cD();break}catch(a){yT(t,a)}while(!0);Rv(),Vd.current=o,Pe=s,lt!==null?e=0:(_t=null,Rt=0,e=ht)}if(e!==0){if(e===2&&(s=Tm(t),s!==0&&(r=s,e=Jm(t,s))),e===1)throw n=Yl,_o(t,0),ws(t,r),en(t,ot()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!aD(s)&&(e=$d(t,r),e===2&&(o=Tm(t),o!==0&&(r=o,e=Jm(t,o))),e===1))throw n=Yl,_o(t,0),ws(t,r),en(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:uo(t,Yt,Pr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=zv+500-ot(),10<e)){if(Sd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=km(uo.bind(null,t,Yt,Pr),e);break}uo(t,Yt,Pr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-zn(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iD(r/1960))-r,10<r){t.timeoutHandle=km(uo.bind(null,t,Yt,Pr),r);break}uo(t,Yt,Pr);break;case 5:uo(t,Yt,Pr);break;default:throw Error(W(329))}}}return en(t,ot()),t.callbackNode===n?vT.bind(null,t):null}function Jm(t,e){var n=Tl;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=$d(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Zm(e)),t}function Zm(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function aD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Kn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~Bv,e&=~Lf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Mx(t){if(Pe&6)throw Error(W(327));Vi();var e=Sd(t,0);if(!(e&1))return en(t,ot()),null;var n=$d(t,e);if(t.tag!==0&&n===2){var r=Tm(t);r!==0&&(e=r,n=Jm(t,r))}if(n===1)throw n=Yl,_o(t,0),ws(t,e),en(t,ot()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uo(t,Yt,Pr),en(t,ot()),null}function Wv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ji=ot()+500,jf&&eo())}}function Ao(t){Ts!==null&&Ts.tag===0&&!(Pe&6)&&Vi();var e=Pe;Pe|=1;var n=Tn.transition,r=Oe;try{if(Tn.transition=null,Oe=1,t)return t()}finally{Oe=r,Tn.transition=n,Pe=e,!(Pe&6)&&eo()}}function Hv(){an=ki.current,He(ki)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lj(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(bv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rd();break;case 3:Yi(),He(Jt),He(Ut),Dv();break;case 5:jv(r);break;case 4:Yi();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:Av(r.type._context);break;case 22:case 23:Hv()}n=n.return}if(_t=t,lt=t=Ds(t.current,null),Rt=an=e,ht=0,Yl=null,Bv=Lf=Ro=0,Yt=Tl=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}mo=null}return t}function yT(t,e){do{var n=lt;try{if(Rv(),Qu.current=Ld,Md){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Md=!1}if(Io=0,xt=dt=Ze=null,El=!1,Gl=0,$v.current=null,n===null||n.return===null){ht=1,Yl=e,lt=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Sx(i);if(x!==null){x.flags&=-257,Tx(x,i,a,o,e),x.mode&1&&Ex(o,c,e),e=x,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Ex(o,c,e),qv();break e}l=Error(W(426))}}else if(qe&&a.mode&1){var _=Sx(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Tx(_,i,a,o,e),Cv(Xi(l,a));break e}}o=l=Xi(l,a),ht!==4&&(ht=2),Tl===null?Tl=[o]:Tl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=tT(o,l,e);gx(o,E);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=nT(o,a,e);gx(o,N);break e}}o=o.return}while(o!==null)}_T(n)}catch(O){e=O,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function wT(){var t=Vd.current;return Vd.current=Ld,t===null?Ld:t}function qv(){(ht===0||ht===3||ht===2)&&(ht=4),_t===null||!(Ro&268435455)&&!(Lf&268435455)||ws(_t,Rt)}function $d(t,e){var n=Pe;Pe|=2;var r=wT();(_t!==t||Rt!==e)&&(Pr=null,_o(t,e));do try{lD();break}catch(s){yT(t,s)}while(!0);if(Rv(),Pe=n,Vd.current=r,lt!==null)throw Error(W(261));return _t=null,Rt=0,ht}function lD(){for(;lt!==null;)xT(lt)}function cD(){for(;lt!==null&&!D2();)xT(lt)}function xT(t){var e=ST(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?_T(t):lt=e,$v.current=null}function _T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nD(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,lt=null;return}}else if(n=tD(n,e,an),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ht===0&&(ht=5)}function uo(t,e,n){var r=Oe,s=Tn.transition;try{Tn.transition=null,Oe=1,uD(t,e,n,r)}finally{Tn.transition=s,Oe=r}return null}function uD(t,e,n,r){do Vi();while(Ts!==null);if(Pe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(W2(t,o),t===_t&&(lt=_t=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,TT(Ed,function(){return Vi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tn.transition,Tn.transition=null;var i=Oe;Oe=1;var a=Pe;Pe|=4,$v.current=null,sD(t,n),mT(n,t),Pj(Pm),Td=!!Am,Pm=Am=null,t.current=n,oD(n),O2(),Pe=a,Oe=i,Tn.transition=o}else t.current=n;if(Ru&&(Ru=!1,Ts=t,Ud=s),o=t.pendingLanes,o===0&&(ks=null),V2(n.stateNode),en(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fd)throw Fd=!1,t=Ym,Ym=null,t;return Ud&1&&t.tag!==0&&Vi(),o=t.pendingLanes,o&1?t===Xm?bl++:(bl=0,Xm=t):bl=0,eo(),null}function Vi(){if(Ts!==null){var t=t1(Ud),e=Tn.transition,n=Oe;try{if(Tn.transition=null,Oe=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Ud=0,Pe&6)throw Error(W(331));var s=Pe;for(Pe|=4,Z=t.current;Z!==null;){var o=Z,i=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var f=Z;switch(f.tag){case 0:case 11:case 15:Sl(8,f,o)}var h=f.child;if(h!==null)h.return=f,Z=h;else for(;Z!==null;){f=Z;var m=f.sibling,x=f.return;if(fT(f),f===c){Z=null;break}if(m!==null){m.return=x,Z=m;break}Z=x}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Z=i;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sl(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,Z=E;break e}Z=o.return}}var y=t.current;for(Z=y;Z!==null;){i=Z;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Z=b;else e:for(i=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mf(9,a)}}catch(O){rt(a,a.return,O)}if(a===i){Z=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Z=N;break e}Z=a.return}}if(Pe=s,eo(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Rf,t)}catch{}r=!0}return r}finally{Oe=n,Tn.transition=e}}return!1}function Lx(t,e,n){e=Xi(n,e),e=tT(t,e,1),t=Ns(t,e,1),e=Wt(),t!==null&&(vc(t,1,e),en(t,e))}function rt(t,e,n){if(t.tag===3)Lx(t,t,n);else for(;e!==null;){if(e.tag===3){Lx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Xi(n,t),t=nT(e,t,1),e=Ns(e,t,1),t=Wt(),e!==null&&(vc(e,1,t),en(e,t));break}}e=e.return}}function dD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Rt&n)===n&&(ht===4||ht===3&&(Rt&130023424)===Rt&&500>ot()-zv?_o(t,0):Bv|=n),en(t,e)}function ET(t,e){e===0&&(t.mode&1?(e=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):e=1);var n=Wt();t=Br(t,e),t!==null&&(vc(t,e,n),en(t,n))}function fD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ET(t,n)}function hD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),ET(t,n)}var ST;ST=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,eD(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,qe&&e.flags&1048576&&I1(e,Nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xu(t,e),t=e.pendingProps;var s=Gi(e,Ut.current);Li(e,n),s=Mv(null,e,r,t,s,n);var o=Lv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(o=!0,Ad(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nv(e),s.updater=Of,e.stateNode=s,s._reactInternals=e,Fm(e,r,t,n),e=Bm(null,e,r,!0,o,n)):(e.tag=0,qe&&o&&Tv(e),zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mD(r),t=Vn(r,t),s){case 0:e=$m(null,e,r,t,n);break e;case 1:e=Ix(null,e,r,t,n);break e;case 11:e=bx(null,e,r,t,n);break e;case 14:e=Cx(null,e,r,Vn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),$m(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Ix(t,e,r,s,n);case 3:e:{if(iT(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,s=o.element,j1(t,e),Dd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Xi(Error(W(423)),e),e=Rx(t,e,r,n,s);break e}else if(r!==s){s=Xi(Error(W(424)),e),e=Rx(t,e,r,n,s);break e}else for(cn=Ps(e.stateNode.containerInfo.firstChild),un=e,qe=!0,Un=null,n=N1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ki(),r===s){e=zr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return D1(e),t===null&&Mm(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Nm(r,s)?i=null:o!==null&&Nm(r,o)&&(e.flags|=32),oT(t,e),zt(t,e,i,n),e.child;case 6:return t===null&&Mm(e),null;case 13:return aT(t,e,n);case 4:return kv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qi(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),bx(t,e,r,s,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Ve(kd,r._currentValue),r._currentValue=i,o!==null)if(Kn(o.value,i)){if(o.children===s.children&&!Jt.current){e=zr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lm(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lm(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Li(e,n),s=In(s),r=r(s),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,s=Vn(r,e.pendingProps),s=Vn(r.type,s),Cx(t,e,r,s,n);case 15:return rT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Xu(t,e),e.tag=1,Zt(r)?(t=!0,Ad(e)):t=!1,Li(e,n),eT(e,r,s),Fm(e,r,s,n),Bm(null,e,r,!0,t,n);case 19:return lT(t,e,n);case 22:return sT(t,e,n)}throw Error(W(156,e.tag))};function TT(t,e){return XS(t,e)}function pD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new pD(t,e,n,r)}function Gv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mD(t){if(typeof t=="function")return Gv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fv)return 11;if(t===hv)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ed(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")Gv(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ei:return Eo(n.children,s,o,e);case dv:i=8,s|=8;break;case cm:return t=En(12,n,e,s|2),t.elementType=cm,t.lanes=o,t;case um:return t=En(13,n,e,s),t.elementType=um,t.lanes=o,t;case dm:return t=En(19,n,e,s),t.elementType=dm,t.lanes=o,t;case DS:return Vf(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kS:i=10;break e;case jS:i=9;break e;case fv:i=11;break e;case hv:i=14;break e;case gs:i=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=En(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Eo(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=En(22,t,r,e),t.elementType=DS,t.lanes=n,t.stateNode={isHidden:!1},t}function Tp(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function bp(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kv(t,e,n,r,s,o,i,a,l){return t=new gD(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=En(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(o),t}function vD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bT(t){if(!t)return Us;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Zt(n))return b1(t,n,e)}return e}function CT(t,e,n,r,s,o,i,a,l){return t=Kv(n,r,!0,t,s,o,i,a,l),t.context=bT(null),n=t.current,r=Wt(),s=js(n),o=Vr(r,s),o.callback=e??null,Ns(n,o,s),t.current.lanes=s,vc(t,s,r),en(t,r),t}function Ff(t,e,n,r){var s=e.current,o=Wt(),i=js(s);return n=bT(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,i),t!==null&&(Wn(t,s,i,o),Ku(t,s,i)),i}function Bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qv(t,e){Vx(t,e),(t=t.alternate)&&Vx(t,e)}function yD(){return null}var IT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yv(t){this._internalRoot=t}Uf.prototype.render=Yv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Ff(t,e,null,null)};Uf.prototype.unmount=Yv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ao(function(){Ff(null,t,null,null)}),e[$r]=null}};function Uf(t){this._internalRoot=t}Uf.prototype.unstable_scheduleHydration=function(t){if(t){var e=s1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&i1(t)}};function Xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fx(){}function wD(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Bd(i);o.call(c)}}var i=CT(e,r,t,0,null,!1,!1,"",Fx);return t._reactRootContainer=i,t[$r]=i.current,Bl(t.nodeType===8?t.parentNode:t),Ao(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Bd(l);a.call(c)}}var l=Kv(t,0,!1,null,null,!1,!1,"",Fx);return t._reactRootContainer=l,t[$r]=l.current,Bl(t.nodeType===8?t.parentNode:t),Ao(function(){Ff(e,l,n,r)}),l}function Bf(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Bd(i);a.call(l)}}Ff(e,i,t,s)}else i=wD(n,e,t,s,r);return Bd(i)}n1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=il(e.pendingLanes);n!==0&&(gv(e,n|1),en(e,ot()),!(Pe&6)&&(Ji=ot()+500,eo()))}break;case 13:Ao(function(){var r=Br(t,1);if(r!==null){var s=Wt();Wn(r,t,1,s)}}),Qv(t,1)}};vv=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Wt();Wn(e,t,134217728,n)}Qv(t,134217728)}};r1=function(t){if(t.tag===13){var e=js(t),n=Br(t,e);if(n!==null){var r=Wt();Wn(n,t,e,r)}Qv(t,e)}};s1=function(){return Oe};o1=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};_m=function(t,e,n){switch(e){case"input":if(pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=kf(r);if(!s)throw Error(W(90));MS(r),pm(r,s)}}}break;case"textarea":VS(t,n);break;case"select":e=n.value,e!=null&&ji(t,!!n.multiple,e,!1)}};HS=Wv;qS=Ao;var xD={usingClientEntryPoint:!1,Events:[wc,Ci,kf,zS,WS,Wv]},Za={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_D={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QS(t),t===null?null:t.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||yD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Rf=Au.inject(_D),ur=Au}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xD;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xv(e))throw Error(W(200));return vD(t,e,null,n)};gn.createRoot=function(t,e){if(!Xv(t))throw Error(W(299));var n=!1,r="",s=IT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kv(t,1,!1,null,null,n,!1,r,s),t[$r]=e.current,Bl(t.nodeType===8?t.parentNode:t),new Yv(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=QS(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Ao(t)};gn.hydrate=function(t,e,n){if(!$f(e))throw Error(W(200));return Bf(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Xv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=IT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=CT(e,null,t,1,n??null,s,!1,o,i),t[$r]=e.current,Bl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Uf(e)};gn.render=function(t,e,n){if(!$f(e))throw Error(W(200));return Bf(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!$f(t))throw Error(W(40));return t._reactRootContainer?(Ao(function(){Bf(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};gn.unstable_batchedUpdates=Wv;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$f(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Bf(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function RT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RT)}catch(t){console.error(t)}}RT(),RS.exports=gn;var zo=RS.exports;const ED=mS(zo);var AT,Ux=zo;AT=Ux.createRoot,Ux.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const $x="popstate";function SD(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return eg("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:zd(s)}return bD(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TD(){return Math.random().toString(36).substr(2,8)}function Bx(t,e){return{usr:t.state,key:t.key,idx:e}}function eg(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||TD()})}function zd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=bs.Pop,l=null,c=f();c==null&&(c=0,i.replaceState(Xl({},i.state,{idx:c}),""));function f(){return(i.state||{idx:null}).idx}function h(){a=bs.Pop;let _=f(),E=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:E})}function m(_,E){a=bs.Push;let y=eg(v.location,_,E);c=f()+1;let b=Bx(y,c),N=v.createHref(y);try{i.pushState(b,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}o&&l&&l({action:a,location:v.location,delta:1})}function x(_,E){a=bs.Replace;let y=eg(v.location,_,E);c=f();let b=Bx(y,c),N=v.createHref(y);i.replaceState(b,"",N),o&&l&&l({action:a,location:v.location,delta:0})}function w(_){let E=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:zd(_);return y=y.replace(/ $/,"%20"),it(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let v={get action(){return a},get location(){return t(s,i)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($x,h),l=_,()=>{s.removeEventListener($x,h),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let E=w(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:x,go(_){return i.go(_)}};return v}var zx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zx||(zx={}));function CD(t,e,n){return n===void 0&&(n="/"),ID(t,e,n,!1)}function ID(t,e,n,r){let s=typeof e=="string"?da(e):e,o=Jv(s.pathname||"/",n);if(o==null)return null;let i=NT(t);RD(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=FD(o);a=LD(i[l],c,r)}return a}function NT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Os([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(it(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),NT(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:OD(c,o.index),routesMeta:f})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of kT(o.path))s(o,i,l)}),e}function kT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=kT(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AD=/^:[\w-]+$/,PD=3,ND=2,kD=1,jD=10,DD=-2,Wx=t=>t==="*";function OD(t,e){let n=t.split("/"),r=n.length;return n.some(Wx)&&(r+=DD),e&&(r+=ND),n.filter(s=>!Wx(s)).reduce((s,o)=>s+(AD.test(o)?PD:o===""?kD:jD),r)}function MD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function LD(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=Hx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Hx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Os([o,h.pathname]),pathnameBase:zD(Os([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=Os([o,h.pathnameBase]))}return i}function Hx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:x}=f;if(m==="*"){let v=a[h]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return x&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function VD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function FD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?da(t):t;return{pathname:n?n.startsWith("/")?n:$D(n,e):e,search:WD(r),hash:HD(s)}}function $D(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zv(t,e){let n=BD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ey(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=da(t):(s=Xl({},t),it(!s.pathname||!s.pathname.includes("?"),Cp("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Cp("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Cp("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=UD(s,a),c=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),zD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jT=["post","put","patch","delete"];new Set(jT);const GD=["get",...jT];new Set(GD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}const ty=p.createContext(null),KD=p.createContext(null),to=p.createContext(null),zf=p.createContext(null),Jr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),DT=p.createContext(null);function QD(t,e){let{relative:n}=e===void 0?{}:e;fa()||it(!1);let{basename:r,navigator:s}=p.useContext(to),{hash:o,pathname:i,search:a}=MT(t,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Os([r,i])),s.createHref({pathname:l,search:a,hash:o})}function fa(){return p.useContext(zf)!=null}function _c(){return fa()||it(!1),p.useContext(zf).location}function OT(t){p.useContext(to).static||p.useLayoutEffect(t)}function ha(){let{isDataRoute:t}=p.useContext(Jr);return t?lO():YD()}function YD(){fa()||it(!1);let t=p.useContext(ty),{basename:e,future:n,navigator:r}=p.useContext(to),{matches:s}=p.useContext(Jr),{pathname:o}=_c(),i=JSON.stringify(Zv(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return OT(()=>{a.current=!0}),p.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=ey(c,JSON.parse(i),o,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Os([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,i,o,t])}function Wo(){let{matches:t}=p.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function MT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(to),{matches:s}=p.useContext(Jr),{pathname:o}=_c(),i=JSON.stringify(Zv(s,r.v7_relativeSplatPath));return p.useMemo(()=>ey(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function XD(t,e){return JD(t,e)}function JD(t,e,n,r){fa()||it(!1);let{navigator:s}=p.useContext(to),{matches:o}=p.useContext(Jr),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=_c(),f;if(e){var h;let _=typeof e=="string"?da(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||it(!1),f=_}else f=c;let m=f.pathname||"/",x=m;if(l!=="/"){let _=l.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=CD(t,{pathname:x}),v=rO(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Os([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Os([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&v?p.createElement(zf.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:bs.Pop}},v):v}function ZD(){let t=aO(),e=qD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const eO=p.createElement(ZD,null);class tO extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Jr.Provider,{value:this.props.routeContext},p.createElement(DT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nO(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(ty);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Jr.Provider,{value:e},r)}function rO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||it(!1),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:x}=n,w=h.route.loader&&m[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let x,w=!1,v=null,_=null;n&&(x=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||eO,l&&(c<0&&m===0?(w=!0,_=null):c===m&&(w=!0,_=h.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,m+1)),y=()=>{let b;return x?b=v:w?b=_:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,p.createElement(nO,{match:h,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(tO,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var LT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LT||{}),Wd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wd||{});function sO(t){let e=p.useContext(ty);return e||it(!1),e}function oO(t){let e=p.useContext(KD);return e||it(!1),e}function iO(t){let e=p.useContext(Jr);return e||it(!1),e}function VT(t){let e=iO(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function aO(){var t;let e=p.useContext(DT),n=oO(Wd.UseRouteError),r=VT(Wd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lO(){let{router:t}=sO(LT.UseNavigateStable),e=VT(Wd.UseNavigateStable),n=p.useRef(!1);return OT(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jl({fromRouteId:e},o)))},[t,e])}function cO(t){let{to:e,replace:n,state:r,relative:s}=t;fa()||it(!1);let{future:o,static:i}=p.useContext(to),{matches:a}=p.useContext(Jr),{pathname:l}=_c(),c=ha(),f=ey(e,Zv(a,o.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(f);return p.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Qe(t){it(!1)}function uO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bs.Pop,navigator:o,static:i=!1,future:a}=t;fa()&&it(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:o,static:i,future:Jl({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=da(r));let{pathname:f="/",search:h="",hash:m="",state:x=null,key:w="default"}=r,v=p.useMemo(()=>{let _=Jv(f,l);return _==null?null:{location:{pathname:_,search:h,hash:m,state:x,key:w},navigationType:s}},[l,f,h,m,x,w,s]);return v==null?null:p.createElement(to.Provider,{value:c},p.createElement(zf.Provider,{children:n,value:v}))}function dO(t){let{children:e,location:n}=t;return XD(tg(e),n)}new Promise(()=>{});function tg(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let o=[...e,s];if(r.type===p.Fragment){n.push.apply(n,tg(r.props.children,o));return}r.type!==Qe&&it(!1),!r.props.index||!r.props.children||it(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=tg(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function fO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function hO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pO(t,e){return t.button===0&&(!e||e==="_self")&&!hO(t)}const mO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gO="6";try{window.__reactRouterVersion=gO}catch{}const vO="startTransition",qx=CS[vO];function yO(t){let{basename:e,children:n,future:r,window:s}=t,o=p.useRef();o.current==null&&(o.current=SD({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},f=p.useCallback(h=>{c&&qx?qx(()=>l(h)):l(h)},[l,c]);return p.useLayoutEffect(()=>i.listen(f),[i,f]),p.createElement(uO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const wO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h}=e,m=fO(e,mO),{basename:x}=p.useContext(to),w,v=!1;if(typeof c=="string"&&xO.test(c)&&(w=c,wO))try{let b=new URL(window.location.href),N=c.startsWith("//")?new URL(b.protocol+c):new URL(c),O=Jv(N.pathname,x);N.origin===b.origin&&O!=null?c=O+N.search+N.hash:v=!0}catch{}let _=QD(c,{relative:s}),E=_O(c,{replace:i,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||E(b)}return p.createElement("a",ng({},m,{href:w||_,onClick:v||o?r:y,ref:n,target:l}))});var Gx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gx||(Gx={}));var Kx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kx||(Kx={}));function _O(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=e===void 0?{}:e,l=ha(),c=_c(),f=MT(t,{relative:i});return p.useCallback(h=>{if(pO(h,n)){h.preventDefault();let m=r!==void 0?r:zd(c)===zd(f);l(t,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,f,r,s,n,t,o,i,a])}var Qx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let m=(a&15)<<2|c>>6,x=c&63;l||(x=64,i||(m=64)),r.push(n[f],n[h],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||h==null)throw new SO;const m=o<<2|a>>4;if(r.push(m),c!==64){const x=a<<4&240|c>>2;if(r.push(x),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TO=function(t){const e=FT(t);return UT.encodeByteArray(e,!0)},Hd=function(t){return TO(t).replace(/\./g,"")},$T=function(t){try{return UT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=()=>bO().__FIREBASE_DEFAULTS__,IO=()=>{if(typeof process>"u"||typeof Qx>"u")return;const t=Qx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$T(t[1]);return e&&JSON.parse(e)},Wf=()=>{try{return CO()||IO()||RO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BT=t=>{var e,n;return(n=(e=Wf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AO=t=>{const e=BT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zT=()=>{var t;return(t=Wf())===null||t===void 0?void 0:t.config},WT=t=>{var e;return(e=Wf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hd(JSON.stringify(n)),Hd(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function jO(){var t;const e=(t=Wf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MO(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LO(){return!jO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function GT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function VO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FO,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?UO(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new tr(s,a,r)}}function UO(t,e){return t.replace($O,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $O=/\{\$([^}]+)}/g;function BO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(Yx(o)&&Yx(i)){if(!Zl(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zO(t,e){const n=new WO(t,e);return n.subscribe.bind(n)}class WO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ip),s.error===void 0&&(s.error=Ip),s.complete===void 0&&(s.complete=Ip);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=1e3,GO=2,KO=4*60*60*1e3,QO=.5;function Xx(t,e=qO,n=GO){const r=e*Math.pow(n,t),s=Math.round(QO*r*(Math.random()-.5)*2);return Math.min(KO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JO(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XO(t){return t===fo?void 0:t}function JO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const eM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},tM=Te.INFO,nM={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},rM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hf{constructor(e){this.name=e,this._logLevel=tM,this._logHandler=rM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const sM=(t,e)=>e.some(n=>t instanceof n);let Jx,Zx;function oM(){return Jx||(Jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iM(){return Zx||(Zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,rg=new WeakMap,QT=new WeakMap,Rp=new WeakMap,ny=new WeakMap;function aM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Ms(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&KT.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function lM(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cM(t){sg=t(sg)}function uM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return QT.set(r,e.sort?e.sort():[e]),Ms(r)}:iM().includes(t)?function(...e){return t.apply(Ap(this),e),Ms(KT.get(this))}:function(...e){return Ms(t.apply(Ap(this),e))}}function dM(t){return typeof t=="function"?uM(t):(t instanceof IDBTransaction&&lM(t),sM(t,oM())?new Proxy(t,sg):t)}function Ms(t){if(t instanceof IDBRequest)return aM(t);if(Rp.has(t))return Rp.get(t);const e=dM(t);return e!==t&&(Rp.set(t,e),ny.set(e,t)),e}const Ap=t=>ny.get(t);function YT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Ms(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Ms(i.result),l.oldVersion,l.newVersion,Ms(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fM=["get","getKey","getAll","getAllKeys","count"],hM=["put","add","delete","clear"],Pp=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pp.get(e))return Pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fM.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Pp.set(e,o),o}cM(t=>({...t,get:(e,n,r)=>e_(e,n)||t.get(e,n,r),has:(e,n)=>!!e_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",t_="0.10.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Hf("@firebase/app"),gM="@firebase/app-compat",vM="@firebase/analytics-compat",yM="@firebase/analytics",wM="@firebase/app-check-compat",xM="@firebase/app-check",_M="@firebase/auth",EM="@firebase/auth-compat",SM="@firebase/database",TM="@firebase/data-connect",bM="@firebase/database-compat",CM="@firebase/functions",IM="@firebase/functions-compat",RM="@firebase/installations",AM="@firebase/installations-compat",PM="@firebase/messaging",NM="@firebase/messaging-compat",kM="@firebase/performance",jM="@firebase/performance-compat",DM="@firebase/remote-config",OM="@firebase/remote-config-compat",MM="@firebase/storage",LM="@firebase/storage-compat",VM="@firebase/firestore",FM="@firebase/vertexai",UM="@firebase/firestore-compat",$M="firebase",BM="11.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",zM={[og]:"fire-core",[gM]:"fire-core-compat",[yM]:"fire-analytics",[vM]:"fire-analytics-compat",[xM]:"fire-app-check",[wM]:"fire-app-check-compat",[_M]:"fire-auth",[EM]:"fire-auth-compat",[SM]:"fire-rtdb",[TM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[CM]:"fire-fn",[IM]:"fire-fn-compat",[RM]:"fire-iid",[AM]:"fire-iid-compat",[PM]:"fire-fcm",[NM]:"fire-fcm-compat",[kM]:"fire-perf",[jM]:"fire-perf-compat",[DM]:"fire-rc",[OM]:"fire-rc-compat",[MM]:"fire-gcs",[LM]:"fire-gcs-compat",[VM]:"fire-fst",[UM]:"fire-fst-compat",[FM]:"fire-vertex","fire-js":"fire-js",[$M]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,WM=new Map,ag=new Map;function n_(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){const e=t.name;if(ag.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of qd.values())n_(n,t);for(const n of WM.values())n_(n,t);return!0}function qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Ho("app","Firebase",HM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=BM;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=zT()),!n)throw Ls.create("no-options");const o=qd.get(s);if(o){if(Zl(n,o.options)&&Zl(r,o.config))return o;throw Ls.create("duplicate-app",{appName:s})}const i=new ZO(s);for(const l of ag.values())i.addComponent(l);const a=new qM(n,r,i);return qd.set(s,a),a}function ry(t=ig){const e=qd.get(t);if(!e&&t===ig&&zT())return XT();if(!e)throw Ls.create("no-app",{appName:t});return e}function bn(t,e,n){var r;let s=(r=zM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}vr(new Qn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="firebase-heartbeat-database",KM=1,ec="firebase-heartbeat-store";let Np=null;function JT(){return Np||(Np=YT(GM,KM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Np}async function QM(t){try{const n=(await JT()).transaction(ec),r=await n.objectStore(ec).get(ZT(t));return await n.done,r}catch(e){if(e instanceof tr)Wr.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function r_(t,e){try{const r=(await JT()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,ZT(t)),await r.done}catch(n){if(n instanceof tr)Wr.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function ZT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1024,XM=30*24*60*60*1e3;class JM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=XM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s_(),{heartbeatsToSend:r,unsentEntries:s}=ZM(this._heartbeatsCache.heartbeats),o=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Wr.warn(n),""}}}function s_(){return new Date().toISOString().substring(0,10)}function ZM(t,e=YM){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),o_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?GT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o_(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){vr(new Qn("platform-logger",e=>new pM(e),"PRIVATE")),vr(new Qn("heartbeat",e=>new JM(e),"PRIVATE")),bn(og,t_,t),bn(og,t_,"esm2017"),bn("fire-js","")}tL("");var nL="firebase",rL="11.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(nL,rL,"app");const eb="@firebase/installations",sy="0.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=1e4,nb=`w:${sy}`,rb="FIS_v2",sL="https://firebaseinstallations.googleapis.com/v1",oL=60*60*1e3,iL="installations",aL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Po=new Ho(iL,aL,lL);function sb(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob({projectId:t}){return`${sL}/projects/${t}/installations`}function ib(t){return{token:t.token,requestStatus:2,expiresIn:uL(t.expiresIn),creationTime:Date.now()}}async function ab(t,e){const r=(await e.json()).error;return Po.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lb({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cL(t,{refreshToken:e}){const n=lb(t);return n.append("Authorization",dL(e)),n}async function cb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function uL(t){return Number(t.replace("s","000"))}function dL(t){return`${rb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ob(t),s=lb(t),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const i={fid:n,authVersion:rb,appId:t.appId,sdkVersion:nb},a={method:"POST",headers:s,body:JSON.stringify(i)},l=await cb(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:ib(c.authToken)}}else throw await ab("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=/^[cdef][\w-]{21}$/,lg="";function mL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gL(t);return pL.test(n)?n:lg}catch{return lg}}function gL(t){return hL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new Map;function fb(t,e){const n=qf(t);hb(n,e),vL(n,e)}function hb(t,e){const n=db.get(t);if(n)for(const r of n)r(e)}function vL(t,e){const n=yL();n&&n.postMessage({key:t,fid:e}),wL()}let vo=null;function yL(){return!vo&&"BroadcastChannel"in self&&(vo=new BroadcastChannel("[Firebase] FID Change"),vo.onmessage=t=>{hb(t.data.key,t.data.fid)}),vo}function wL(){db.size===0&&vo&&(vo.close(),vo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="firebase-installations-database",_L=1,No="firebase-installations-store";let kp=null;function oy(){return kp||(kp=YT(xL,_L,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(No)}}})),kp}async function Gd(t,e){const n=qf(t),s=(await oy()).transaction(No,"readwrite"),o=s.objectStore(No),i=await o.get(n);return await o.put(e,n),await s.done,(!i||i.fid!==e.fid)&&fb(t,e.fid),e}async function pb(t){const e=qf(t),r=(await oy()).transaction(No,"readwrite");await r.objectStore(No).delete(e),await r.done}async function Gf(t,e){const n=qf(t),s=(await oy()).transaction(No,"readwrite"),o=s.objectStore(No),i=await o.get(n),a=e(i);return a===void 0?await o.delete(n):await o.put(a,n),await s.done,a&&(!i||i.fid!==a.fid)&&fb(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(t){let e;const n=await Gf(t.appConfig,r=>{const s=EL(r),o=SL(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===lg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function EL(t){const e=t||{fid:mL(),registrationStatus:0};return mb(e)}function SL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Po.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=TL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bL(t)}:{installationEntry:e}}async function TL(t,e){try{const n=await fL(t,e);return Gd(t.appConfig,n)}catch(n){throw sb(n)&&n.customData.serverCode===409?await pb(t.appConfig):await Gd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function bL(t){let e=await i_(t.appConfig);for(;e.registrationStatus===1;)await ub(100),e=await i_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await iy(t);return r||n}return e}function i_(t){return Gf(t,e=>{if(!e)throw Po.create("installation-not-found");return mb(e)})}function mb(t){return CL(t)?{fid:t.fid,registrationStatus:0}:t}function CL(t){return t.registrationStatus===1&&t.registrationTime+tb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL({appConfig:t,heartbeatServiceProvider:e},n){const r=RL(t,n),s=cL(t,n),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const i={installation:{sdkVersion:nb,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(i)},l=await cb(()=>fetch(r,a));if(l.ok){const c=await l.json();return ib(c)}else throw await ab("Generate Auth Token",l)}function RL(t,{fid:e}){return`${ob(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(t,e=!1){let n;const r=await Gf(t.appConfig,o=>{if(!gb(o))throw Po.create("not-registered");const i=o.authToken;if(!e&&NL(i))return o;if(i.requestStatus===1)return n=AL(t,e),o;{if(!navigator.onLine)throw Po.create("app-offline");const a=jL(o);return n=PL(t,a),a}});return n?await n:r.authToken}async function AL(t,e){let n=await a_(t.appConfig);for(;n.authToken.requestStatus===1;)await ub(100),n=await a_(t.appConfig);const r=n.authToken;return r.requestStatus===0?ay(t,e):r}function a_(t){return Gf(t,e=>{if(!gb(e))throw Po.create("not-registered");const n=e.authToken;return DL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PL(t,e){try{const n=await IL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gd(t.appConfig,r),n}catch(n){if(sb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pb(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gd(t.appConfig,r)}throw n}}function gb(t){return t!==void 0&&t.registrationStatus===2}function NL(t){return t.requestStatus===2&&!kL(t)}function kL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oL}function jL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function DL(t){return t.requestStatus===1&&t.requestTime+tb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t){const e=t,{installationEntry:n,registrationPromise:r}=await iy(e);return r?r.catch(console.error):ay(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e=!1){const n=t;return await LL(n),(await ay(n,e)).token}async function LL(t){const{registrationPromise:e}=await iy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){if(!t||!t.options)throw jp("App Configuration");if(!t.name)throw jp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jp(t){return Po.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="installations",FL="installations-internal",UL=t=>{const e=t.getProvider("app").getImmediate(),n=VL(e),r=qo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$L=t=>{const e=t.getProvider("app").getImmediate(),n=qo(e,vb).getImmediate();return{getId:()=>OL(n),getToken:s=>ML(n,s)}};function BL(){vr(new Qn(vb,UL,"PUBLIC")),vr(new Qn(FL,$L,"PRIVATE"))}BL();bn(eb,sy);bn(eb,sy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="analytics",zL="firebase_id",WL="origin",HL=60*1e3,qL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Hf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new Ho("analytics","Analytics",GL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){if(!t.startsWith(ly)){const e=dn.create("invalid-gtag-resource",{gtagURL:t});return tn.warn(e.message),""}return t}function yb(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function QL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function YL(t,e){const n=QL("firebase-js-sdk-policy",{createScriptURL:KL}),r=document.createElement("script"),s=`${ly}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function XL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function JL(t,e,n,r,s,o){const i=r[s];try{if(i)await e[i];else{const l=(await yb(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){tn.error(a)}t("config",s,o)}async function ZL(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let i=s.send_to;Array.isArray(i)||(i=[i]);const a=await yb(n);for(const l of i){const c=a.find(h=>h.measurementId===l),f=c&&e[c.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){tn.error(o)}}function e4(t,e,n,r){async function s(o,...i){try{if(o==="event"){const[a,l]=i;await ZL(t,e,n,a,l)}else if(o==="config"){const[a,l]=i;await JL(t,e,n,r,a,l)}else if(o==="consent"){const[a,l]=i;t("consent",a,l)}else if(o==="get"){const[a,l,c]=i;t("get",a,l,c)}else if(o==="set"){const[a]=i;t("set",a)}else t(o,...i)}catch(a){tn.error(a)}}return s}function t4(t,e,n,r,s){let o=function(...i){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=e4(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function n4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ly)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=30,s4=1e3;class o4{constructor(e={},n=s4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const wb=new o4;function i4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function a4(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:i4(r)},o=qL.replace("{app-id}",n),i=await fetch(o,s);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function l4(t,e=wb,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw dn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw dn.create("no-api-key")}const i=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new d4;return setTimeout(async()=>{a.abort()},HL),xb({appId:r,apiKey:s,measurementId:o},i,a,e)}async function xb(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=wb){var o;const{appId:i,measurementId:a}=t;try{await c4(r,e)}catch(l){if(a)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw l}try{const l=await a4(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!u4(c)){if(s.deleteThrottleMetadata(i),a)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw l}const f=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?Xx(n,s.intervalMillis,r4):Xx(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,h),tn.debug(`Calling attemptFetch again in ${f} millis`),xb(t,h,r,s)}}function c4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function u4(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class d4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function f4(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,i=Object.assign(Object.assign({},r),{send_to:o});t("event",n,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(){if(qT())try{await GT()}catch(t){return tn.warn(dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return tn.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function p4(t,e,n,r,s,o,i){var a;const l=l4(t);l.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>tn.error(x)),e.push(l);const c=h4().then(x=>{if(x)return r.getId()}),[f,h]=await Promise.all([l,c]);n4(o)||YL(o,f.measurementId),s("js",new Date);const m=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return m[WL]="firebase",m.update=!0,h!=null&&(m[zL]=h),s("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.app=e}_delete(){return delete Cl[this.app.options.appId],Promise.resolve()}}let Cl={},l_=[];const c_={};let Dp="dataLayer",g4="gtag",u_,_b,d_=!1;function v4(){const t=[];if(HT()&&t.push("This is a browser extension environment."),VO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=dn.create("invalid-analytics-context",{errorInfo:e});tn.warn(n.message)}}function y4(t,e,n){v4();const r=t.options.appId;if(!r)throw dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(Cl[r]!=null)throw dn.create("already-exists",{id:r});if(!d_){XL(Dp);const{wrappedGtag:o,gtagCore:i}=t4(Cl,l_,c_,Dp,g4);_b=o,u_=i,d_=!0}return Cl[r]=p4(t,l_,c_,e,u_,Dp,n),new m4(t)}function w4(t=ry()){t=gt(t);const e=qo(t,Kd);return e.isInitialized()?e.getImmediate():x4(t)}function x4(t,e={}){const n=qo(t,Kd);if(n.isInitialized()){const s=n.getImmediate();if(Zl(e,n.getOptions()))return s;throw dn.create("already-initialized")}return n.initialize({options:e})}function _4(t,e,n,r){t=gt(t),f4(_b,Cl[t.app.options.appId],e,n,r).catch(s=>tn.error(s))}const f_="@firebase/analytics",h_="0.10.9";function E4(){vr(new Qn(Kd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return y4(r,s,n)},"PUBLIC")),vr(new Qn("analytics-internal",t,"PRIVATE")),bn(f_,h_),bn(f_,h_,"esm2017");function t(e){try{const n=e.getProvider(Kd).getImmediate();return{logEvent:(r,s,o)=>_4(n,r,s,o)}}catch(n){throw dn.create("interop-component-reg-failed",{reason:n})}}}E4();var cr=function(){return cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cr.apply(this,arguments)};function Sc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function S4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=Eb,Sb=new Ho("auth","Firebase",Eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Hf("@firebase/auth");function b4(t,...e){Qd.logLevel<=Te.WARN&&Qd.warn(`Auth (${pa}): ${t}`,...e)}function td(t,...e){Qd.logLevel<=Te.ERROR&&Qd.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw uy(t,...e)}function Hn(t,...e){return uy(t,...e)}function cy(t,e,n){const r=Object.assign(Object.assign({},T4()),{[e]:n});return new Ho("auth","Firebase",r).create(e,{appName:t.name})}function fr(t){return cy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(t,"argument-error"),cy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sb.create(t,...e)}function ce(t,e,...n){if(!t)throw uy(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw td(e),new Error(e)}function Hr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I4(){return p_()==="http:"||p_()==="https:"}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I4()||HT()||"connection"in navigator)?navigator.onLine:!0}function A4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=kO()||OO()}get(){return R4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Tc(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nr(t,e,n,r,s={}){return bb(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=Ec(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return DO()||(c.referrerPolicy="no-referrer"),Tb.fetch()(Cb(t,t.config.apiHost,n,a),c)})}async function bb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P4),e);try{const s=new j4(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Pu(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Pu(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Pu(t,"user-disabled",i);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cy(t,f,c);An(t,f)}}catch(s){if(s instanceof tr)throw s;An(t,"network-request-failed",{message:String(s)})}}async function bc(t,e,n,r,s={}){const o=await nr(t,e,n,r,s);return"mfaPendingCredential"in o&&An(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Cb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,s):`${t.config.apiScheme}://${s}`}function k4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),N4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hn(t,e,r);return s.customData._tokenResponse=n,s}function m_(t){return t!==void 0&&t.enterprise!==void 0}class D4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O4(t,e){return nr(t,"GET","/v2/recaptchaConfig",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e){return nr(t,"POST","/v1/accounts:delete",e)}async function Ib(t,e){return nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L4(t,e=!1){const n=gt(t),r=await n.getIdToken(e),s=fy(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Il(Op(s.auth_time)),issuedAtTime:Il(Op(s.iat)),expirationTime:Il(Op(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Op(t){return Number(t)*1e3}function fy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const s=$T(n);return s?JSON.parse(s):(td("Failed to decode base64 JWT payload"),null)}catch(s){return td("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g_(t){const e=fy(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&V4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ko(t,Ib(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rb(o.providerUserInfo):[],a=$4(t.providerData,i),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ug(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function U4(t){const e=gt(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Rb(t){return t.map(e=>{var{providerId:n}=e,r=Sc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(t,e){const n=await bb(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=Cb(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tb.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z4(t,e){return nr(t,"POST","/v2/accounts:revokeToken",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await B4(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Fi;return r&&(ce(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(ce(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fi,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Sc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ug(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ko(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L4(this,e)}reload(){return U4(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await ko(this,M4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,x=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(i=n.photoURL)!==null&&i!==void 0?i:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:N,isAnonymous:O,providerData:j,stsTokenManager:C}=n;ce(b&&C,e,"internal-error");const T=Fi.fromJSON(this.name,C);ce(typeof b=="string",e,"internal-error"),ds(h,e.name),ds(m,e.name),ce(typeof N=="boolean",e,"internal-error"),ce(typeof O=="boolean",e,"internal-error"),ds(x,e.name),ds(w,e.name),ds(v,e.name),ds(_,e.name),ds(E,e.name),ds(y,e.name);const I=new Mr({uid:b,auth:e,email:m,emailVerified:N,displayName:h,isAnonymous:O,photoURL:w,phoneNumber:x,tenantId:v,stsTokenManager:T,createdAt:E,lastLoginAt:y});return j&&Array.isArray(j)&&(I.providerData=j.map(P=>Object.assign({},P))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fi;s.updateFromServerResponse(n);const o=new Mr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Rb(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),a=new Fi;a.updateFromIdToken(r);const l=new Mr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ug(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function Lr(t){Hr(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ab.type="NONE";const y_=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ui{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=nd(this.userKey,s.apiKey,o),this.fullPersistenceKey=nd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ui(Lr(y_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=s[0]||Lr(y_);const i=nd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(i);if(f){const h=Mr._fromJSON(e,f);c!==o&&(a=h),o=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ui(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(i)}catch{}})),new Ui(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ob(e))return"Blackberry";if(Mb(e))return"Webos";if(Nb(e))return"Safari";if((e.includes("chrome/")||kb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pb(t=$t()){return/firefox\//i.test(t)}function Nb(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kb(t=$t()){return/crios\//i.test(t)}function jb(t=$t()){return/iemobile/i.test(t)}function Db(t=$t()){return/android/i.test(t)}function Ob(t=$t()){return/blackberry/i.test(t)}function Mb(t=$t()){return/webos/i.test(t)}function hy(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W4(t=$t()){var e;return hy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H4(){return MO()&&document.documentMode===10}function Lb(t=$t()){return hy(t)||Db(t)||Mb(t)||Ob(t)||/windows phone/i.test(t)||jb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e=[]){let n;switch(t){case"Browser":n=w_($t());break;case"Worker":n=`${w_($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e={}){return nr(t,"GET","/v2/passwordPolicy",Zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=6;class Q4{constructor(e){var n,r,s,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:K4,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new q4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ui.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ib(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(fr(this));const n=e?gt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G4(this),n=new Q4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ui.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&b4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function es(t){return gt(t)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=zO(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X4(t){Kf=t}function Fb(t){return Kf.loadJS(t)}function J4(){return Kf.recaptchaEnterpriseScript}function Z4(){return Kf.gapiScript}function eV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tV{constructor(){this.enterprise=new nV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rV="recaptcha-enterprise",Ub="NO_RECAPTCHA";class sV{constructor(e){this.type=rV,this.auth=es(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{O4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new D4(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,i(c.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;m_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{i(c)}).catch(()=>{i(Ub)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tV().execute("siteKey",{action:"verify"}):new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&m_(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=J4();l.length!==0&&(l+=a),Fb(l).then(()=>{s(a,o,i)}).catch(c=>{i(c)})}}).catch(a=>{i(a)})})}}async function __(t,e,n,r=!1,s=!1){const o=new sV(t);let i;if(s)i=Ub;else try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xd(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await __(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await __(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e){const n=qo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Zl(o,e??{}))return s;An(s,"already-initialized")}return n.initialize({options:e})}function iV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aV(t,e,n){const r=es(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=$b(e),{host:i,port:a}=lV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),cV()}function $b(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lV(t){const e=$b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:E_(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:E_(i)}}}function E_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function uV(t,e){return nr(t,"POST","/v1/accounts:update",e)}async function dV(t,e){return nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e){return bc(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))}async function Bb(t,e){return nr(t,"POST","/v1/accounts:sendOobCode",Zr(t,e))}async function hV(t,e){return Bb(t,e)}async function pV(t,e){return Bb(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}async function gV(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends py{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,n,"signInWithPassword",fV);case"emailLink":return mV(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,r,"signUpPassword",dV);case"emailLink":return gV(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $i(t,e){return bc(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="http://localhost";class jo extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Sc(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new jo(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return $i(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$i(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$i(e,n)}buildRequest(){const e={requestUri:vV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wV(t){const e=ll(cl(t)).link,n=e?ll(cl(e)).deep_link_id:null,r=ll(cl(t)).deep_link_id;return(r?ll(cl(r)).link:null)||r||n||e||t}class my{constructor(e){var n,r,s,o,i,a;const l=ll(cl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=yV((s=l.mode)!==null&&s!==void 0?s:null);ce(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wV(e);try{return new my(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=my.parseLink(n);return ce(r,"argument-error"),tc._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Cc{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jo._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Cc{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Cc{constructor(){super("twitter.com")}static credential(e,n){return jo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){return bc(t,"POST","/v1/accounts:signUp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Mr._fromIdTokenResponse(e,r,s),i=S_(r);return new Do({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=S_(r);return new Do({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function S_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends tr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Jd(e,n,r,s)}}function zb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(t,o,e,r):o})}async function _V(t,e,n=!1){const r=await ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(fr(r));const s="reauthenticate";try{const o=await ko(t,zb(r,s,e,t),n);ce(o.idToken,r,"internal-error");const i=fy(o.idToken);ce(i,r,"internal-error");const{sub:a}=i;return ce(t.uid===a,r,"user-mismatch"),Do._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&An(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e,n=!1){if(Sn(t.app))return Promise.reject(fr(t));const r="signIn",s=await zb(t,r,e),o=await Do._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function SV(t,e){return Wb(es(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t){const e=es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TV(t,e,n){const r=es(t);await Xd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pV)}async function bV(t,e,n){if(Sn(t.app))return Promise.reject(fr(t));const r=es(t),i=await Xd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Hb(t),l}),a=await Do._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function CV(t,e,n){return Sn(t.app)?Promise.reject(fr(t)):SV(gt(t),ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Hb(t),r})}async function IV(t,e){const n=gt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await hV(n.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return nr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=gt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await ko(r,RV(r.auth,o));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}function PV(t,e){const n=gt(t);return Sn(n.auth.app)?Promise.reject(fr(n.auth)):qb(n,e,null)}function NV(t,e){return qb(gt(t),null,e)}async function qb(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const i=await ko(t,uV(r,o));await t._updateTokensIfNecessary(i,!0)}function kV(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function jV(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function DV(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=1e3,MV=10;class Kb extends Gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);H4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kb.type="LOCAL";const LV=Kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qb.type="SESSION";const Yb=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async c=>c(n.origin,o)),l=await VV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const c=vy("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function UV(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function $V(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zV(){return Xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firebaseLocalStorageDb",WV=1,ef="firebaseLocalStorage",Zb="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yf(t,e){return t.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function HV(){const t=indexedDB.deleteDatabase(Jb);return new Ic(t).toPromise()}function dg(){const t=indexedDB.open(Jb,WV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ef,{keyPath:Zb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ef)?e(r):(r.close(),await HV(),e(await dg()))})})}async function T_(t,e,n){const r=Yf(t,!0).put({[Zb]:e,value:n});return new Ic(r).toPromise()}async function qV(t,e){const n=Yf(t,!1).get(e),r=await new Ic(n).toPromise();return r===void 0?null:r.value}function b_(t,e){const n=Yf(t,!0).delete(e);return new Ic(n).toPromise()}const GV=800,KV=3;class eC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(zV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $V(),!this.activeServiceWorker)return;this.sender=new FV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await T_(e,Zd,"1"),await b_(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Yf(s,!1).getAll();return new Ic(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eC.type="LOCAL";const QV=eC;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e){return e?Lr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $i(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $i(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $i(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YV(t){return Wb(t.auth,new yy(t),t.bypassAuthState)}function XV(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),EV(n,new yy(t),t.bypassAuthState)}async function JV(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),_V(n,new yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YV;case"linkViaPopup":case"linkViaRedirect":return JV;case"reauthViaPopup":case"reauthViaRedirect":return XV;default:An(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Tc(2e3,1e4);async function eF(t,e,n){if(Sn(t.app))return Promise.reject(Hn(t,"operation-not-supported-in-this-environment"));const r=es(t);C4(t,e,gy);const s=tC(r,n);return new yo(r,"signInViaPopup",e,s).executeNotNull()}class yo extends nC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZV.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="pendingRedirect",rd=new Map;class nF extends nC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const r=await rF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rF(t,e){const n=iF(e),r=oF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sF(t,e){rd.set(t._key(),e)}function oF(t){return Lr(t._redirectPersistence)}function iF(t){return nd(tF,t.config.apiKey,t.name)}async function aF(t,e,n=!1){if(Sn(t.app))return Promise.reject(fr(t));const r=es(t),s=tC(r,e),i=await new nF(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=10*60*1e3;class cF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lF&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e={}){return nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hF=/^https?/;async function pF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dF(t);for(const n of e)try{if(mF(n))return}catch{}An(t,"unauthorized-domain")}function mF(t){const e=cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!hF.test(n))return!1;if(fF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=new Tc(3e4,6e4);function I_(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vF(t){return new Promise((e,n)=>{var r,s,o;function i(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(Hn(t,"network-request-failed"))},timeout:gF.get()})}if(!((s=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=hr().gapi)===null||o===void 0)&&o.load)i();else{const a=eV("iframefcb");return hr()[a]=()=>{gapi.load?i():n(Hn(t,"network-request-failed"))},Fb(`${Z4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw sd=null,e})}let sd=null;function yF(t){return sd=sd||vF(t),sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new Tc(5e3,15e3),xF="__/auth/iframe",_F="emulator/auth/iframe",EF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TF(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,_F):`https://${t.config.authDomain}/${xF}`,r={apiKey:e.apiKey,appName:t.name,v:pa},s=SF.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ec(r).slice(1)}`}async function bF(t){const e=await yF(t),n=hr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:TF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EF,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Hn(t,"network-request-failed"),a=hr().setTimeout(()=>{o(i)},wF.get());function l(){hr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IF=500,RF=600,AF="_blank",PF="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NF(t,e,n,r=IF,s=RF){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},CF),{width:r.toString(),height:s.toString(),top:o,left:i}),c=$t().toLowerCase();n&&(a=kb(c)?AF:n),Pb(c)&&(e=e||PF,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[x,w])=>`${m}${x}=${w},`,"");if(W4(c)&&a!=="_self")return kF(e||"",a),new R_(null);const h=window.open(e||"",a,f);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new R_(h)}function kF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="__/auth/handler",DF="emulator/auth/handler",OF=encodeURIComponent("fac");async function A_(t,e,n,r,s,o){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:s};if(e instanceof gy){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",BO(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))i[f]=h}if(e instanceof Cc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(i.scopes=f.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${OF}=${encodeURIComponent(l)}`:"";return`${MF(t)}?${Ec(a).slice(1)}${c}`}function MF({config:t}){return t.emulator?dy(t,DF):`https://${t.authDomain}/${jF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class LF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=aF,this._overrideRedirectResult=sF}async _openPopup(e,n,r,s){var o;Hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await A_(e,n,r,cg(),s);return NF(e,i,vy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await A_(e,n,r,cg(),s);return UV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Hr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bF(e),r=new cF(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Mp];i!==void 0&&n(!!i),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||Nb()||hy()}}const VF=LF;var P_="@firebase/auth",N_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $F(t){vr(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;ce(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(t)},c=new Y4(r,s,o,l);return iV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Qn("auth-internal",e=>{const n=es(e.getProvider("auth").getImmediate());return(r=>new FF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(P_,N_,UF(t)),bn(P_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=5*60,zF=WT("authIdTokenMaxAge")||BF;let k_=null;const WF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zF)return;const s=n==null?void 0:n.token;k_!==s&&(k_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HF(t=ry()){const e=qo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oV(t,{popupRedirectResolver:VF,persistence:[QV,LV,Yb]}),r=WT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=WF(o.toString());jV(n,i,()=>i(n.currentUser)),kV(n,a=>i(a))}}const s=BT("auth");return s&&aV(n,`http://${s}`),n}function qF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}X4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Hn("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",qF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$F("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,sC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,R,D){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return T.prototype[R].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var R=0;16>R;++R)P[R]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(R=0;16>R;++R)P[R]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],R=C.g[2];var D=C.g[3],k=T+(D^I&(R^D))+P[0]+3614090360&4294967295;T=I+(k<<7&4294967295|k>>>25),k=D+(R^T&(I^R))+P[1]+3905402710&4294967295,D=T+(k<<12&4294967295|k>>>20),k=R+(I^D&(T^I))+P[2]+606105819&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(T^R&(D^T))+P[3]+3250441966&4294967295,I=R+(k<<22&4294967295|k>>>10),k=T+(D^I&(R^D))+P[4]+4118548399&4294967295,T=I+(k<<7&4294967295|k>>>25),k=D+(R^T&(I^R))+P[5]+1200080426&4294967295,D=T+(k<<12&4294967295|k>>>20),k=R+(I^D&(T^I))+P[6]+2821735955&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(T^R&(D^T))+P[7]+4249261313&4294967295,I=R+(k<<22&4294967295|k>>>10),k=T+(D^I&(R^D))+P[8]+1770035416&4294967295,T=I+(k<<7&4294967295|k>>>25),k=D+(R^T&(I^R))+P[9]+2336552879&4294967295,D=T+(k<<12&4294967295|k>>>20),k=R+(I^D&(T^I))+P[10]+4294925233&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(T^R&(D^T))+P[11]+2304563134&4294967295,I=R+(k<<22&4294967295|k>>>10),k=T+(D^I&(R^D))+P[12]+1804603682&4294967295,T=I+(k<<7&4294967295|k>>>25),k=D+(R^T&(I^R))+P[13]+4254626195&4294967295,D=T+(k<<12&4294967295|k>>>20),k=R+(I^D&(T^I))+P[14]+2792965006&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(T^R&(D^T))+P[15]+1236535329&4294967295,I=R+(k<<22&4294967295|k>>>10),k=T+(R^D&(I^R))+P[1]+4129170786&4294967295,T=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(T^I))+P[6]+3225465664&4294967295,D=T+(k<<9&4294967295|k>>>23),k=R+(T^I&(D^T))+P[11]+643717713&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^T&(R^D))+P[0]+3921069994&4294967295,I=R+(k<<20&4294967295|k>>>12),k=T+(R^D&(I^R))+P[5]+3593408605&4294967295,T=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(T^I))+P[10]+38016083&4294967295,D=T+(k<<9&4294967295|k>>>23),k=R+(T^I&(D^T))+P[15]+3634488961&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^T&(R^D))+P[4]+3889429448&4294967295,I=R+(k<<20&4294967295|k>>>12),k=T+(R^D&(I^R))+P[9]+568446438&4294967295,T=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(T^I))+P[14]+3275163606&4294967295,D=T+(k<<9&4294967295|k>>>23),k=R+(T^I&(D^T))+P[3]+4107603335&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^T&(R^D))+P[8]+1163531501&4294967295,I=R+(k<<20&4294967295|k>>>12),k=T+(R^D&(I^R))+P[13]+2850285829&4294967295,T=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(T^I))+P[2]+4243563512&4294967295,D=T+(k<<9&4294967295|k>>>23),k=R+(T^I&(D^T))+P[7]+1735328473&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^T&(R^D))+P[12]+2368359562&4294967295,I=R+(k<<20&4294967295|k>>>12),k=T+(I^R^D)+P[5]+4294588738&4294967295,T=I+(k<<4&4294967295|k>>>28),k=D+(T^I^R)+P[8]+2272392833&4294967295,D=T+(k<<11&4294967295|k>>>21),k=R+(D^T^I)+P[11]+1839030562&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^T)+P[14]+4259657740&4294967295,I=R+(k<<23&4294967295|k>>>9),k=T+(I^R^D)+P[1]+2763975236&4294967295,T=I+(k<<4&4294967295|k>>>28),k=D+(T^I^R)+P[4]+1272893353&4294967295,D=T+(k<<11&4294967295|k>>>21),k=R+(D^T^I)+P[7]+4139469664&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^T)+P[10]+3200236656&4294967295,I=R+(k<<23&4294967295|k>>>9),k=T+(I^R^D)+P[13]+681279174&4294967295,T=I+(k<<4&4294967295|k>>>28),k=D+(T^I^R)+P[0]+3936430074&4294967295,D=T+(k<<11&4294967295|k>>>21),k=R+(D^T^I)+P[3]+3572445317&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^T)+P[6]+76029189&4294967295,I=R+(k<<23&4294967295|k>>>9),k=T+(I^R^D)+P[9]+3654602809&4294967295,T=I+(k<<4&4294967295|k>>>28),k=D+(T^I^R)+P[12]+3873151461&4294967295,D=T+(k<<11&4294967295|k>>>21),k=R+(D^T^I)+P[15]+530742520&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^T)+P[2]+3299628645&4294967295,I=R+(k<<23&4294967295|k>>>9),k=T+(R^(I|~D))+P[0]+4096336452&4294967295,T=I+(k<<6&4294967295|k>>>26),k=D+(I^(T|~R))+P[7]+1126891415&4294967295,D=T+(k<<10&4294967295|k>>>22),k=R+(T^(D|~I))+P[14]+2878612391&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~T))+P[5]+4237533241&4294967295,I=R+(k<<21&4294967295|k>>>11),k=T+(R^(I|~D))+P[12]+1700485571&4294967295,T=I+(k<<6&4294967295|k>>>26),k=D+(I^(T|~R))+P[3]+2399980690&4294967295,D=T+(k<<10&4294967295|k>>>22),k=R+(T^(D|~I))+P[10]+4293915773&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~T))+P[1]+2240044497&4294967295,I=R+(k<<21&4294967295|k>>>11),k=T+(R^(I|~D))+P[8]+1873313359&4294967295,T=I+(k<<6&4294967295|k>>>26),k=D+(I^(T|~R))+P[15]+4264355552&4294967295,D=T+(k<<10&4294967295|k>>>22),k=R+(T^(D|~I))+P[6]+2734768916&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~T))+P[13]+1309151649&4294967295,I=R+(k<<21&4294967295|k>>>11),k=T+(R^(I|~D))+P[4]+4149444226&4294967295,T=I+(k<<6&4294967295|k>>>26),k=D+(I^(T|~R))+P[11]+3174756917&4294967295,D=T+(k<<10&4294967295|k>>>22),k=R+(T^(D|~I))+P[2]+718787259&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,P=this.B,R=this.h,D=0;D<T;){if(R==0)for(;D<=I;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<T;)if(P[R++]=C.charCodeAt(D++),R==this.blockSize){s(this,P),R=0;break}}else for(;D<T;)if(P[R++]=C[D++],R==this.blockSize){s(this,P),R=0;break}}this.h=R,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)C[I++]=this.g[T]>>>P&255;return C};function o(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function i(C,T){this.h=T;for(var I=[],P=!0,R=C.length-1;0<=R;R--){var D=C[R]|0;P&&D==T||(I[R]=D,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?o(C,function(T){return new i([T|0],0>T?-1:0)}):new i([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return _(c(-C));for(var T=[],I=1,P=0;C>=I;P++)T[P]=C/I|0,I*=4294967296;return new i(T,0)}function f(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return _(f(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),P=h,R=0;R<C.length;R+=8){var D=Math.min(8,C.length-R),k=parseInt(C.substring(R,R+D),T);8>D?(D=c(Math.pow(T,D)),P=P.j(D).add(c(k))):(P=P.j(I),P=P.add(c(k)))}return P}var h=l(0),m=l(1),x=l(16777216);t=i.prototype,t.m=function(){if(v(this))return-_(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(v(this))return"-"+_(this).toString(C);for(var T=c(Math.pow(C,6)),I=this,P="";;){var R=N(I,T).g;I=E(I,R.j(T));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=R,w(I))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=E(this,C),v(C)?-1:w(C)?0:1};function _(C){for(var T=C.g.length,I=[],P=0;P<T;P++)I[P]=~C.g[P];return new i(I,~C.h).add(m)}t.abs=function(){return v(this)?_(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0,R=0;R<=T;R++){var D=P+(this.i(R)&65535)+(C.i(R)&65535),k=(D>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);P=k>>>16,D&=65535,k&=65535,I[R]=k<<16|D}return new i(I,I[I.length-1]&-2147483648?-1:0)};function E(C,T){return C.add(_(T))}t.j=function(C){if(w(this)||w(C))return h;if(v(this))return v(C)?_(this).j(_(C)):_(_(this).j(C));if(v(C))return _(this.j(_(C)));if(0>this.l(x)&&0>C.l(x))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<C.g.length;R++){var D=this.i(P)>>>16,k=this.i(P)&65535,B=C.i(R)>>>16,te=C.i(R)&65535;I[2*P+2*R]+=k*te,y(I,2*P+2*R),I[2*P+2*R+1]+=D*te,y(I,2*P+2*R+1),I[2*P+2*R+1]+=k*B,y(I,2*P+2*R+1),I[2*P+2*R+2]+=D*B,y(I,2*P+2*R+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new i(I,0)};function y(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function b(C,T){this.g=C,this.h=T}function N(C,T){if(w(T))throw Error("division by zero");if(w(C))return new b(h,h);if(v(C))return T=N(_(C),T),new b(_(T.g),_(T.h));if(v(T))return T=N(C,_(T)),new b(_(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=m,P=T;0>=P.l(C);)I=O(I),P=O(P);var R=j(I,1),D=j(P,1);for(P=j(P,2),I=j(I,2);!w(P);){var k=D.add(P);0>=k.l(C)&&(R=R.add(I),D=k),P=j(P,1),I=j(I,1)}return T=E(C,R.j(T)),new b(R,T)}for(R=h;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(I),k=D.j(T);v(k)||0<k.l(C);)I-=P,D=c(I),k=D.j(T);w(D)&&(D=m),R=R.add(D),C=E(C,k)}return new b(R,C)}t.A=function(C){return N(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&C.i(P);return new i(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|C.i(P);return new i(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^C.i(P);return new i(I,this.h^C.h)};function O(C){for(var T=C.g.length+1,I=[],P=0;P<T;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new i(I,C.h)}function j(C,T){var I=T>>5;T%=32;for(var P=C.g.length-I,R=[],D=0;D<P;D++)R[D]=0<T?C.i(D+I)>>>T|C.i(D+I+1)<<32-T:C.i(D+I);return new i(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sC=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=f,So=i}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oC,ul,iC,od,fg,aC,lC,cC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,S){return d==Array.prototype||d==Object.prototype||(d[g]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var g=0;g<d.length;++g){var S=d[g];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var S=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var M=d[A];if(!(M in S))break e;S=S[M]}d=d[d.length-1],A=S[d],g=g(A),g!=A&&g!=null&&e(S,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var S=0,A=!1,M={next:function(){if(!A&&S<d.length){var V=S++;return{value:g(V,d[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(d){return d||function(){return o(this,function(g,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function c(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function f(d,g,S){return d.call.apply(d.bind,arguments)}function h(d,g,S){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),d.apply(g,M)}}return function(){return d.apply(g,arguments)}}function m(d,g,S){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function x(d,g){var S=Array.prototype.slice.call(arguments,1);return function(){var A=S.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function w(d,g){function S(){}S.prototype=g.prototype,d.aa=g.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(A,M,V){for(var q=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)q[Le-2]=arguments[Le];return g.prototype[M].apply(A,q)}}function v(d){const g=d.length;if(0<g){const S=Array(g);for(let A=0;A<g;A++)S[A]=d[A];return S}return[]}function _(d,g){for(let S=1;S<arguments.length;S++){const A=arguments[S];if(l(A)){const M=d.length||0,V=A.length||0;d.length=M+V;for(let q=0;q<V;q++)d[M+q]=A[q]}else d.push(A)}}class E{constructor(g,S){this.i=g,this.j=S,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function N(d){return N[" "](d),d}N[" "]=function(){};var O=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(d,g,S){for(const A in d)g.call(S,d[A],A,d)}function C(d,g){for(const S in d)g.call(void 0,d[S],S,d)}function T(d){const g={};for(const S in d)g[S]=d[S];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,g){let S,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(S in A)d[S]=A[S];for(let V=0;V<I.length;V++)S=I[V],Object.prototype.hasOwnProperty.call(A,S)&&(d[S]=A[S])}}function R(d){var g=1;d=d.split(":");const S=[];for(;0<g&&d.length;)S.push(d.shift()),g--;return d.length&&S.push(d.join(":")),S}function D(d){a.setTimeout(()=>{throw d},0)}function k(){var d=F;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class B{constructor(){this.h=this.g=null}add(g,S){const A=te.get();A.set(g,S),this.h?this.h.next=A:this.g=A,this.h=A}}var te=new E(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,S){this.h=g,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,L=!1,F=new B,G=()=>{const d=a.Promise.resolve(void 0);ne=()=>{d.then(J)}};var J=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(S){D(S)}var g=te;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}L=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};a.addEventListener("test",S,g),a.removeEventListener("test",S,g)}catch{}return d}();function Fe(d,g){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(O){e:{try{N(g.nodeName);var M=!0;break e}catch{}M=!1}M||(g=null)}}else S=="mouseover"?g=d.fromElement:S=="mouseout"&&(g=d.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Fe.aa.h.call(this)}}w(Fe,ve);var De={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),fe=0;function xe(d,g,S,A,M){this.listener=d,this.proxy=null,this.src=g,this.type=S,this.capture=!!A,this.ha=M,this.key=++fe,this.da=this.fa=!1}function ue(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d){this.src=d,this.g={},this.h=0}re.prototype.add=function(d,g,S,A,M){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var q=pe(d,g,A,M);return-1<q?(g=d[q],S||(g.fa=!1)):(g=new xe(g,this.src,V,!!A,M),g.fa=S,d.push(g)),g};function H(d,g){var S=g.type;if(S in d.g){var A=d.g[S],M=Array.prototype.indexOf.call(A,g,void 0),V;(V=0<=M)&&Array.prototype.splice.call(A,M,1),V&&(ue(g),d.g[S].length==0&&(delete d.g[S],d.h--))}}function pe(d,g,S,A){for(var M=0;M<d.length;++M){var V=d[M];if(!V.da&&V.listener==g&&V.capture==!!S&&V.ha==A)return M}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Ue={};function ut(d,g,S,A,M){if(Array.isArray(g)){for(var V=0;V<g.length;V++)ut(d,g[V],S,A,M);return null}return S=Pa(S),d&&d[Q]?d.K(g,S,c(A)?!!A.capture:!!A,M):St(d,g,S,!1,A,M)}function St(d,g,S,A,M,V){if(!g)throw Error("Invalid event type");var q=c(M)?!!M.capture:!!M,Le=so(d);if(Le||(d[Ie]=Le=new re(d)),S=Le.add(g,S,A,q,V),S.proxy)return S;if(A=yn(),S.proxy=A,A.src=d,A.listener=S,d.addEventListener)Ce||(M=q),M===void 0&&(M=!1),d.addEventListener(g.toString(),A,M);else if(d.attachEvent)d.attachEvent(os(g.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return S}function yn(){function d(S){return g.call(d.src,d.listener,S)}const g=Aa;return d}function Nt(d,g,S,A,M){if(Array.isArray(g))for(var V=0;V<g.length;V++)Nt(d,g[V],S,A,M);else A=c(A)?!!A.capture:!!A,S=Pa(S),d&&d[Q]?(d=d.i,g=String(g).toString(),g in d.g&&(V=d.g[g],S=pe(V,S,A,M),-1<S&&(ue(V[S]),Array.prototype.splice.call(V,S,1),V.length==0&&(delete d.g[g],d.h--)))):d&&(d=so(d))&&(g=d.g[g.toString()],d=-1,g&&(d=pe(g,S,A,M)),(S=-1<d?g[d]:null)&&jn(S))}function jn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Q])H(g.i,d);else{var S=d.type,A=d.proxy;g.removeEventListener?g.removeEventListener(S,A,d.capture):g.detachEvent?g.detachEvent(os(S),A):g.addListener&&g.removeListener&&g.removeListener(A),(S=so(g))?(H(S,d),S.h==0&&(S.src=null,g[Ie]=null)):ue(d)}}}function os(d){return d in Ue?Ue[d]:Ue[d]="on"+d}function Aa(d,g){if(d.da)d=!0;else{g=new Fe(g,this);var S=d.listener,A=d.ha||d.src;d.fa&&jn(d),d=S.call(A,g)}return d}function so(d){return d=d[Ie],d instanceof re?d:null}var ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(d){return typeof d=="function"?d:(d[ri]||(d[ri]=function(g){return d.handleEvent(g)}),d[ri])}function vt(){ie.call(this),this.i=new re(this),this.M=this,this.F=null}w(vt,ie),vt.prototype[Q]=!0,vt.prototype.removeEventListener=function(d,g,S,A){Nt(this,d,g,S,A)};function yt(d,g){var S,A=d.F;if(A)for(S=[];A;A=A.F)S.push(A);if(d=d.M,A=g.type||g,typeof g=="string")g=new ve(g,d);else if(g instanceof ve)g.target=g.target||d;else{var M=g;g=new ve(A,d),P(g,M)}if(M=!0,S)for(var V=S.length-1;0<=V;V--){var q=g.g=S[V];M=si(q,A,!0,g)&&M}if(q=g.g=d,M=si(q,A,!0,g)&&M,M=si(q,A,!1,g)&&M,S)for(V=0;V<S.length;V++)q=g.g=S[V],M=si(q,A,!1,g)&&M}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var S=d.g[g],A=0;A<S.length;A++)ue(S[A]);delete d.g[g],d.h--}}this.F=null},vt.prototype.K=function(d,g,S,A){return this.i.add(String(d),g,!1,S,A)},vt.prototype.L=function(d,g,S,A){return this.i.add(String(d),g,!0,S,A)};function si(d,g,S,A){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var M=!0,V=0;V<g.length;++V){var q=g[V];if(q&&!q.da&&q.capture==S){var Le=q.listener,Tt=q.ha||q.src;q.fa&&H(d.i,q),M=Le.call(Tt,A)!==!1&&M}}return M&&!A.defaultPrevented}function oi(d,g,S){if(typeof d=="function")S&&(d=m(d,S));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Dn(d){d.g=oi(()=>{d.g=null,d.i&&(d.i=!1,Dn(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Na extends ie{constructor(g,S){super(),this.m=g,this.l=S,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(d){ie.call(this),this.h=d,this.g={}}w(Cr,ie);var oo=[];function ii(d){j(d.g,function(g,S){this.g.hasOwnProperty(S)&&jn(g)},d),d.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),ii(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=a.JSON.stringify,Uh=a.JSON.parse,$h=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function ai(){}ai.prototype.h=null;function Yc(d){return d.h||(d.h=d.i())}function ja(){}var is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){ve.call(this,"d")}w(li,ve);function Da(){ve.call(this,"c")}w(Da,ve);var or={},Xc=null;function Jc(){return Xc=Xc||new vt}or.La="serverreachability";function Ww(d){ve.call(this,or.La,d)}w(Ww,ve);function Oa(d){const g=Jc();yt(g,new Ww(g))}or.STAT_EVENT="statevent";function Hw(d,g){ve.call(this,or.STAT_EVENT,d),this.stat=g}w(Hw,ve);function Bt(d){const g=Jc();yt(g,new Hw(g,d))}or.Ma="timingevent";function qw(d,g){ve.call(this,or.Ma,d),this.size=g}w(qw,ve);function Ma(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function La(){this.g=!0}La.prototype.xa=function(){this.g=!1};function Ik(d,g,S,A,M,V){d.info(function(){if(d.g)if(V)for(var q="",Le=V.split("&"),Tt=0;Tt<Le.length;Tt++){var Ne=Le[Tt].split("=");if(1<Ne.length){var kt=Ne[0];Ne=Ne[1];var jt=kt.split("_");q=2<=jt.length&&jt[1]=="type"?q+(kt+"="+Ne+"&"):q+(kt+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+g+`
`+S+`
`+q})}function Rk(d,g,S,A,M,V,q){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+g+`
`+S+`
`+V+" "+q})}function ci(d,g,S,A){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pk(d,S)+(A?" "+A:"")})}function Ak(d,g){d.info(function(){return"TIMEOUT: "+g})}La.prototype.info=function(){};function Pk(d,g){if(!d.g)return g;if(!g)return null;try{var S=JSON.parse(g);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var A=S[d];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return ka(S)}catch{return g}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bh;function eu(){}w(eu,ai),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},Bh=new eu;function as(d,g,S,A){this.j=d,this.i=g,this.l=S,this.R=A||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kw}function Kw(){this.i=null,this.g="",this.h=!1}var Qw={},zh={};function Wh(d,g,S){d.L=1,d.v=su(Ir(g)),d.m=S,d.P=!0,Yw(d,null)}function Yw(d,g){d.F=Date.now(),tu(d),d.A=Ir(d.v);var S=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),u0(S.i,"t",A),d.C=0,S=d.j.J,d.h=new Kw,d.g=R0(d.j,S?g:null,!d.m),0<d.O&&(d.M=new Na(m(d.Y,d,d.g),d.O)),g=d.U,S=d.g,A=d.ca;var M="readystatechange";Array.isArray(M)||(M&&(oo[0]=M.toString()),M=oo);for(var V=0;V<M.length;V++){var q=ut(S,M[V],A||g.handleEvent,!1,g.h||g);if(!q)break;g.g[q.key]=q}g=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Oa(),Ik(d.i,d.u,d.A,d.l,d.R,d.m)}as.prototype.ca=function(d){d=d.target;const g=this.M;g&&Rr(d)==3?g.j():this.Y(d)},as.prototype.Y=function(d){try{if(d==this.g)e:{const jt=Rr(this.g);var g=this.g.Ba();const fi=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||v0(this.g)))){this.J||jt!=4||g==7||(g==8||0>=fi?Oa(3):Oa(2)),Hh(this);var S=this.g.Z();this.X=S;t:if(Xw(this)){var A=v0(this.g);d="";var M=A.length,V=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),Va(this);var q="";break t}this.h.i=new a.TextDecoder}for(g=0;g<M;g++)this.h.h=!0,d+=this.h.i.decode(A[g],{stream:!(V&&g==M-1)});A.length=0,this.h.g+=d,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=S==200,Rk(this.i,this.u,this.A,this.l,this.R,jt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Tt=this.g;if((Le=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Le)){var Ne=Le;break t}}Ne=null}if(S=Ne)ci(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,S);else{this.o=!1,this.s=3,Bt(12),io(this),Va(this);break e}}if(this.P){S=!0;let On;for(;!this.J&&this.C<q.length;)if(On=Nk(this,q),On==zh){jt==4&&(this.s=4,Bt(14),S=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Qw){this.s=4,Bt(15),ci(this.i,this.l,q,"[Invalid Chunk]"),S=!1;break}else ci(this.i,this.l,On,null),qh(this,On);if(Xw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||q.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)ci(this.i,this.l,q,"[Invalid Chunked Response]"),io(this),Va(this);else if(0<q.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Jh(kt),kt.M=!0,Bt(11))}}else ci(this.i,this.l,q,null),qh(this,q);jt==4&&io(this),this.o&&!this.J&&(jt==4?T0(this.j,this):(this.o=!1,tu(this)))}else Kk(this.g),S==400&&0<q.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),io(this),Va(this)}}}catch{}finally{}};function Xw(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Nk(d,g){var S=d.C,A=g.indexOf(`
`,S);return A==-1?zh:(S=Number(g.substring(S,A)),isNaN(S)?Qw:(A+=1,A+S>g.length?zh:(g=g.slice(A,A+S),d.C=A+S,g)))}as.prototype.cancel=function(){this.J=!0,io(this)};function tu(d){d.S=Date.now()+d.I,Jw(d,d.I)}function Jw(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ma(m(d.ba,d),g)}function Hh(d){d.B&&(a.clearTimeout(d.B),d.B=null)}as.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ak(this.i,this.A),this.L!=2&&(Oa(),Bt(17)),io(this),this.s=2,Va(this)):Jw(this,this.S-d)};function Va(d){d.j.G==0||d.J||T0(d.j,d)}function io(d){Hh(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,ii(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function qh(d,g){try{var S=d.j;if(S.G!=0&&(S.g==d||Gh(S.h,d))){if(!d.K&&Gh(S.h,d)&&S.G==3){try{var A=S.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)uu(S),lu(S);else break e;Xh(S),Bt(18)}}else S.za=M[1],0<S.za-S.T&&37500>M[2]&&S.F&&S.v==0&&!S.C&&(S.C=Ma(m(S.Za,S),6e3));if(1>=t0(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else lo(S,11)}else if((d.K||S.g==d)&&uu(S),!y(g))for(M=S.Da.g.parse(g),g=0;g<M.length;g++){let Ne=M[g];if(S.T=Ne[0],Ne=Ne[1],S.G==2)if(Ne[0]=="c"){S.K=Ne[1],S.ia=Ne[2];const kt=Ne[3];kt!=null&&(S.la=kt,S.j.info("VER="+S.la));const jt=Ne[4];jt!=null&&(S.Aa=jt,S.j.info("SVER="+S.Aa));const fi=Ne[5];fi!=null&&typeof fi=="number"&&0<fi&&(A=1.5*fi,S.L=A,S.j.info("backChannelRequestTimeoutMs_="+A)),A=S;const On=d.g;if(On){const fu=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var V=A.h;V.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Kh(V,V.h),V.h=null))}if(A.D){const Zh=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Zh&&(A.ya=Zh,$e(A.I,A.D,Zh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),A=S;var q=d;if(A.qa=I0(A,A.J?A.ia:null,A.W),q.K){n0(A.h,q);var Le=q,Tt=A.L;Tt&&(Le.I=Tt),Le.B&&(Hh(Le),tu(Le)),A.g=q}else E0(A);0<S.i.length&&cu(S)}else Ne[0]!="stop"&&Ne[0]!="close"||lo(S,7);else S.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?lo(S,7):Yh(S):Ne[0]!="noop"&&S.l&&S.l.ta(Ne),S.v=0)}}Oa(4)}catch{}}var kk=class{constructor(d,g){this.g=d,this.map=g}};function Zw(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function t0(d){return d.h?1:d.g?d.g.size:0}function Gh(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Kh(d,g){d.g?d.g.add(g):d.h=g}function n0(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Zw.prototype.cancel=function(){if(this.i=r0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function r0(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const S of d.g.values())g=g.concat(S.D);return g}return v(d.i)}function jk(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],S=d.length,A=0;A<S;A++)g.push(d[A]);return g}g=[],S=0;for(A in d)g[S++]=d[A];return g}function Dk(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var S=0;S<d;S++)g.push(S);return g}g=[],S=0;for(const A in d)g[S++]=A;return g}}}function s0(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var S=Dk(d),A=jk(d),M=A.length,V=0;V<M;V++)g.call(void 0,A[V],S&&S[V],d)}var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ok(d,g){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var A=d[S].indexOf("="),M=null;if(0<=A){var V=d[S].substring(0,A);M=d[S].substring(A+1)}else V=d[S];g(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ao(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ao){this.h=d.h,nu(this,d.j),this.o=d.o,this.g=d.g,ru(this,d.s),this.l=d.l;var g=d.i,S=new $a;S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),i0(this,S),this.m=d.m}else d&&(g=String(d).match(o0))?(this.h=!1,nu(this,g[1]||"",!0),this.o=Fa(g[2]||""),this.g=Fa(g[3]||"",!0),ru(this,g[4]),this.l=Fa(g[5]||"",!0),i0(this,g[6]||"",!0),this.m=Fa(g[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}ao.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Ua(g,a0,!0),":");var S=this.g;return(S||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Ua(g,a0,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Ua(S,S.charAt(0)=="/"?Vk:Lk,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Ua(S,Uk)),d.join("")};function Ir(d){return new ao(d)}function nu(d,g,S){d.j=S?Fa(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ru(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function i0(d,g,S){g instanceof $a?(d.i=g,$k(d.i,d.h)):(S||(g=Ua(g,Fk)),d.i=new $a(g,d.h))}function $e(d,g,S){d.i.set(g,S)}function su(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fa(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ua(d,g,S){return typeof d=="string"?(d=encodeURI(d).replace(g,Mk),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Mk(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var a0=/[#\/\?@]/g,Lk=/[#\?:]/g,Vk=/[#\?]/g,Fk=/[#\?@]/g,Uk=/#/g;function $a(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function ls(d){d.g||(d.g=new Map,d.h=0,d.i&&Ok(d.i,function(g,S){d.add(decodeURIComponent(g.replace(/\+/g," ")),S)}))}t=$a.prototype,t.add=function(d,g){ls(this),this.i=null,d=ui(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(g),this.h+=1,this};function l0(d,g){ls(d),g=ui(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function c0(d,g){return ls(d),g=ui(d,g),d.g.has(g)}t.forEach=function(d,g){ls(this),this.g.forEach(function(S,A){S.forEach(function(M){d.call(g,M,A,this)},this)},this)},t.na=function(){ls(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),S=[];for(let A=0;A<g.length;A++){const M=d[A];for(let V=0;V<M.length;V++)S.push(g[A])}return S},t.V=function(d){ls(this);let g=[];if(typeof d=="string")c0(this,d)&&(g=g.concat(this.g.get(ui(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)g=g.concat(d[S])}return g},t.set=function(d,g){return ls(this),this.i=null,d=ui(this,d),c0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function u0(d,g,S){l0(d,g),0<S.length&&(d.i=null,d.g.set(ui(d,g),v(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var S=0;S<g.length;S++){var A=g[S];const V=encodeURIComponent(String(A)),q=this.V(A);for(A=0;A<q.length;A++){var M=V;q[A]!==""&&(M+="="+encodeURIComponent(String(q[A]))),d.push(M)}}return this.i=d.join("&")};function ui(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function $k(d,g){g&&!d.j&&(ls(d),d.i=null,d.g.forEach(function(S,A){var M=A.toLowerCase();A!=M&&(l0(this,A),u0(this,M,S))},d)),d.j=g}function Bk(d,g){const S=new La;if(a.Image){const A=new Image;A.onload=x(cs,S,"TestLoadImage: loaded",!0,g,A),A.onerror=x(cs,S,"TestLoadImage: error",!1,g,A),A.onabort=x(cs,S,"TestLoadImage: abort",!1,g,A),A.ontimeout=x(cs,S,"TestLoadImage: timeout",!1,g,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else g(!1)}function zk(d,g){const S=new La,A=new AbortController,M=setTimeout(()=>{A.abort(),cs(S,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:A.signal}).then(V=>{clearTimeout(M),V.ok?cs(S,"TestPingServer: ok",!0,g):cs(S,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),cs(S,"TestPingServer: error",!1,g)})}function cs(d,g,S,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(S)}catch{}}function Wk(){this.g=new $h}function Hk(d,g,S){const A=S||"";try{s0(d,function(M,V){let q=M;c(M)&&(q=ka(M)),g.push(A+V+"="+encodeURIComponent(q))})}catch(M){throw g.push(A+"type="+encodeURIComponent("_badmap")),M}}function ou(d){this.l=d.Ub||null,this.j=d.eb||!1}w(ou,ai),ou.prototype.g=function(){return new iu(this.l,this.j)},ou.prototype.i=function(d){return function(){return d}}({});function iu(d,g){vt.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(iu,vt),t=iu.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,za(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d0(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function d0(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Ba(this):za(this),this.readyState==3&&d0(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ba(this))},t.Qa=function(d){this.g&&(this.response=d,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(d){d.readyState=4,d.l=null,d.j=null,d.v=null,za(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var S=g.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=g.next();return d.join(`\r
`)};function za(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function f0(d){let g="";return j(d,function(S,A){g+=A,g+=":",g+=S,g+=`\r
`}),g}function Qh(d,g,S){e:{for(A in S){var A=!1;break e}A=!0}A||(S=f0(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):$e(d,g,S))}function nt(d){vt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,vt);var qk=/^https?$/i,Gk=["POST","PUT"];t=nt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,S,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bh.g(),this.v=this.o?Yc(this.o):Yc(Bh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){h0(this,V);return}if(d=S||"",S=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)S.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())S.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(S.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Gk,g,void 0))||A||M||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of S)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{g0(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){h0(this,V)}};function h0(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,p0(d),au(d)}function p0(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?m0(this):this.bb())},t.bb=function(){m0(this)};function m0(d){if(d.h&&typeof i<"u"&&(!d.v[1]||Rr(d)!=4||d.Z()!=2)){if(d.u&&Rr(d)==4)oi(d.Ea,0,d);else if(yt(d,"readystatechange"),Rr(d)==4){d.h=!1;try{const q=d.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var S;if(!(S=g)){var A;if(A=q===0){var M=String(d.D).match(o0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!qk.test(M?M.toLowerCase():"")}S=A}if(S)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var V=2<Rr(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",p0(d)}}finally{au(d)}}}}function au(d,g){if(d.g){g0(d);const S=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||yt(d,"ready");try{S.onreadystatechange=A}catch{}}}function g0(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Rr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Uh(g)}};function v0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Kk(d){const g={};d=(d.g&&2<=Rr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(y(d[A]))continue;var S=R(d[A]);const M=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const V=g[M]||[];g[M]=V,V.push(S)}C(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(d,g,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||g}function y0(d){this.Aa=0,this.i=[],this.j=new La,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wa("baseRetryDelayMs",5e3,d),this.cb=Wa("retryDelaySeedMs",1e4,d),this.Wa=Wa("forwardChannelMaxRetries",2,d),this.wa=Wa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zw(d&&d.concurrentRequestLimit),this.Da=new Wk,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=y0.prototype,t.la=8,t.G=1,t.connect=function(d,g,S,A){Bt(0),this.W=d,this.H=g||{},S&&A!==void 0&&(this.H.OSID=S,this.H.OAID=A),this.F=this.X,this.I=I0(this,null,this.W),cu(this)};function Yh(d){if(w0(d),d.G==3){var g=d.U++,S=Ir(d.I);if($e(S,"SID",d.K),$e(S,"RID",g),$e(S,"TYPE","terminate"),Ha(d,S),g=new as(d,d.j,g),g.L=2,g.v=su(Ir(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=g.v,S=!0),S||(g.g=R0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),tu(g)}C0(d)}function lu(d){d.g&&(Jh(d),d.g.cancel(),d.g=null)}function w0(d){lu(d),d.u&&(a.clearTimeout(d.u),d.u=null),uu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function cu(d){if(!e0(d.h)&&!d.s){d.s=!0;var g=d.Ga;ne||G(),L||(ne(),L=!0),F.add(g,d),d.B=0}}function Qk(d,g){return t0(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ma(m(d.Ga,d,g),b0(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const M=new as(this,this.j,d);let V=this.o;if(this.S&&(V?(V=T(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var g=0,S=0;S<this.i.length;S++){t:{var A=this.i[S];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=S;break e}if(g===4096||S===this.i.length-1){g=S+1;break e}}g=1e3}else g=1e3;g=_0(this,M,g),S=Ir(this.I),$e(S,"RID",d),$e(S,"CVER",22),this.D&&$e(S,"X-HTTP-Session-Id",this.D),Ha(this,S),V&&(this.O?g="headers="+encodeURIComponent(String(f0(V)))+"&"+g:this.m&&Qh(S,this.m,V)),Kh(this.h,M),this.Ua&&$e(S,"TYPE","init"),this.P?($e(S,"$req",g),$e(S,"SID","null"),M.T=!0,Wh(M,S,null)):Wh(M,S,g),this.G=2}}else this.G==3&&(d?x0(this,d):this.i.length==0||e0(this.h)||x0(this))};function x0(d,g){var S;g?S=g.l:S=d.U++;const A=Ir(d.I);$e(A,"SID",d.K),$e(A,"RID",S),$e(A,"AID",d.T),Ha(d,A),d.m&&d.o&&Qh(A,d.m,d.o),S=new as(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),g&&(d.i=g.D.concat(d.i)),g=_0(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Kh(d.h,S),Wh(S,A,g)}function Ha(d,g){d.H&&j(d.H,function(S,A){$e(g,A,S)}),d.l&&s0({},function(S,A){$e(g,A,S)})}function _0(d,g,S){S=Math.min(d.i.length,S);var A=d.l?m(d.l.Na,d.l,d):null;e:{var M=d.i;let V=-1;for(;;){const q=["count="+S];V==-1?0<S?(V=M[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let Le=!0;for(let Tt=0;Tt<S;Tt++){let Ne=M[Tt].g;const kt=M[Tt].map;if(Ne-=V,0>Ne)V=Math.max(0,M[Tt].g-100),Le=!1;else try{Hk(kt,q,"req"+Ne+"_")}catch{A&&A(kt)}}if(Le){A=q.join("&");break e}}}return d=d.i.splice(0,S),g.D=d,A}function E0(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;ne||G(),L||(ne(),L=!0),F.add(g,d),d.v=0}}function Xh(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ma(m(d.Fa,d),b0(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,S0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ma(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),lu(this),S0(this))};function Jh(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function S0(d){d.g=new as(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Ir(d.qa);$e(g,"RID","rpc"),$e(g,"SID",d.K),$e(g,"AID",d.T),$e(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(g,"TO",d.ja),$e(g,"TYPE","xmlhttp"),Ha(d,g),d.m&&d.o&&Qh(g,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=su(Ir(g)),S.m=null,S.P=!0,Yw(S,d)}t.Za=function(){this.C!=null&&(this.C=null,lu(this),Xh(this),Bt(19))};function uu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function T0(d,g){var S=null;if(d.g==g){uu(d),Jh(d),d.g=null;var A=2}else if(Gh(d.h,g))S=g.D,n0(d.h,g),A=1;else return;if(d.G!=0){if(g.o)if(A==1){S=g.m?g.m.length:0,g=Date.now()-g.F;var M=d.B;A=Jc(),yt(A,new qw(A,S)),cu(d)}else E0(d);else if(M=g.s,M==3||M==0&&0<g.X||!(A==1&&Qk(d,g)||A==2&&Xh(d)))switch(S&&0<S.length&&(g=d.h,g.i=g.i.concat(S)),M){case 1:lo(d,5);break;case 4:lo(d,10);break;case 3:lo(d,6);break;default:lo(d,2)}}}function b0(d,g){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*g}function lo(d,g){if(d.j.info("Error code "+g),g==2){var S=m(d.fb,d),A=d.Xa;const M=!A;A=new ao(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nu(A,"https"),su(A),M?Bk(A.toString(),S):zk(A.toString(),S)}else Bt(2);d.G=0,d.l&&d.l.sa(g),C0(d),w0(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function C0(d){if(d.G=0,d.ka=[],d.l){const g=r0(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function I0(d,g,S){var A=S instanceof ao?Ir(S):new ao(S);if(A.g!="")g&&(A.g=g+"."+A.g),ru(A,A.s);else{var M=a.location;A=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;var V=new ao(null);A&&nu(V,A),g&&(V.g=g),M&&ru(V,M),S&&(V.l=S),A=V}return S=d.D,g=d.ya,S&&g&&$e(A,S,g),$e(A,"VER",d.la),Ha(d,A),A}function R0(d,g,S){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new nt(new ou({eb:S})):new nt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A0(){}t=A0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(d,g){return new on(d,g)};function on(d,g){vt.call(this),this.g=new y0(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!y(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!y(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new di(this)}w(on,vt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Yh(this.g)},on.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=ka(d),d=S);g.i.push(new kk(g.Ya++,d)),g.G==3&&cu(g)},on.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,on.aa.N.call(this)};function P0(d){li.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const S in g){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}w(P0,li);function N0(){Da.call(this),this.status=1}w(N0,Da);function di(d){this.g=d}w(di,A0),di.prototype.ua=function(){yt(this.g,"a")},di.prototype.ta=function(d){yt(this.g,new P0(d))},di.prototype.sa=function(d){yt(this.g,new N0)},di.prototype.ra=function(){yt(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,cC=function(){return new du},lC=function(){return Jc()},aC=or,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,od=Zc,Gw.COMPLETE="complete",iC=Gw,ja.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ul=ja,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,oC=nt}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Hf("@firebase/firestore");function vi(){return Oo.logLevel}function X(t,...e){if(Oo.logLevel<=Te.DEBUG){const n=e.map(wy);Oo.debug(`Firestore (${ga}): ${t}`,...n)}}function qr(t,...e){if(Oo.logLevel<=Te.ERROR){const n=e.map(wy);Oo.error(`Firestore (${ga}): ${t}`,...n)}}function Zi(t,...e){if(Oo.logLevel<=Te.WARN){const n=e.map(wy);Oo.warn(`Firestore (${ga}): ${t}`,...n)}}function wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function je(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class KF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QF{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new uC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Lt(e)}}class YF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new YF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new JF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=e5(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ea(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new mt(0,0))}static max(){return new he(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends nc{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const t5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends nc{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return t5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new se(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new se(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ge.fromString(e))}static fromName(e){return new ae(Ge.fromString(e).popFirst(5))}static empty(){return new ae(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ge(e.slice()))}}function n5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new $s(s,ae.empty(),e)}function r5(t){return new $s(t.readTime,t.key,-1)}class $s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $s(he.min(),ae.empty(),-1)}static max(){return new $s(he.max(),ae.empty(),-1)}}function s5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==o5)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(f=>{i[c]=f,++a,a===o&&r(i)},f=>s(f))}})}static doWhile(e,n){return new $((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function a5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xf.oe=-1;function Jf(t){return t==null}function tf(t){return t===0&&1/t==-1/0}function l5(t){return typeof t=="number"&&Number.isInteger(t)&&!tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O_(e)),e=u5(t.get(n),e);return O_(e)}function u5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function O_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=s??Ct.EMPTY,this.right=o??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Ct(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Et(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hC("Invalid base64 string: "+o):o}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(je(!!t),typeof t=="string"){let e=0;const n=d5.exec(t);if(je(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zf(t){const e=t.mapValue.fields.__previous_value__;return xy(e)?Zf(e):e}function rc(t){const e=Bs(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,s,o,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class sc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xy(t)?4:p5(t)?9007199254740991:h5(t)?10:11:de()}function yr(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Bs(s.timestampValue),a=Bs(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return zs(s.bytesValue).isEqual(zs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return st(s.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return st(s.integerValue)===st(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=st(s.doubleValue),a=st(o.doubleValue);return i===a?tf(i)===tf(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(M_(i)!==M_(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!yr(i[l],a[l])))return!1;return!0}(t,e);default:return de()}}function oc(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=st(o.integerValue||o.doubleValue),l=st(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return V_(t.timestampValue,e.timestampValue);case 4:return V_(rc(t),rc(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(o,i){const a=zs(o),l=zs(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Ae(a[c],l[c]);if(f!==0)return f}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=Ae(st(o.latitude),st(i.latitude));return a!==0?a:Ae(st(o.longitude),st(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F_(t.arrayValue,e.arrayValue);case 10:return function(o,i){var a,l,c,f;const h=o.fields||{},m=i.fields||{},x=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,v=Ae(((c=x==null?void 0:x.values)===null||c===void 0?void 0:c.length)||0,((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0);return v!==0?v:F_(x,w)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===ju.mapValue&&i===ju.mapValue)return 0;if(o===ju.mapValue)return 1;if(i===ju.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=i.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const m=Ae(l[h],f[h]);if(m!==0)return m;const x=ta(a[l[h]],c[f[h]]);if(x!==0)return x}return Ae(l.length,f.length)}(t.mapValue,e.mapValue);default:throw de()}}function V_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Bs(t),r=Bs(e),s=Ae(n.seconds,r.seconds);return s!==0?s:Ae(n.nanos,r.nanos)}function F_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=ta(n[s],r[s]);if(o)return o}return Ae(n.length,r.length)}function na(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=hg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${hg(n.fields[i])}`;return s+"}"}(t.mapValue):de()}function id(t){switch(Ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(t);return e?16+id(e):16;case 5:return 2*t.stringValue.length;case 6:return zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+id(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Go(r.fields,(o,i)=>{s+=o.length+id(i)}),s}(t.mapValue);default:throw de()}}function pg(t){return!!t&&"integerValue"in t}function _y(t){return!!t&&"arrayValue"in t}function U_(t){return!!t&&"nullValue"in t}function $_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ad(t){return!!t&&"mapValue"in t}function h5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Rl(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Go(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new _n(Rl(this.value))}}function pC(t){const e=[];return Go(t.fields,(n,r)=>{const s=new It([n]);if(ad(r)){const o=pC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,he.min(),he.min(),he.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Ft(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Ft(e,2,n,he.min(),he.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,he.min(),he.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.position=e,this.inclusive=n}}function B_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(i.referenceValue),n.key):r=ta(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function m5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class ft extends mC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v5(e,n,r):n==="array-contains"?new x5(e,r):n==="in"?new _5(e,r):n==="not-in"?new E5(e,r):n==="array-contains-any"?new S5(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y5(e,r):new w5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ta(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends mC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return gC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gC(t){return t.op==="and"}function vC(t){return g5(t)&&gC(t)}function g5(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function mg(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+na(t.value);if(vC(t))return t.filters.map(e=>mg(e)).join(",");{const e=t.filters.map(n=>mg(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&yr(r.value,s.value)}(t,e):t instanceof wr?function(r,s){return s instanceof wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&yC(i,s.filters[a]),!0):!1}(t,e):void de()}function wC(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class v5 extends ft{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class y5 extends ft{constructor(e,n){super(e,"in",n),this.keys=xC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w5 extends ft{constructor(e,n){super(e,"not-in",n),this.keys=xC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class x5 extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _y(n)&&oc(n.arrayValue,this.value)}}class _5 extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class E5 extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}}class S5 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.ue=null}}function W_(t,e=null,n=[],r=[],s=null,o=null,i=null){return new T5(t,e,n,r,s,o,i)}function Ey(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.ue=n}return e.ue}function Sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function gg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function b5(t,e,n,r,s,o,i,a){return new eh(t,e,n,r,s,o,i,a)}function Ty(t){return new eh(t)}function H_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C5(t){return t.collectionGroup!==null}function Al(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new Et(It.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new rf(o,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new rf(It.keyField(),r))}return e.ce}function pr(t){const e=ge(t);return e.le||(e.le=I5(e,Al(t))),e.le}function I5(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new rf(s.field,o)});const n=t.endAt?new nf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nf(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vg(t,e,n){return new eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function th(t,e){return Sy(pr(t),pr(e))&&t.limitType===e.limitType}function _C(t){return`${Ey(pr(t))}|lt:${t.limitType}`}function yi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wC(s)).join(", ")}]`),Jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>na(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>na(s)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function nh(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Al(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,l){const c=B_(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,Al(r),s)||r.endAt&&!function(i,a,l){const c=B_(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,Al(r),s))}(t,e)}function R5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EC(t){return(e,n)=>{let r=!1;for(const s of Al(t)){const o=A5(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function A5(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(o,i,a){const l=i.data.field(o),c=a.data.field(o);return l!==null&&c!==null?ta(l,c):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return fC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new tt(ae.comparator);function Gr(){return P5}const SC=new tt(ae.comparator);function dl(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function TC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wo(){return Pl()}function bC(){return Pl()}function Pl(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const N5=new tt(ae.comparator),k5=new Et(ae.comparator);function be(...t){let e=k5;for(const n of t)e=e.add(n);return e}const j5=new Et(Ae);function D5(){return j5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function CC(t){return{integerValue:""+t}}function O5(t,e){return l5(e)?CC(e):by(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function M5(t,e,n){return t instanceof sf?function(s,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&xy(o)&&(o=Zf(o)),o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof ic?RC(t,e):t instanceof ac?AC(t,e):function(s,o){const i=IC(s,o),a=q_(i)+q_(s.Pe);return pg(i)&&pg(s.Pe)?CC(a):by(s.serializer,a)}(t,e)}function L5(t,e,n){return t instanceof ic?RC(t,e):t instanceof ac?AC(t,e):n}function IC(t,e){return t instanceof of?function(r){return pg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sf extends rh{}class ic extends rh{constructor(e){super(),this.elements=e}}function RC(t,e){const n=PC(e);for(const r of t.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends rh{constructor(e){super(),this.elements=e}}function AC(t,e){let n=PC(e);for(const r of t.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class of extends rh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function q_(t){return st(t.integerValue||t.doubleValue)}function PC(t){return _y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ic&&s instanceof ic||r instanceof ac&&s instanceof ac?ea(r.elements,s.elements,yr):r instanceof of&&s instanceof of?yr(r.Pe,s.Pe):r instanceof sf&&s instanceof sf}(t.transform,e.transform)}class F5{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sh{}function NC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cy(t.key,mr.none()):new Rc(t.key,t.data,mr.none());{const n=t.data,r=_n.empty();let s=new Et(It.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new Qo(t.key,r,new Bn(s.toArray()),mr.none())}}function U5(t,e,n){t instanceof Rc?function(s,o,i){const a=s.value.clone(),l=K_(s.fieldTransforms,o,i.transformResults);a.setAll(l),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qo?function(s,o,i){if(!ld(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=K_(s.fieldTransforms,o,i.transformResults),l=o.data;l.setAll(kC(s)),l.setAll(a),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof Rc?function(o,i,a,l){if(!ld(o.precondition,i))return a;const c=o.value.clone(),f=Q_(o.fieldTransforms,l,i);return c.setAll(f),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qo?function(o,i,a,l){if(!ld(o.precondition,i))return a;const c=Q_(o.fieldTransforms,l,i),f=i.data;return f.setAll(kC(o)),f.setAll(c),i.convertToFoundDocument(i.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,i,a){return ld(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function $5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=IC(r.transform,s||null);o!=null&&(n===null&&(n=_n.empty()),n.set(r.field,o))}return n||null}function G_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ea(r,s,(o,i)=>V5(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends sh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends sh{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K_(t,e,n){const r=new Map;je(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,L5(i,a,n[s]))}return r}function Q_(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,M5(o,i,e))}return r}class Cy extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B5 extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&U5(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bC();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=NC(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>G_(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>G_(n,r))}}class Iy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length);let s=function(){return N5}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Iy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Re;function q5(t){switch(t){default:return de();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function jC(t){if(t===void 0)return qr("GRPC error has no .code"),z.UNKNOWN;switch(t){case at.OK:return z.OK;case at.CANCELLED:return z.CANCELLED;case at.UNKNOWN:return z.UNKNOWN;case at.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case at.INTERNAL:return z.INTERNAL;case at.UNAVAILABLE:return z.UNAVAILABLE;case at.UNAUTHENTICATED:return z.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case at.NOT_FOUND:return z.NOT_FOUND;case at.ALREADY_EXISTS:return z.ALREADY_EXISTS;case at.PERMISSION_DENIED:return z.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case at.ABORTED:return z.ABORTED;case at.OUT_OF_RANGE:return z.OUT_OF_RANGE;case at.UNIMPLEMENTED:return z.UNIMPLEMENTED;case at.DATA_LOSS:return z.DATA_LOSS;default:return de()}}(Re=at||(at={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new So([4294967295,4294967295],0);function Y_(t){const e=G5().encode(t),n=new sC;return n.update(e),new Uint8Array(n.digest())}function X_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new So([n,r],0),new So([s,o],0)]}class Ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=So.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(So.fromNumber(r)));return s.compare(K5)===1&&(s=new So([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Y_(e),[r,s]=X_(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);if(!this.de(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Ry(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=Y_(e),[r,s]=X_(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oh(he.min(),s,new tt(Ae),Gr(),be())}}class Ac{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ac(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class DC{constructor(e,n){this.targetId=e,this.me=n}}class OC{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class J_{constructor(){this.fe=0,this.ge=eE(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new Ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Q5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=Z_(),this.Qe=new tt(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(gg(o))if(r===0){const i=new ae(o.path);this.Ue(n,i,Ft.newNoDocument(i,he.min()))}else je(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=zs(r).toUint8Array()}catch(l){if(l instanceof hC)return Zi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ry(i,s,o)}catch(l){return Zi(l instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,i)=>{const a=this.Je(i);if(a){if(o.current&&gg(a.target)){const l=new ae(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,Ft.newNoDocument(l,e))}o.be&&(n.set(i,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,i)=>i.setReadTime(e));const s=new oh(e,n,this.Qe,this.ke,r);return this.ke=Gr(),this.qe=Z_(),this.Qe=new tt(Ae),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z_(){return new tt(ae.comparator)}function eE(){return new tt(ae.comparator)}const Y5={asc:"ASCENDING",desc:"DESCENDING"},X5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J5={and:"AND",or:"OR"};class Z5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||Jf(e)?e:{value:e}}function af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e3(t,e){return af(t,e.toTimestamp())}function gr(t){return je(!!t),he.fromTimestamp(function(n){const r=Bs(n);return new mt(r.seconds,r.nanos)}(t))}function Ay(t,e){return wg(t,e).canonicalString()}function wg(t,e){const n=function(s){return new Ge(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LC(t){const e=Ge.fromString(t);return je(BC(e)),e}function xg(t,e){return Ay(t.databaseId,e.path)}function Lp(t,e){const n=LC(e);if(n.get(1)!==t.databaseId.projectId)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(FC(n))}function VC(t,e){return Ay(t.databaseId,e)}function t3(t){const e=LC(t);return e.length===4?Ge.emptyPath():FC(e)}function _g(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FC(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tE(t,e,n){return{name:xg(t,e),fields:n.value.mapValue.fields}}function n3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(je(f===void 0||typeof f=="string"),Pt.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Pt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const f=c.code===void 0?z.UNKNOWN:jC(c.code);return new se(f,c.message||"")}(i);n=new OC(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lp(t,r.document.name),o=gr(r.document.updateTime),i=r.document.createTime?gr(r.document.createTime):he.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(s,o,i,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new cd(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lp(t,r.document),o=r.readTime?gr(r.readTime):he.min(),i=Ft.newNoDocument(s,o),a=r.removedTargetIds||[];n=new cd([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lp(t,r.document),o=r.removedTargetIds||[];n=new cd([],o,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new H5(s,o),a=r.targetId;n=new DC(a,i)}}return n}function r3(t,e){let n;if(e instanceof Rc)n={update:tE(t,e.key,e.value)};else if(e instanceof Cy)n={delete:xg(t,e.key)};else if(e instanceof Qo)n={update:tE(t,e.key,e.data),updateMask:f3(e.fieldMask)};else{if(!(e instanceof B5))return de();n={verify:xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof sf)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ic)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ac)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof of)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:e3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de()}(t,e.precondition)),n}function s3(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(s,o){let i=s.updateTime?gr(s.updateTime):gr(o);return i.isEqual(he.min())&&(i=gr(o)),new F5(i,s.transformResults||[])}(n,e))):[]}function o3(t,e){return{documents:[VC(t,e.path)]}}function i3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VC(t,s);const o=function(c){if(c.length!==0)return $C(wr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:wi(m.field),direction:c3(m.dir)}}(f))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=yg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function a3(t){let e=t3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){const m=UC(h);return m instanceof wr&&vC(m)?m.getFilters():[m]}(n.where));let i=[];n.orderBy&&(i=function(h){return h.map(m=>function(w){return new rf(xi(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Jf(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,x=h.values||[];return new nf(x,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,x=h.values||[];return new nf(x,m)}(n.endAt)),b5(e,s,i,o,a,"F",l,c)}function l3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xi(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xi(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xi(n.unaryFilter.field);return ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xi(n.unaryFilter.field);return ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(xi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>UC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function c3(t){return Y5[t]}function u3(t){return X5[t]}function d3(t){return J5[t]}function wi(t){return{fieldPath:t.canonicalString()}}function xi(t){return It.fromServerFormat(t.fieldPath)}function $C(t){return t instanceof ft?function(n){if(n.op==="=="){if($_(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NAN"}};if(U_(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($_(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NAN"}};if(U_(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(n.field),op:u3(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(s=>$C(s));return r.length===1?r[0]:{compositeFilter:{op:d3(n.op),filters:r}}}(t):de()}function f3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,o=he.min(),i=he.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.ct=e}}function p3(t){const e=a3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.un=new g3}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve($s.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class g3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et(Ge.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ra(0)}static kn(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE([t,e],[n,r]){const s=Ae(t,n);return s===0?Ae(e,r):s}class v3{constructor(e){this.Un=e,this.buffer=new Et(rE),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await va(n)}await this.Hn(3e5)})}}class w3{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Xf.oe);const r=new v3(n);return this.Jn.forEachTarget(e,s=>r.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>r.zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(nE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,s,o,i,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,i=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),vi()<=Te.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-f}ms
	Determined least recently used ${s} in `+(a-i)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:h})))}}function x3(t,e){return new w3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nl(r.mutation,s,Bn.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=wo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=dl();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=Gr();const i=Pl(),a=function(){return Pl()}();return n.forEach((l,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof Qo)?o=o.insert(c.key,c):f!==void 0?(i.set(c.key,f.mutation.getFieldMask()),Nl(f.mutation,c,f.mutation.getFieldMask(),mt.now())):i.set(c.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,f)=>i.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new E3(f,(h=i.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pl();let s=new tt((i,a)=>i-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Bn.empty();f=a.applyToLocalView(c,f),r.set(l,f);const h=(s.get(a.batchId)||be()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,h=bC();f.forEach(m=>{if(!o.has(m)){const x=NC(n.get(m),r.get(m));x!==null&&h.set(m,x),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):$.resolve(wo());let a=-1,l=o;return i.next(c=>$.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{l=l.insert(f,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,be())).next(f=>({batchId:a,changes:TC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=dl();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,l=>{const c=function(h,m){return new eh(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((h,m)=>{i=i.insert(h,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((l,c)=>{const f=c.getKey();i.get(f)===null&&(i=i.insert(f,Ft.newInvalidDocument(f)))});let a=dl();return i.forEach((l,c)=>{const f=o.get(l);f!==void 0&&Nl(f.mutation,c,Bn.empty(),mt.now()),nh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:p3(s.bundledQuery),readTime:gr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.overlays=new tt(ae.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wo();return $.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=wo(),o=n.length+1,i=new ae(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new tt((c,f)=>c-f);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=wo(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=wo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=s)););return $.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new W5(n,r));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Tr=new Et(wt.Er),this.dr=new Et(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new Ge([])),r=new wt(n,e),s=new wt(n,e+1),o=[];return this.dr.forEachInRange([r,s],i=>{this.Vr(i),o.push(i.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new Ge([])),r=new wt(n,e),s=new wt(n,e+1);let o=be();return this.dr.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Ae(e.wr,n.wr)}static Ar(e,n){return Ae(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(wt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new z5(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.br=this.br.add(new wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(i)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),s=new wt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],i=>{const a=this.Dr(i.wr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ae);return n.forEach(s=>{const o=new wt(s,0),i=new wt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,i],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ae.isDocumentKey(o)||(o=o.child(""));const i=new wt(new ae(o),0);let a=new Et(Ae);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},i),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,s=>{const o=new wt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),s=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.Mr=e,this.docs=function(){return new tt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Ft.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Gr();const i=n.path,a=new ae(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||s5(r5(f),r)<=0||(s.has(f.key)||nh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,n,r,s){de()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A3(this)}getSize(e){return $.resolve(this.size)}}class A3 extends _3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.persistence=e,this.Nr=new Ko(n=>Ey(n),Sy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Py,this.targetCount=0,this.kr=ra.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(o).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xf(0),this.Kr=!1,this.Kr=!0,this.$r=new C3,this.referenceDelegate=e(this),this.Ur=new P3(this),this.indexManager=new m3,this.remoteDocumentCache=function(s){return new R3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h3(n),this.Gr=new T3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new I3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new N3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class N3 extends i5{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.Jr=new Py,this.Yr=null}static Zr(e){return new Ny(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const s=ae.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.ti=new Ko(r=>c5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=x3(this,n)}static Zr(e,n){return new lf(e,n)}zr(){}jr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return $.forEach(this.ti,(r,s)=>this.nr(e,r,s).next(o=>o?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Or(e,i=>this.nr(e,i,n).next(a=>{a||(r++,o.removeEntry(i,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=id(e.data.value)),n}nr(e,n,r){return $.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ti.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=be(),s=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ky(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return LO()?8:a5($t())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new k3;return this.Xi(e,n,i).next(a=>{if(o.result=a,this.zi)return this.es(e,n,i,a.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(vi()<=Te.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",yi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(vi()<=Te.DEBUG&&X("QueryEngine","Query:",yi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(vi()<=Te.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",yi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):$.resolve())}Yi(e,n){if(H_(n))return $.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vg(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=be(...o);return this.Ji.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,i,l.readTime)?this.Yi(e,vg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return H_(n)||s.isEqual(he.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const i=this.ts(n,o);return this.ns(n,i,r,s)?$.resolve(null):(vi()<=Te.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yi(n)),this.rs(e,i,n,n5(s,-1)).next(a=>a))})}ts(e,n){let r=new Et(EC(e));return n.forEach((s,o)=>{nh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return vi()<=Te.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",yi(n)),this.Ji.getDocumentsMatchingQuery(e,n,$s.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new tt(Ae),this._s=new Ko(o=>Ey(o),Sy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function O3(t,e,n,r){return new D3(t,e,n,r)}async function WC(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=be();for(const c of s){i.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of o){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:i,addedBatchIds:a}))})})}function M3(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const h=c.batch,m=h.keys();let x=$.resolve();return m.forEach(w=>{x=x.next(()=>f.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);je(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),f.addEntry(v)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HC(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function L3(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=s.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let x=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?x=x.withResumeToken(Pt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),s=s.insert(h,x),function(v,_,E){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,x,f)&&a.push(n.Ur.updateTargetData(o,x))});let l=Gr(),c=be();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(V3(o,i,e.documentUpdates).next(f=>{l=f.Ps,c=f.Is})),!r.isEqual(he.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return $.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=s,o))}function V3(t,e,n){let r=be(),s=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Gr();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:i,Is:s}})}function F3(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U3(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,$.resolve(s)):n.Ur.allocateTargetId(r).next(i=>(s=new Cs(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Eg(t,e,n){const r=ge(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!ya(i))throw i;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function sE(t,e,n){const r=ge(t);let s=he.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,f){const h=ge(l),m=h._s.get(f);return m!==void 0?$.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,i,pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(i,e,n?s:he.min(),n?o:be())).next(a=>($3(r,R5(e),a),{documents:a,Ts:o})))}function $3(t,e,n){let r=t.us.get(e)||he.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class oE{constructor(){this.activeTargetIds=D5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B3{constructor(){this.so=new oE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Vp(){return Du===null?Du=function(){return 268435456+Math.round(2147483648*Math.random())}():Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class q3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,i){const a=Vp(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,i),this.No(n,l,c,s).then(f=>(X("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Zi("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",s),f})}Lo(n,r,s,o,i,a){return this.Mo(n,r,s,o,i)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,i)=>n[i]=o),s&&s.headers.forEach((o,i)=>n[i]=o)}xo(n,r){const s=W3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=Vp();return new Promise((i,a)=>{const l=new oC;l.setWithCredentials(!0),l.listenOnce(iC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case od.NO_ERROR:const f=l.getResponseJson();X(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),i(f);break;case od.TIMEOUT:X(Mt,`RPC '${e}' ${o} timed out`),a(new se(z.DEADLINE_EXCEEDED,"Request time out"));break;case od.HTTP_ERROR:const h=l.getStatus();if(X(Mt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const w=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(E)>=0?E:z.UNKNOWN}(x.status);a(new se(w,x.message))}else a(new se(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(z.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{X(Mt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(s);X(Mt,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Vp(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=cC(),a=lC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");X(Mt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const h=i.createWebChannel(f,l);let m=!1,x=!1;const w=new H3({Io:_=>{x?X(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(X(Mt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),X(Mt,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,E,y)=>{_.listen(E,b=>{try{y(b)}catch(N){setTimeout(()=>{throw N},0)}})};return v(h,ul.EventType.OPEN,()=>{x||(X(Mt,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(h,ul.EventType.CLOSE,()=>{x||(x=!0,X(Mt,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(h,ul.EventType.ERROR,_=>{x||(x=!0,Zi(Mt,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new se(z.UNAVAILABLE,"The operation could not be completed")))}),v(h,ul.EventType.MESSAGE,_=>{var E;if(!x){const y=_.data[0];je(!!y);const b=y,N=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(N){X(Mt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let j=function(I){const P=at[I];if(P!==void 0)return jC(P)}(O),C=N.message;j===void 0&&(j=z.INTERNAL,C="Unknown error status: "+O+" with message "+N.message),x=!0,w.So(new se(j,C)),h.close()}else X(Mt,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,aC.STAT_EVENT,_=>{_.stat===fg.PROXY?X(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===fg.NOPROXY&&X(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){return new Z5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,s,o,i,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G3 extends GC{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=n3(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?he.min():i.readTime?gr(i.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=_g(this.serializer),n.addTarget=function(o,i){let a;const l=i.target;if(a=gg(l)?{documents:o3(o,l)}:{query:i3(o,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=MC(o,i.resumeToken);const c=yg(o,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(he.min())>0){a.readTime=af(o,i.snapshotVersion.toTimestamp());const c=yg(o,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=l3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.a_(n)}}class K3 extends GC{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=s3(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=_g(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>r3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Mo(e,wg(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(z.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Lo(e,wg(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(z.UNKNOWN,i.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Y3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(i=>{r.enqueueAndForget(async()=>{Yo(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ge(l);c.L_.add(4),await Pc(c),c.q_.set("Unknown"),c.L_.delete(4),await ah(c)}(this))})}),this.q_=new Y3(r,s)}}async function ah(t){if(Yo(t))for(const e of t.B_)await e(!0)}async function Pc(t){for(const e of t.B_)await e(!1)}function KC(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),My(n)?Oy(n):wa(n).r_()&&Dy(n,e))}function jy(t,e){const n=ge(t),r=wa(n);n.N_.delete(e),r.r_()&&QC(n,e),n.N_.size===0&&(r.r_()?r.o_():Yo(n)&&n.q_.set("Unknown"))}function Dy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).A_(e)}function QC(t,e){t.Q_.xe(e),wa(t).R_(e)}function Oy(t){t.Q_=new Q5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.q_.v_()}function My(t){return Yo(t)&&!wa(t).n_()&&t.N_.size>0}function Yo(t){return ge(t).L_.size===0}function YC(t){t.Q_=void 0}async function J3(t){t.q_.set("Online")}async function Z3(t){t.N_.forEach((e,n)=>{Dy(t,e)})}async function e9(t,e){YC(t),My(t)?(t.q_.M_(e),Oy(t)):t.q_.set("Unknown")}async function t9(t,e,n){if(t.q_.set("Online"),e instanceof OC&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(t,r)}else if(e instanceof cd?t.Q_.Ke(e):e instanceof DC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await HC(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Q_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const f=o.N_.get(l);if(!f)return;o.N_.set(l,f.withResumeToken(Pt.EMPTY_BYTE_STRING,f.snapshotVersion)),QC(o,l);const h=new Cs(f.target,l,c,f.sequenceNumber);Dy(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await cf(t,r)}}async function cf(t,e,n){if(!ya(e))throw e;t.L_.add(1),await Pc(t),t.q_.set("Offline"),n||(n=()=>HC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ah(t)})}function XC(t,e){return e().catch(n=>cf(t,n,e))}async function lh(t){const e=ge(t),n=Hs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;n9(e);)try{const s=await F3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,r9(e,s)}catch(s){await cf(e,s)}JC(e)&&ZC(e)}function n9(t){return Yo(t)&&t.O_.length<10}function r9(t,e){t.O_.push(e);const n=Hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JC(t){return Yo(t)&&!Hs(t).n_()&&t.O_.length>0}function ZC(t){Hs(t).start()}async function s9(t){Hs(t).p_()}async function o9(t){const e=Hs(t);for(const n of t.O_)e.m_(n.mutations)}async function i9(t,e,n){const r=t.O_.shift(),s=Iy.from(r,e,n);await XC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await lh(t)}async function a9(t,e){e&&Hs(t).V_&&await async function(r,s){if(function(i){return q5(i)&&i!==z.ABORTED}(s.code)){const o=r.O_.shift();Hs(r).s_(),await XC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await lh(r)}}(t,e),JC(t)&&ZC(t)}async function aE(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.L_.add(3),await Pc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ah(n)}async function l9(t,e){const n=ge(t);e?(n.L_.delete(2),await ah(n)):e||(n.L_.add(2),await Pc(n),n.q_.set("Unknown"))}function wa(t){return t.K_||(t.K_=function(n,r,s){const o=ge(n);return o.w_(),new G3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:J3.bind(null,t),Ro:Z3.bind(null,t),mo:e9.bind(null,t),d_:t9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),My(t)?Oy(t):t.q_.set("Unknown")):(await t.K_.stop(),YC(t))})),t.K_}function Hs(t){return t.U_||(t.U_=function(n,r,s){const o=ge(n);return o.w_(),new K3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s9.bind(null,t),mo:a9.bind(null,t),f_:o9.bind(null,t),g_:i9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lh(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new Ly(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(t,e){if(qr("AsyncQueue",`${e}: ${t}`),ya(t))return new se(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=dl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Bi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.W_=new tt(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):de():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sa{constructor(e,n,r,s,o,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new sa(e,n,Bi.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class u9{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ge(n),o=s.queries;s.queries=cE(),o.forEach((i,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se(z.ABORTED,"Firestore shutting down"))}}function cE(){return new Ko(t=>_C(t),th)}async function eI(t,e){const n=ge(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new c9,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=Vy(i,`Initialization of query '${yi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Fy(n)}async function tI(t,e){const n=ge(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.j_.indexOf(e);i>=0&&(o.j_.splice(i,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d9(t,e){const n=ge(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.j_)a.X_(s)&&(r=!0);i.z_=s}}r&&Fy(n)}function f9(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function Fy(t){t.Y_.forEach(e=>{e.next()})}var Sg,uE;(uE=Sg||(Sg={})).ea="default",uE.Cache="cache";class nI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class h9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=EC(e),this.Ra=new Bi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lE,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const m=s.get(f),x=nh(this.query,h)?h:null,w=!!m&&this.mutatedKeys.has(m.key),v=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;m&&x?m.data.isEqual(x.data)?w!==v&&(r.track({type:3,doc:x}),_=!0):this.ga(m,x)||(r.track({type:2,doc:x}),_=!0,(l&&this.Aa(x,l)>0||c&&this.Aa(x,c)<0)&&(a=!0)):!m&&x?(r.track({type:0,doc:x}),_=!0):m&&!x&&(r.track({type:1,doc:m}),_=!0,(l||c)&&(a=!0)),_&&(x?(i=i.add(x),o=v?o.add(f):o.delete(f)):(i=i.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const f=this.query.limitType==="F"?i.last():i.first();i=i.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:i,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort((f,h)=>function(x,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return v(x)-v(w)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,i.length!==0||c?{snapshot:new sa(this.query,e.Ra,o,i,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new sI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new rI(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return sa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class p9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m9{constructor(e){this.key=e,this.va=!1}}class g9{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new Ko(a=>_C(a),th),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(ae.comparator),this.Na=new Map,this.La=new Py,this.Ba={},this.ka=new Map,this.qa=ra.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function v9(t,e,n=!0){const r=uI(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await oI(r,e,n,!0),s}async function y9(t,e){const n=uI(t);await oI(n,e,!0,!1)}async function oI(t,e,n,r){const s=await U3(t.localStore,pr(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await w9(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&KC(t.remoteStore,s),a}async function w9(t,e,n,r,s){t.Ka=(h,m,x)=>async function(v,_,E,y){let b=_.view.ma(E);b.ns&&(b=await sE(v.localStore,_.query,!1).then(({documents:C})=>_.view.ma(C,b)));const N=y&&y.targetChanges.get(_.targetId),O=y&&y.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(b,v.isPrimaryClient,N,O);return fE(v,_.targetId,j.wa),j.snapshot}(t,h,m,x);const o=await sE(t.localStore,e,!0),i=new h9(e,o.Ts),a=i.ma(o.documents),l=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=i.applyChanges(a,t.isPrimaryClient,l);fE(t,n,c.wa);const f=new p9(e,n,i);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function x9(t,e,n){const r=ge(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(i=>!th(i,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Eg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jy(r.remoteStore,s.targetId),Tg(r,s.targetId)}).catch(va)):(Tg(r,s.targetId),await Eg(r.localStore,s.targetId,!0))}async function _9(t,e){const n=ge(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jy(n.remoteStore,r.targetId))}async function E9(t,e,n){const r=A9(t);try{const s=await function(i,a){const l=ge(i),c=mt.now(),f=a.reduce((x,w)=>x.add(w.key),be());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=Gr(),v=be();return l.cs.getEntries(x,f).next(_=>{w=_,w.forEach((E,y)=>{y.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,w)).next(_=>{h=_;const E=[];for(const y of a){const b=$5(y,h.get(y.key).overlayedDocument);b!=null&&E.push(new Qo(y.key,b,pC(b.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(x,c,E,a)}).next(_=>{m=_;const E=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(x,_.batchId,E)})}).then(()=>({batchId:m.batchId,changes:TC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,l){let c=i.Ba[i.currentUser.toKey()];c||(c=new tt(Ae)),c=c.insert(a,l),i.Ba[i.currentUser.toKey()]=c}(r,s.batchId,n),await Nc(r,s.changes),await lh(r.remoteStore)}catch(s){const o=Vy(s,"Failed to persist write");n.reject(o)}}async function iI(t,e){const n=ge(t);try{const r=await L3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Na.get(o);i&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.va=!0:s.modifiedDocuments.size>0?je(i.va):s.removedDocuments.size>0&&(je(i.va),i.va=!1))}),await Nc(n,r,e)}catch(r){await va(r)}}function dE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,i)=>{const a=i.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const l=ge(i);l.onlineState=a;let c=!1;l.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&Fy(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S9(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let i=new tt(ae.comparator);i=i.insert(o,Ft.newNoDocument(o,he.min()));const a=be().add(o),l=new oh(he.min(),new Map,new tt(Ae),i,a);await iI(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Uy(r)}else await Eg(r.localStore,e,!1).then(()=>Tg(r,e,n)).catch(va)}async function T9(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await M3(n.localStore,e);lI(n,r,null),aI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nc(n,s)}catch(s){await va(s)}}async function b9(t,e,n){const r=ge(t);try{const s=await function(i,a){const l=ge(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(je(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);lI(r,e,n),aI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nc(r,s)}catch(s){await va(s)}}function aI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function lI(t,e,n){const r=ge(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Tg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cI(t,r)})}function cI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(jy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Uy(t))}function fE(t,e,n){for(const r of n)r instanceof rI?(t.La.addReference(r.key,e),C9(t,r)):r instanceof sI?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cI(t,r.key)):de()}function C9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),Uy(t))}function Uy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new m9(n)),t.Oa=t.Oa.insert(n,r),KC(t.remoteStore,new Cs(pr(Ty(n.path)),r,"TargetPurposeLimboResolution",Xf.oe))}}async function Nc(t,e,n){const r=ge(t),s=[],o=[],i=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{i.push(r.Ka(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=ky.Wi(l.targetId,c);o.push(h)}}))}),await Promise.all(i),r.Ca.d_(s),await async function(l,c){const f=ge(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,m=>$.forEach(m.$i,x=>f.persistence.referenceDelegate.addReference(h,m.targetId,x)).next(()=>$.forEach(m.Ui,x=>f.persistence.referenceDelegate.removeReference(h,m.targetId,x)))))}catch(h){if(!ya(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const x=f.os.get(m),w=x.snapshotVersion,v=x.withLastLimboFreeSnapshotVersion(w);f.os=f.os.insert(m,v)}}}(r.localStore,o))}async function I9(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await WC(n.localStore,e);n.currentUser=e,function(o,i){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(z.CANCELLED,i))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nc(n,r.hs)}}function R9(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let s=be();const o=n.Ma.get(e);if(!o)return s;for(const i of o){const a=n.Fa.get(i);s=s.unionWith(a.view.Va)}return s}}function uI(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S9.bind(null,e),e.Ca.d_=d9.bind(null,e.eventManager),e.Ca.$a=f9.bind(null,e.eventManager),e}function A9(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b9.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return O3(this.persistence,new j3,e.initialUser,this.serializer)}Ga(e){return new zC(Ny.Zr,this.serializer)}Wa(e){return new B3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class P9 extends uf{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){je(this.persistence.referenceDelegate instanceof lf);const r=this.persistence.referenceDelegate.garbageCollector;return new y3(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new zC(r=>lf.Zr(r,n),this.serializer)}}class bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I9.bind(null,this.syncEngine),await l9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u9}()}createDatastore(e){const n=ih(e.databaseInfo.databaseId),r=function(o){return new q3(o)}(e.databaseInfo);return function(o,i,a,l){return new Q3(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new X3(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dE(this.syncEngine,n,0),function(){return iE.D()?new iE:new z3}())}createSyncEngine(e,n){return function(s,o,i,a,l,c,f){const h=new g9(s,o,i,a,l,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ge(s);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Pc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bg.provider={build:()=>new bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=dC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{X("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(X("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Up(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k9(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>aE(e.remoteStore,s)),t._onlineComponents=e}async function k9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Zi("Error using user provided cache. Falling back to memory cache: "+n),await Up(t,new uf)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Up(t,new P9(void 0));return t._offlineComponents}async function fI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await hE(t,new bg))),t._onlineComponents}function j9(t){return fI(t).then(e=>e.syncEngine)}async function hI(t){const e=await fI(t),n=e.eventManager;return n.onListen=v9.bind(null,e.syncEngine),n.onUnlisten=x9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_9.bind(null,e.syncEngine),n}function D9(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,c){const f=new dI({next:m=>{f.Za(),i.enqueueAndForget(()=>tI(o,h));const x=m.docs.has(a);!x&&m.fromCache?c.reject(new se(z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&m.fromCache&&l&&l.source==="server"?c.reject(new se(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new nI(Ty(a.path),f,{includeMetadataChanges:!0,_a:!0});return eI(o,h)}(await hI(t),t.asyncQueue,e,n,r)),r.promise}function O9(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,c){const f=new dI({next:m=>{f.Za(),i.enqueueAndForget(()=>tI(o,h)),m.fromCache&&l.source==="server"?c.reject(new se(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new nI(a,f,{includeMetadataChanges:!0,_a:!0});return eI(o,h)}(await hI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,n){if(!n)throw new se(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M9(t,e,n,r){if(e===!0&&r===!0)throw new se(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mE(t){if(!ae.isDocumentKey(t))throw new se(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gE(t){if(ae.isDocumentKey(t))throw new se(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function qs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$y(t);throw new se(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GF;switch(r.type){case"firstParty":return new XF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pE.get(n);r&&(X("ComponentProvider","Removing Datastore"),pE.delete(n),r.terminate())}(this),Promise.resolve()}}function L9(t,e,n,r={}){var s;const o=(t=qs(t,ch))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=NO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}t._authCredentials=new KF(new uC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uh(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Vs extends uh{constructor(e,n,r){super(e,n,Ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ae(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function yE(t,e,...n){if(t=gt(t),mI("collection","path",e),t instanceof ch){const r=Ge.fromString(e,...n);return gE(r),new Vs(t,null,r)}{if(!(t instanceof fn||t instanceof Vs))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return gE(r),new Vs(t.firestore,null,r)}}function $p(t,e,...n){if(t=gt(t),arguments.length===1&&(e=dC.newId()),mI("doc","path",e),t instanceof ch){const r=Ge.fromString(e,...n);return mE(r),new fn(t,null,new ae(r))}{if(!(t instanceof fn||t instanceof Vs))throw new se(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return mE(r),new fn(t.firestore,t instanceof Vs?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qC(this,"async_queue_retry"),this.Vu=()=>{const r=Fp();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Fr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ya(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw qr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Ly.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&de()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class kc extends ch{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new wE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wE(e),this._firestoreClient=void 0,await e}}}function gI(t,e){const n=typeof t=="object"?t:ry(),r=typeof t=="string"?t:"(default)",s=qo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=AO("firestore");o&&L9(s,...o)}return s}function By(t){if(t._terminated)throw new se(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V9(t),t._firestoreClient}function V9(t){var e,n,r;const s=t._freezeSettings(),o=function(a,l,c,f){return new f5(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,pI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new N9(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Pt.fromBase64String(e))}catch(n){throw new se(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=/^__.*__$/;class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class qy{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return df(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yI(this.Cu)&&F9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ih(e)}Qu(e,n,r,s=!1){return new qy({Cu:e,methodName:n,qu:r,path:It.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B9(t){const e=t._freezeSettings(),n=ih(t._databaseId);return new $9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z9(t,e,n,r,s,o={}){const i=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);EI("Data must be an object, but it was:",i,r);const a=xI(r,i);let l,c;if(o.merge)l=new Bn(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const m=W9(e,h,n);if(!i.contains(m))throw new se(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);q9(f,m)||f.push(m)}l=new Bn(f),c=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=i.fieldTransforms;return new U9(new _n(a),l,c)}function wI(t,e){if(_I(t=gt(t)))return EI("Unsupported field value:",e,t),xI(t,e);if(t instanceof vI)return function(r,s){if(!yI(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let l=wI(a,s.Lu(i));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mt.fromDate(r);return{timestampValue:af(s.serializer,o)}}if(r instanceof mt){const o=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(s.serializer,o)}}if(r instanceof Wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:MC(s.serializer,r._byteString)};if(r instanceof fn){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Bu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ay(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hy)return function(i,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return by(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${$y(r)}`)}(t,e)}function xI(t,e){const n={};return fC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(t,(r,s)=>{const o=wI(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Wy||t instanceof oa||t instanceof fn||t instanceof vI||t instanceof Hy)}function EI(t,e,n){if(!_I(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=$y(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function W9(t,e,n){if((e=gt(e))instanceof zy)return e._internalPath;if(typeof e=="string")return SI(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}const H9=new RegExp("[~\\*/\\[\\]]");function SI(t,e,n){if(e.search(H9)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zy(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new se(z.INVALID_ARGUMENT,a+t+l)}function q9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G9 extends TI{data(){return super.data()}}function bI(t,e){return typeof e=="string"?SI(t,e):e instanceof zy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q9{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Go(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(i=>st(i.doubleValue));return new Hy(o)}convertGeoPoint(e){return new Wy(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);je(BC(r));const s=new sc(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return s.isEqual(n)||qr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CI extends TI{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ud extends CI{data(e={}){return super.data(e)}}class X9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ud(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const l=new ud(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ud(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),f=i.indexOf(a.doc.key)),{type:J9(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){t=qs(t,fn);const e=qs(t.firestore,kc);return D9(By(e),t._key).then(n=>n6(e,t,n))}class II extends Q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function xE(t){t=qs(t,uh);const e=qs(t.firestore,kc),n=By(e),r=new II(e);return K9(t._query),O9(n,t._query).then(s=>new X9(e,r,t,s))}function e6(t,e,n){t=qs(t,fn);const r=qs(t.firestore,kc),s=Y9(t.converter,e);return RI(r,[z9(B9(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mr.none())])}function t6(t){return RI(qs(t.firestore,kc),[new Cy(t._key,mr.none())])}function RI(t,e){return function(r,s){const o=new Fr;return r.asyncQueue.enqueueAndForget(async()=>E9(await j9(r),s,o)),o.promise}(By(t),e)}function n6(t,e,n){const r=n.docs.get(e._key),s=new II(t);return new CI(t,s,e._key,r,new hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ga=s})(pa),vr(new Qn("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new kc(new QF(r.getProvider("auth-internal")),new ZF(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(c.options.projectId,f)}(i,s),i);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bn(D_,"4.7.4",e),bn(D_,"4.7.4","esm2017")})();const r6={apiKey:"AIzaSyDwPtlbe4PZ4a24GSEr27TAIprTh1K3udU",authDomain:"login-test-c6109.firebaseapp.com",projectId:"login-test-c6109",storageBucket:"login-test-c6109.appspot.com",messagingSenderId:"738955742498",appId:"1:738955742498:web:bc94e697161bda6ded297b",measurementId:"G-23DBRQ7W6Z"},dh=XT(r6);w4(dh);const Yn=HF(dh),el=gI(dh),AI=p.createContext(),ke=()=>p.useContext(AI),s6=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!1),[o,i]=p.useState(!0),[a,l]=p.useState(localStorage.getItem("mode")||"light"),c=()=>{console.log(a),l(a==="dark"?"light":"dark"),localStorage.setItem("mode",a==="dark"?"light":"dark")};return p.useEffect(()=>{const f=DV(Yn,h=>{n(h),s(!!h),i(!1)});return()=>f()},[Yn]),u.jsx(AI.Provider,{value:{user:e,isAuthenticated:r,isAuthenticating:o,toggleMode:c,mode:a},children:t})};function o6(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function fh(...t){return e=>t.forEach(n=>o6(n,e))}function Ee(...t){return p.useCallback(fh(...t),t)}var Gs=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),o=s.find(a6);if(o){const i=o.props.children,a=s.map(l=>l===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:l);return u.jsx(Cg,{...r,ref:e,children:p.isValidElement(i)?p.cloneElement(i,void 0,a):null})}return u.jsx(Cg,{...r,ref:e,children:n})});Gs.displayName="Slot";var Cg=p.forwardRef((t,e)=>{const{children:n,...r}=t;if(p.isValidElement(n)){const s=c6(n);return p.cloneElement(n,{...l6(r,n.props),ref:e?fh(e,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});Cg.displayName="SlotClone";var i6=({children:t})=>u.jsx(u.Fragment,{children:t});function a6(t){return p.isValidElement(t)&&t.type===i6}function l6(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function c6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function PI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=PI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function u6(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=PI(t))&&(r&&(r+=" "),r+=e);return r}const _E=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,EE=u6,xa=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return EE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],h=o==null?void 0:o[c];if(f===null)return null;const m=_E(f)||_E(h);return s[c][m]}),a=n&&Object.entries(n).reduce((c,f)=>{let[h,m]=f;return m===void 0||(c[h]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:h,className:m,...x}=f;return Object.entries(x).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...o,...a}[v]):{...o,...a}[v]===_})?[...c,h,m]:c},[]);return EE(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};function NI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=NI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function d6(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=NI(t))&&(r&&(r+=" "),r+=e);return r}const Gy="-",f6=t=>{const e=p6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(Gy);return a[0]===""&&a.length!==1&&a.shift(),kI(a,e)||h6(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},kI=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Gy);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},SE=/^\[(.+)\]$/,h6=t=>{if(SE.test(t)){const e=SE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},p6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return g6(Object.entries(t.classGroups),n).forEach(([o,i])=>{Ig(i,r,o,e)}),r},Ig=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:TE(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(m6(s)){Ig(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Ig(i,TE(e,o),n,r)})})},TE=(t,e)=>{let n=t;return e.split(Gy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},m6=t=>t.isThemeGetter,g6=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,v6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},jI="!",y6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,f=0,h;for(let _=0;_<a.length;_++){let E=a[_];if(c===0){if(E===s&&(r||a.slice(_,_+o)===e)){l.push(a.slice(f,_)),f=_+o;continue}if(E==="/"){h=_;continue}}E==="["?c++:E==="]"&&c--}const m=l.length===0?a:a.substring(f),x=m.startsWith(jI),w=x?m.substring(1):m,v=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},w6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},x6=t=>({cache:v6(t.cacheSize),parseClassName:y6(t),...f6(t)}),_6=/\s+/,E6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(_6);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:x}=n(c);let w=!!x,v=r(w?m.substring(0,x):m);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=w6(f).join(":"),E=h?_+jI:_,y=E+v;if(o.includes(y))continue;o.push(y);const b=s(v,w);for(let N=0;N<b.length;++N){const O=b[N];o.push(E+O)}a=c+(a.length>0?" "+a:a)}return a};function S6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DI(e))&&(r&&(r+=" "),r+=n);return r}const DI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=DI(t[r]))&&(n&&(n+=" "),n+=e);return n};function T6(t,...e){let n,r,s,o=i;function i(l){const c=e.reduce((f,h)=>h(f),t());return n=x6(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=E6(l,n);return s(l,f),f}return function(){return o(S6.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OI=/^\[(?:([a-z-]+):)?(.+)\]$/i,b6=/^\d+\/\d+$/,C6=new Set(["px","full","screen"]),I6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ar=t=>zi(t)||C6.has(t)||b6.test(t),fs=t=>_a(t,"length",F6),zi=t=>!!t&&!Number.isNaN(Number(t)),Bp=t=>_a(t,"number",zi),tl=t=>!!t&&Number.isInteger(Number(t)),k6=t=>t.endsWith("%")&&zi(t.slice(0,-1)),we=t=>OI.test(t),hs=t=>I6.test(t),j6=new Set(["length","size","percentage"]),D6=t=>_a(t,j6,MI),O6=t=>_a(t,"position",MI),M6=new Set(["image","url"]),L6=t=>_a(t,M6,$6),V6=t=>_a(t,"",U6),nl=()=>!0,_a=(t,e,n)=>{const r=OI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},F6=t=>R6.test(t)&&!A6.test(t),MI=()=>!1,U6=t=>P6.test(t),$6=t=>N6.test(t),B6=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),s=Be("borderColor"),o=Be("borderRadius"),i=Be("borderSpacing"),a=Be("borderWidth"),l=Be("contrast"),c=Be("grayscale"),f=Be("hueRotate"),h=Be("invert"),m=Be("gap"),x=Be("gradientColorStops"),w=Be("gradientColorStopPositions"),v=Be("inset"),_=Be("margin"),E=Be("opacity"),y=Be("padding"),b=Be("saturate"),N=Be("scale"),O=Be("sepia"),j=Be("skew"),C=Be("space"),T=Be("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",we,e],D=()=>[we,e],k=()=>["",Ar,fs],B=()=>["auto",zi,we],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",we],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[zi,we];return{cacheSize:500,separator:":",theme:{colors:[nl],spacing:[Ar,fs],blur:["none","",hs,we],brightness:J(),borderColor:[t],borderRadius:["none","","full",hs,we],borderSpacing:D(),borderWidth:k(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[k6,fs],inset:R(),margin:R(),opacity:J(),padding:D(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),we]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tl,we]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",tl,we]}],"grid-cols":[{"grid-cols":[nl]}],"col-start-end":[{col:["auto",{span:["full",tl,we]},we]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[nl]}],"row-start-end":[{row:["auto",{span:[tl,we]},we]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bp]}],"font-family":[{font:[nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",zi,Bp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ar,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ar,fs]}],"underline-offset":[{"underline-offset":["auto",Ar,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),O6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",D6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Ar,we]}],"outline-w":[{outline:[Ar,fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ar,fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hs,V6]}],"shadow-color":[{shadow:[nl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hs,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[tl,we]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ar,fs,Bp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z6=T6(B6);function le(...t){return z6(d6(t))}const W6=xa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Je=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Gs:"button";return u.jsx(i,{className:le(W6({variant:e,size:n,className:t})),ref:o,...s})});Je.displayName="Button";const pt=p.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:le("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));pt.displayName="Input";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>p.createElement("svg",{ref:l,...q6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LI("lucide",s),...a},[...i.map(([c,f])=>p.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(G6,{ref:o,iconNode:e,className:LI(`lucide-${H6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=Me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Me("Carrot",[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46",key:"rfqxbe"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z",key:"6b25w4"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z",key:"fn65lo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Me("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Me("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Me("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Me("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Me("TvMinimalPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Me("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Me("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function $I(t,e){return function(){return t.apply(e,arguments)}}const{toString:hU}=Object.prototype,{getPrototypeOf:Qy}=Object,hh=(t=>e=>{const n=hU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rr=t=>(t=t.toLowerCase(),e=>hh(e)===t),ph=t=>e=>typeof e===t,{isArray:Sa}=Array,lc=ph("undefined");function pU(t){return t!==null&&!lc(t)&&t.constructor!==null&&!lc(t.constructor)&&hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const BI=rr("ArrayBuffer");function mU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&BI(t.buffer),e}const gU=ph("string"),hn=ph("function"),zI=ph("number"),mh=t=>t!==null&&typeof t=="object",vU=t=>t===!0||t===!1,dd=t=>{if(hh(t)!=="object")return!1;const e=Qy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yU=rr("Date"),wU=rr("File"),xU=rr("Blob"),_U=rr("FileList"),EU=t=>mh(t)&&hn(t.pipe),SU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hn(t.append)&&((e=hh(t))==="formdata"||e==="object"&&hn(t.toString)&&t.toString()==="[object FormData]"))},TU=rr("URLSearchParams"),[bU,CU,IU,RU]=["ReadableStream","Request","Response","Headers"].map(rr),AU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Sa(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function WI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const xo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HI=t=>!lc(t)&&t!==xo;function Rg(){const{caseless:t}=HI(this)&&this||{},e={},n=(r,s)=>{const o=t&&WI(e,s)||s;dd(e[o])&&dd(r)?e[o]=Rg(e[o],r):dd(r)?e[o]=Rg({},r):Sa(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&jc(arguments[r],n);return e}const PU=(t,e,n,{allOwnKeys:r}={})=>(jc(e,(s,o)=>{n&&hn(s)?t[o]=$I(s,n):t[o]=s},{allOwnKeys:r}),t),NU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},jU=(t,e,n,r)=>{let s,o,i;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Qy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},DU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},OU=t=>{if(!t)return null;if(Sa(t))return t;let e=t.length;if(!zI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},MU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Qy(Uint8Array)),LU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},VU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},FU=rr("HTMLFormElement"),UU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),CE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),$U=rr("RegExp"),qI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};jc(n,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(r[o]=i||s)}),Object.defineProperties(t,r)},BU=t=>{qI(t,(e,n)=>{if(hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zU=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Sa(t)?r(t):r(String(t).split(e)),n},WU=()=>{},HU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,zp="abcdefghijklmnopqrstuvwxyz",IE="0123456789",GI={DIGIT:IE,ALPHA:zp,ALPHA_DIGIT:zp+zp.toUpperCase()+IE},qU=(t=16,e=GI.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function GU(t){return!!(t&&hn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const KU=t=>{const e=new Array(10),n=(r,s)=>{if(mh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=Sa(r)?[]:{};return jc(r,(i,a)=>{const l=n(i,s+1);!lc(l)&&(o[a]=l)}),e[s]=void 0,o}}return r};return n(t,0)},QU=rr("AsyncFunction"),YU=t=>t&&(mh(t)||hn(t))&&hn(t.then)&&hn(t.catch),KI=((t,e)=>t?setImmediate:e?((n,r)=>(xo.addEventListener("message",({source:s,data:o})=>{s===xo&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),xo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(xo.postMessage)),XU=typeof queueMicrotask<"u"?queueMicrotask.bind(xo):typeof process<"u"&&process.nextTick||KI,U={isArray:Sa,isArrayBuffer:BI,isBuffer:pU,isFormData:SU,isArrayBufferView:mU,isString:gU,isNumber:zI,isBoolean:vU,isObject:mh,isPlainObject:dd,isReadableStream:bU,isRequest:CU,isResponse:IU,isHeaders:RU,isUndefined:lc,isDate:yU,isFile:wU,isBlob:xU,isRegExp:$U,isFunction:hn,isStream:EU,isURLSearchParams:TU,isTypedArray:MU,isFileList:_U,forEach:jc,merge:Rg,extend:PU,trim:AU,stripBOM:NU,inherits:kU,toFlatObject:jU,kindOf:hh,kindOfTest:rr,endsWith:DU,toArray:OU,forEachEntry:LU,matchAll:VU,isHTMLForm:FU,hasOwnProperty:CE,hasOwnProp:CE,reduceDescriptors:qI,freezeMethods:BU,toObjectSet:zU,toCamelCase:UU,noop:WU,toFiniteNumber:HU,findKey:WI,global:xo,isContextDefined:HI,ALPHABET:GI,generateString:qU,isSpecCompliantForm:GU,toJSONObject:KU,isAsyncFn:QU,isThenable:YU,setImmediate:KI,asap:XU};function ye(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}U.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const QI=ye.prototype,YI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YI[t]={value:t}});Object.defineProperties(ye,YI);Object.defineProperty(QI,"isAxiosError",{value:!0});ye.from=(t,e,n,r,s,o)=>{const i=Object.create(QI);return U.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ye.call(i,t.message,e,n,r,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const JU=null;function Ag(t){return U.isPlainObject(t)||U.isArray(t)}function XI(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function RE(t,e,n){return t?t.concat(e).map(function(s,o){return s=XI(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function ZU(t){return U.isArray(t)&&!t.some(Ag)}const e$=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function gh(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!U.isUndefined(_[v])});const r=n.metaTokens,s=n.visitor||f,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(U.isDate(w))return w.toISOString();if(!l&&U.isBlob(w))throw new ye("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(w)||U.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,v,_){let E=w;if(w&&!_&&typeof w=="object"){if(U.endsWith(v,"{}"))v=r?v:v.slice(0,-2),w=JSON.stringify(w);else if(U.isArray(w)&&ZU(w)||(U.isFileList(w)||U.endsWith(v,"[]"))&&(E=U.toArray(w)))return v=XI(v),E.forEach(function(b,N){!(U.isUndefined(b)||b===null)&&e.append(i===!0?RE([v],N,o):i===null?v:v+"[]",c(b))}),!1}return Ag(w)?!0:(e.append(RE(_,v,o),c(w)),!1)}const h=[],m=Object.assign(e$,{defaultVisitor:f,convertValue:c,isVisitable:Ag});function x(w,v){if(!U.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(w),U.forEach(w,function(E,y){(!(U.isUndefined(E)||E===null)&&s.call(e,E,U.isString(y)?y.trim():y,v,m))===!0&&x(E,v?v.concat(y):[y])}),h.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return x(t),e}function AE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Yy(t,e){this._pairs=[],t&&gh(t,this,e)}const JI=Yy.prototype;JI.append=function(e,n){this._pairs.push([e,n])};JI.toString=function(e){const n=e?function(r){return e.call(this,r,AE)}:AE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function t$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZI(t,e,n){if(!e)return t;const r=n&&n.encode||t$,s=n&&n.serialize;let o;if(s?o=s(e,n):o=U.isURLSearchParams(e)?e.toString():new Yy(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class PE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},n$=typeof URLSearchParams<"u"?URLSearchParams:Yy,r$=typeof FormData<"u"?FormData:null,s$=typeof Blob<"u"?Blob:null,o$={isBrowser:!0,classes:{URLSearchParams:n$,FormData:r$,Blob:s$},protocols:["http","https","file","blob","url","data"]},Xy=typeof window<"u"&&typeof document<"u",Pg=typeof navigator=="object"&&navigator||void 0,i$=Xy&&(!Pg||["ReactNative","NativeScript","NS"].indexOf(Pg.product)<0),a$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",l$=Xy&&window.location.href||"http://localhost",c$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xy,hasStandardBrowserEnv:i$,hasStandardBrowserWebWorkerEnv:a$,navigator:Pg,origin:l$},Symbol.toStringTag,{value:"Module"})),nn={...c$,...o$};function u$(t,e){return gh(t,new nn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return nn.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function d$(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function f$(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function tR(t){function e(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&U.isArray(s)?s.length:i,l?(U.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!U.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&U.isArray(s[i])&&(s[i]=f$(s[i])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,s)=>{e(d$(r),s,n,0)}),n}return null}function h$(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Dc={transitional:eR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=U.isObject(e);if(o&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return s?JSON.stringify(tR(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return u$(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),h$(e)):e}],transformResponse:[function(e){const n=this.transitional||Dc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?ye.from(a,ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Dc.headers[t]={}});const p$=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),m$=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&p$[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},NE=Symbol("internals");function rl(t){return t&&String(t).trim().toLowerCase()}function fd(t){return t===!1||t==null?t:U.isArray(t)?t.map(fd):String(t)}function g$(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const v$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wp(t,e,n,r,s){if(U.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function y$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function w$(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}class rn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(a,l,c){const f=rl(l);if(!f)throw new Error("header name must be a non-empty string");const h=U.findKey(s,f);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=fd(a))}const i=(a,l)=>U.forEach(a,(c,f)=>o(c,f,l));if(U.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(U.isString(e)&&(e=e.trim())&&!v$(e))i(m$(e),n);else if(U.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=rl(e),e){const r=U.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return g$(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=rl(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Wp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(i){if(i=rl(i),i){const a=U.findKey(r,i);a&&(!n||Wp(r,r[a],a,n))&&(delete r[a],s=!0)}}return U.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Wp(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return U.forEach(this,(s,o)=>{const i=U.findKey(r,o);if(i){n[i]=fd(s),delete n[o];return}const a=e?y$(o):String(o).trim();a!==o&&delete n[o],n[a]=fd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[NE]=this[NE]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=rl(i);r[a]||(w$(s,i),r[a]=!0)}return U.isArray(e)?e.forEach(o):o(e),this}}rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(rn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(rn);function Hp(t,e){const n=this||Dc,r=e||n,s=rn.from(r.headers);let o=r.data;return U.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function nR(t){return!!(t&&t.__CANCEL__)}function Ta(t,e,n){ye.call(this,t??"canceled",ye.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Ta,ye,{__CANCEL__:!0});function rR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function x$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _$(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),f=r[o];i||(i=c),n[s]=l,r[s]=c;let h=o,m=0;for(;h!==s;)m+=n[h++],h=h%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),c-i<e)return;const x=f&&c-f;return x?Math.round(m*1e3/x):void 0}}function E$(t,e){let n=0,r=1e3/e,s,o;const i=(c,f=Date.now())=>{n=f,s=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const f=Date.now(),h=f-n;h>=r?i(c,f):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-h)))},()=>s&&i(s)]}const ff=(t,e,n=3)=>{let r=0;const s=_$(50,250);return E$(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-r,c=s(l),f=i<=a;r=i;const h={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&f?(a-i)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},kE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},jE=t=>(...e)=>U.asap(()=>t(...e)),S$=nn.hasStandardBrowserEnv?function(){const e=nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent),n=document.createElement("a");let r;function s(o){let i=o;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(i){const a=U.isString(i)?s(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),T$=nn.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const i=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),U.isString(r)&&i.push("path="+r),U.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function b$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function C$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function sR(t,e){return t&&!b$(e)?C$(t,e):e}const DE=t=>t instanceof rn?{...t}:t;function Mo(t,e){e=e||{};const n={};function r(c,f,h){return U.isPlainObject(c)&&U.isPlainObject(f)?U.merge.call({caseless:h},c,f):U.isPlainObject(f)?U.merge({},f):U.isArray(f)?f.slice():f}function s(c,f,h){if(U.isUndefined(f)){if(!U.isUndefined(c))return r(void 0,c,h)}else return r(c,f,h)}function o(c,f){if(!U.isUndefined(f))return r(void 0,f)}function i(c,f){if(U.isUndefined(f)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function a(c,f,h){if(h in e)return r(c,f);if(h in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,f)=>s(DE(c),DE(f),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=l[f]||s,m=h(t[f],e[f],f);U.isUndefined(m)&&h!==a||(n[f]=m)}),n}const oR=t=>{const e=Mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=e;e.headers=i=rn.from(i),e.url=ZI(sR(e.baseURL,e.url),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(U.isFormData(n)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...f]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...f].join("; "))}}if(nn.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&S$(e.url))){const c=s&&o&&T$.read(o);c&&i.set(s,c)}return e},I$=typeof XMLHttpRequest<"u",R$=I$&&function(t){return new Promise(function(n,r){const s=oR(t);let o=s.data;const i=rn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,f,h,m,x,w;function v(){x&&x(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function E(){if(!_)return;const b=rn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:b,config:t,request:_};rR(function(C){n(C),v()},function(C){r(C),v()},O),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(r(new ye("Request aborted",ye.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||eR;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new ye(N,O.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,_)),_=null},o===void 0&&i.setContentType(null),"setRequestHeader"in _&&U.forEach(i.toJSON(),function(N,O){_.setRequestHeader(O,N)}),U.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),a&&a!=="json"&&(_.responseType=s.responseType),c&&([m,w]=ff(c,!0),_.addEventListener("progress",m)),l&&_.upload&&([h,x]=ff(l),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(f=b=>{_&&(r(!b||b.type?new Ta(null,t,_):b),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const y=x$(s.url);if(y&&nn.protocols.indexOf(y)===-1){r(new ye("Unsupported protocol "+y+":",ye.ERR_BAD_REQUEST,t));return}_.send(o||null)})},A$=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,a();const f=c instanceof Error?c:this.reason;r.abort(f instanceof ye?f:new Ta(f instanceof Error?f.message:f))}};let i=e&&setTimeout(()=>{i=null,o(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>U.asap(a),l}},P$=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},N$=async function*(t,e){for await(const n of k$(t))yield*P$(n,e)},k$=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},OE=(t,e,n,r)=>{const s=N$(t,e);let o=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:f}=await s.next();if(c){a(),l.close();return}let h=f.byteLength;if(n){let m=o+=h;n(m)}l.enqueue(new Uint8Array(f))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},vh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iR=vh&&typeof ReadableStream=="function",j$=vh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),aR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},D$=iR&&aR(()=>{let t=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ME=64*1024,Ng=iR&&aR(()=>U.isReadableStream(new Response("").body)),hf={stream:Ng&&(t=>t.body)};vh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hf[e]&&(hf[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ye(`Response type '${e}' is not supported`,ye.ERR_NOT_SUPPORT,r)})})})(new Response);const O$=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(nn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await j$(t)).byteLength},M$=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??O$(e)},L$=vh&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:f,withCredentials:h="same-origin",fetchOptions:m}=oR(t);c=c?(c+"").toLowerCase():"text";let x=A$([s,o&&o.toAbortSignal()],i),w;const v=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let _;try{if(l&&D$&&n!=="get"&&n!=="head"&&(_=await M$(f,r))!==0){let O=new Request(e,{method:"POST",body:r,duplex:"half"}),j;if(U.isFormData(r)&&(j=O.headers.get("content-type"))&&f.setContentType(j),O.body){const[C,T]=kE(_,ff(jE(l)));r=OE(O.body,ME,C,T)}}U.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;w=new Request(e,{...m,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:E?h:void 0});let y=await fetch(w);const b=Ng&&(c==="stream"||c==="response");if(Ng&&(a||b&&v)){const O={};["status","statusText","headers"].forEach(I=>{O[I]=y[I]});const j=U.toFiniteNumber(y.headers.get("content-length")),[C,T]=a&&kE(j,ff(jE(a),!0))||[];y=new Response(OE(y.body,ME,C,()=>{T&&T(),v&&v()}),O)}c=c||"text";let N=await hf[U.findKey(hf,c)||"text"](y,t);return!b&&v&&v(),await new Promise((O,j)=>{rR(O,j,{data:N,headers:rn.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:w})})}catch(E){throw v&&v(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,t,w),{cause:E.cause||E}):ye.from(E,E&&E.code,t,w)}}),kg={http:JU,xhr:R$,fetch:L$};U.forEach(kg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const LE=t=>`- ${t}`,V$=t=>U.isFunction(t)||t===null||t===!1,lR={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let i;if(r=n,!V$(n)&&(r=kg[(i=String(n)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(LE).join(`
`):" "+LE(o[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:kg};function qp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ta(null,t)}function VE(t){return qp(t),t.headers=rn.from(t.headers),t.data=Hp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lR.getAdapter(t.adapter||Dc.adapter)(t).then(function(r){return qp(t),r.data=Hp.call(t,t.transformResponse,r),r.headers=rn.from(r.headers),r},function(r){return nR(r)||(qp(t),r&&r.response&&(r.response.data=Hp.call(t,t.transformResponse,r.response),r.response.headers=rn.from(r.response.headers))),Promise.reject(r)})}const cR="1.7.7",Jy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const FE={};Jy.transitional=function(e,n,r){function s(o,i){return"[Axios v"+cR+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new ye(s(i," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!FE[i]&&(FE[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};function F$(t,e,n){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new ye("option "+o+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+o,ye.ERR_BAD_OPTION)}}const jg={assertOptions:F$,validators:Jy},ps=jg.validators;class To{constructor(e){this.defaults=e,this.interceptors={request:new PE,response:new PE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mo(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&jg.assertOptions(r,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:jg.assertOptions(s,{encode:ps.function,serialize:ps.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&U.merge(o.common,o[n.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=rn.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let f,h=0,m;if(!l){const w=[VE.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),m=w.length,f=Promise.resolve(n);h<m;)f=f.then(w[h++],w[h++]);return f}m=a.length;let x=n;for(h=0;h<m;){const w=a[h++],v=a[h++];try{x=w(x)}catch(_){v.call(this,_);break}}try{f=VE.call(this,x)}catch(w){return Promise.reject(w)}for(h=0,m=c.length;h<m;)f=f.then(c[h++],c[h++]);return f}getUri(e){e=Mo(this.defaults,e);const n=sR(e.baseURL,e.url);return ZI(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){To.prototype[e]=function(n,r){return this.request(Mo(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,a){return this.request(Mo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}To.prototype[e]=n(),To.prototype[e+"Form"]=n(!0)});class Zy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new Ta(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Zy(function(s){e=s}),cancel:e}}}function U$(t){return function(n){return t.apply(null,n)}}function $$(t){return U.isObject(t)&&t.isAxiosError===!0}const Dg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dg).forEach(([t,e])=>{Dg[e]=t});function uR(t){const e=new To(t),n=$I(To.prototype.request,e);return U.extend(n,To.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return uR(Mo(t,s))},n}const me=uR(Dc);me.Axios=To;me.CanceledError=Ta;me.CancelToken=Zy;me.isCancel=nR;me.VERSION=cR;me.toFormData=gh;me.AxiosError=ye;me.Cancel=me.CanceledError;me.all=function(e){return Promise.all(e)};me.spread=U$;me.isAxiosError=$$;me.mergeConfig=Mo;me.AxiosHeaders=rn;me.formToJSON=t=>tR(U.isHTMLForm(t)?new FormData(t):t);me.getAdapter=lR.getAdapter;me.HttpStatusCode=Dg;me.default=me;const dR=p.createContext(),B$=({children:t})=>{const e="dd725b5608d426a3acd5a0b97d09f4ba",n="https://api.themoviedb.org/3",r=async()=>(await me.get(`${n}/trending/all/day?api_key=${e}`)).data.results,s=async R=>(await me.get(`${n}/discover/movie?api_key=${e}&with_genres=${R}&sort_by=popularity.desc`)).data.results,o=async R=>(await me.get(`${n}/search/movie?api_key=${e}&query=${R}`)).data.results,i=async R=>(await me.get(`${n}/movie/${R}?api_key=${e}`)).data,a=async R=>(await me.get(`${n}/tv/${R}?api_key=${e}`)).data,l=async R=>(await me.get(`${n}/movie/${R}/credits?api_key=${e}`)).data.cast,c=async R=>(await me.get(`${n}/tv/${R}/credits?api_key=${e}`)).data.cast,f=async R=>{const D=await me.get(`${n}/person/${R}/movie_credits?api_key=${e}`),k=await me.get(`${n}/person/${R}/tv_credits?api_key=${e}`);return{movies:D.data.cast,tvShows:k.data.cast}},h=async R=>(await me.get(`${n}/person/${R}?api_key=${e}`)).data.name,m=async R=>(await me.get(`${n}/search/multi?api_key=${e}&query=${R}`)).data.results,x=async(R,D)=>(await me.get(`${n}/discover/movie?api_key=${e}&language=en-US&sort_by=${R}&include_adult=false&include_video=false&page=${D}`)).data,w=async(R,D)=>(await me.get(`${n}/discover/tv?api_key=${e}&language=en-US&sort_by=${R}&include_adult=false&include_video=false&page=${D}`)).data,v=async R=>(await me.get(`${n}/search/multi?api_key=${e}&query=${R}`)).data.results,_=async(R,D)=>(await me.get(`${n}/discover/movie?api_key=${e}&language=ar&with_original_language=ar&sort_by=${R}&include_adult=false&include_video=false&page=${D}`)).data,E=async(R,D)=>(await me.get(`${n}/discover/tv?api_key=${e}&language=en-US&sort_by=${R}&include_adult=false&include_video=false&page=${D}&with_original_language=en`)).data,y=async()=>(await me.get(`${n}/discover/movie?api_key=${e}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres=16`)).data,b=async R=>(await me.get(`${n}/movie/${R}/images?api_key=${e}`)).data.logos,N=async R=>(await me.get(`${n}/movie/${R}/videos?api_key=${e}`)).data.results.filter(k=>k.type==="Trailer"&&k.official),O=async R=>(await me.get(`${n}/tv/${R}/videos?api_key=${e}`)).data.results.filter(k=>k.type==="Trailer"&&k.official),j=async(R,D)=>(await me.get(`${n}/movie/top_rated?api_key=${e}&language=en-US&sort_by=${R}&include_adult=false&include_video=false&page=${D}`)).data,C=async(R,D)=>(await me.get(`${n}/tv/top_rated?api_key=${e}&language=en-US&sort_by=${R}&include_adult=false&include_video=false&page=${D}`)).data,T=async(R,D,k)=>(await me.get(`${n}/discover/movie?api_key=${e}&language=en-US&sort_by=${D}&include_adult=false&include_video=false&page=${k}&with_genres=${R}`)).data,I=async R=>(await me.get(`${n}/tv/${R}?api_key=${e}`)).data.seasons,P=async(R,D)=>(await me.get(`${n}/tv/${R}/season/${D}?api_key=${e}`)).data;return u.jsx(dR.Provider,{value:{getTrendingMovies:r,getTrendingMoviesByGenre:s,getMovieById:i,getTvById:a,getMovieCast:l,getWorksOfActor:f,getActorNameById:h,getSearchResults:m,getTvCast:c,getMoviesAndSortAndPaginate:x,getSeuggestions:v,getArabicMoviesAndSortAndPaginate:_,getTVAndSortAndPaginate:w,getMiniSeriesWithSortAndPaginate:E,getAnimationMoviesWithSortAndPaginate:y,getLogoOfMovie:b,getMovieByQuery:o,getMovieTrailers:N,getTvTrailer:O,getTopRatedMoviesWithPaginateAndSort:j,getTopRatedTvShowsWithPaginateAndSort:C,getMoviesByGenreIdAndSortAndPaginate:T,getTvShowEpisodes:P,getTvShowSeasons:I},children:t})},Gt=()=>p.useContext(dR);var z$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],oe=z$.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Gs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ew(t,e){t&&zo.flushSync(()=>t.dispatchEvent(e))}var ct=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function W$(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var sn=t=>{const{present:e,children:n}=t,r=H$(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Ee(r.ref,q$(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};sn.displayName="Presence";function H$(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),o=p.useRef("none"),i=t?"mounted":"unmounted",[a,l]=W$(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Ou(r.current);o.current=a==="mounted"?c:"none"},[a]),ct(()=>{const c=r.current,f=s.current;if(f!==t){const m=o.current,x=Ou(c);t?l("MOUNT"):x==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&m!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ct(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=x=>{const v=Ou(r.current).includes(x.animationName);if(x.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=x=>{x.target===e&&(o.current=Ou(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ou(t){return(t==null?void 0:t.animationName)||"none"}function q$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function G$(t,e){const n=p.createContext(e),r=o=>{const{children:i,...a}=o,l=p.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function ts(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];const c=h=>{var E;const{scope:m,children:x,...w}=h,v=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,_=p.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:x})};c.displayName=o+"Provider";function f(h,m){var v;const x=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,w=p.useContext(x);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,K$(s,...e)]}function K$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Ke(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Q$=p.createContext(void 0);function Oc(t){const e=p.useContext(Q$);return t||e||"ltr"}function Og(t,[e,n]){return Math.min(n,Math.max(e,t))}function K(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Y$(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var tw="ScrollArea",[fR,PG]=ts(tw),[X$,kn]=fR(tw),hR=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=t,[a,l]=p.useState(null),[c,f]=p.useState(null),[h,m]=p.useState(null),[x,w]=p.useState(null),[v,_]=p.useState(null),[E,y]=p.useState(0),[b,N]=p.useState(0),[O,j]=p.useState(!1),[C,T]=p.useState(!1),I=Ee(e,R=>l(R)),P=Oc(s);return u.jsx(X$,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:f,content:h,onContentChange:m,scrollbarX:x,onScrollbarXChange:w,scrollbarXEnabled:O,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:N,children:u.jsx(oe.div,{dir:P,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});hR.displayName=tw;var pR="ScrollAreaViewport",mR=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=t,a=kn(pR,n),l=p.useRef(null),c=Ee(e,l,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),u.jsx(oe.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:aB({asChild:s,children:r},f=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});mR.displayName=pR;var Sr="ScrollAreaScrollbar",nw=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kn(Sr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=t.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?u.jsx(J$,{...r,ref:e,forceMount:n}):s.type==="scroll"?u.jsx(Z$,{...r,ref:e,forceMount:n}):s.type==="auto"?u.jsx(gR,{...r,ref:e,forceMount:n}):s.type==="always"?u.jsx(rw,{...r,ref:e}):null});nw.displayName=Sr;var J$=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kn(Sr,t.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},f=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(sn,{present:n||o,children:u.jsx(gR,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Z$=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kn(Sr,t.__scopeScrollArea),o=t.orientation==="horizontal",i=wh(()=>l("SCROLL_END"),100),[a,l]=Y$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,f=o?"scrollLeft":"scrollTop";if(c){let h=c[f];const m=()=>{const x=c[f];h!==x&&(l("SCROLL"),i()),h=x};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[s.viewport,o,l,i]),u.jsx(sn,{present:n||a!=="hidden",children:u.jsx(rw,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:K(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:K(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),gR=p.forwardRef((t,e)=>{const n=kn(Sr,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,i]=p.useState(!1),a=t.orientation==="horizontal",l=wh(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:f)}},10);return ia(n.viewport,l),ia(n.content,l),u.jsx(sn,{present:r||o,children:u.jsx(rw,{"data-state":o?"visible":"hidden",...s,ref:e})})}),rw=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=kn(Sr,t.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_R(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,x){return oB(m,i.current,a,x)}return n==="horizontal"?u.jsx(eB,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,x=UE(m,a,s.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?u.jsx(tB,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,x=UE(m,a);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),eB=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=kn(Sr,t.__scopeScrollArea),[i,a]=p.useState(),l=p.useRef(null),c=Ee(e,l,o.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(yR,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yh(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),SR(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:mf(i.paddingLeft),paddingEnd:mf(i.paddingRight)}})}})}),tB=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=kn(Sr,t.__scopeScrollArea),[i,a]=p.useState(),l=p.useRef(null),c=Ee(e,l,o.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(yR,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yh(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),SR(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:mf(i.paddingTop),paddingEnd:mf(i.paddingBottom)}})}})}),[nB,vR]=fR(Sr),yR=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:h,...m}=t,x=kn(Sr,n),[w,v]=p.useState(null),_=Ee(e,I=>v(I)),E=p.useRef(null),y=p.useRef(""),b=x.viewport,N=r.content-r.viewport,O=Ke(f),j=Ke(l),C=wh(h,10);function T(I){if(E.current){const P=I.clientX-E.current.left,R=I.clientY-E.current.top;c({x:P,y:R})}}return p.useEffect(()=>{const I=P=>{const R=P.target;(w==null?void 0:w.contains(R))&&O(P,N)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,N,O]),p.useEffect(j,[r,j]),ia(w,C),ia(x.content,C),u.jsx(nB,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ke(o),onThumbPointerUp:Ke(i),onThumbPositionChange:j,onThumbPointerDown:Ke(a),children:u.jsx(oe.div,{...m,ref:_,style:{position:"absolute",...m.style},onPointerDown:K(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),E.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),T(I))}),onPointerMove:K(t.onPointerMove,T),onPointerUp:K(t.onPointerUp,I=>{const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,x.viewport&&(x.viewport.style.scrollBehavior=""),E.current=null})})})}),pf="ScrollAreaThumb",wR=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=vR(pf,t.__scopeScrollArea);return u.jsx(sn,{present:n||s.hasThumb,children:u.jsx(rB,{ref:e,...r})})}),rB=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=kn(pf,n),i=vR(pf,n),{onThumbPositionChange:a}=i,l=Ee(e,h=>i.onThumbChange(h)),c=p.useRef(),f=wh(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(f(),!c.current){const x=iB(h,a);c.current=x,a()}};return a(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,f,a]),u.jsx(oe.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:K(t.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),w=h.clientX-x.left,v=h.clientY-x.top;i.onThumbPointerDown({x:w,y:v})}),onPointerUp:K(t.onPointerUp,i.onThumbPointerUp)})});wR.displayName=pf;var sw="ScrollAreaCorner",xR=p.forwardRef((t,e)=>{const n=kn(sw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(sB,{...t,ref:e}):null});xR.displayName=sw;var sB=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=kn(sw,n),[o,i]=p.useState(0),[a,l]=p.useState(0),c=!!(o&&a);return ia(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),l(f)}),ia(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),c?u.jsx(oe.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function mf(t){return t?parseInt(t,10):0}function _R(t,e){const n=t/e;return isNaN(n)?0:n}function yh(t){const e=_R(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function oB(t,e,n,r="ltr"){const s=yh(n),o=s/2,i=e||o,a=s-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return ER([l,c],h)(t)}function UE(t,e,n="ltr"){const r=yh(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Og(t,l);return ER([0,i],[0,a])(c)}function ER(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function SR(t,e){return t>0&&t<e}var iB=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&e(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function wh(t,e){const n=Ke(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ia(t,e){const n=Ke(e);ct(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function aB(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var TR=hR,lB=mR,cB=xR;const ns=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TR,{ref:r,className:le("relative overflow-hidden",t),...n,children:[u.jsx(lB,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(rs,{}),u.jsx(cB,{})]}));ns.displayName=TR.displayName;const rs=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(nw,{ref:r,orientation:e,className:le("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(wR,{className:"relative flex-1 rounded-full bg-border"})}));rs.displayName=nw.displayName;function uB({itemCount:t=7}){return u.jsx("div",{className:"",children:u.jsxs(ns,{className:"w-full h-full whitespace-nowrap rounded-md",children:[u.jsx("div",{className:"flex h-full space-x-4 p-4",children:Array.from({length:t}).map((e,n)=>u.jsxs("div",{className:"relative w-[200px] h-[300px] rounded-lg shadow-lg overflow-hidden",children:[u.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent flex items-end",children:u.jsxs("div",{className:"p-4 w-full",children:[u.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2 animate-pulse"}),u.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2 animate-pulse"})]})})]},n))}),u.jsx(rs,{orientation:"horizontal"})]})})}const Mu=({title:t,media:e,genres:n,posterBase:r,icon:s})=>u.jsxs("div",{className:"px-4 md:px-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-foreground tracking-tighter sm:text-4xl items-center my-4 flex gap-3",children:[t," "]}),u.jsxs(ns,{className:"w-full h-full whitespace-nowrap rounded-md",children:[u.jsxs("div",{className:"flex h-full space-x-4 p-4",children:[!e&&u.jsx(uB,{}),e&&e.map((o,i)=>u.jsxs(_e,{to:`/${o.media_type||"movie"}/${o.id}`,className:"relative group w-[200px] overflow-hidden h-full rounded-lg shadow-lg transition-transform transform hover:scale-105",children:[u.jsx("img",{alt:`Media poster ${o.title||o.name}`,className:"object-cover w-full h-full",width:"200",height:"300",src:`${r}${o.poster_path}`}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end",children:u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:o.title||o.name}),u.jsxs("p",{className:"text-sm text-gray-300",children:[o.release_date||o.first_air_date," | ",o.genre_ids.map(a=>{var l;return(l=n.find(c=>c.id===a))==null?void 0:l.name}).join(", ")]})]})})]},i))]}),u.jsx(rs,{orientation:"horizontal"})]})]});function Tr(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var dB=["color"],fB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,dB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hB=["color"],pB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,hB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mB=["color"],gB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,mB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vB=["color"],bR=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,vB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yB=["color"],CR=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,yB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wB=["color"],xB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,wB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),_B=["color"],EB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,_B);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),SB=["color"],IR=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,SB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),TB=["color"],bB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,TB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))}),CB=["color"],IB=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=Tr(t,CB);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),p.createElement("path",{d:"M7.22303 0.665992C7.32551 0.419604 7.67454 0.419604 7.77702 0.665992L9.41343 4.60039C9.45663 4.70426 9.55432 4.77523 9.66645 4.78422L13.914 5.12475C14.18 5.14607 14.2878 5.47802 14.0852 5.65162L10.849 8.42374C10.7636 8.49692 10.7263 8.61176 10.7524 8.72118L11.7411 12.866C11.803 13.1256 11.5206 13.3308 11.2929 13.1917L7.6564 10.9705C7.5604 10.9119 7.43965 10.9119 7.34365 10.9705L3.70718 13.1917C3.47945 13.3308 3.19708 13.1256 3.25899 12.866L4.24769 8.72118C4.2738 8.61176 4.23648 8.49692 4.15105 8.42374L0.914889 5.65162C0.712228 5.47802 0.820086 5.14607 1.08608 5.12475L5.3336 4.78422C5.44573 4.77523 5.54342 4.70426 5.58662 4.60039L7.22303 0.665992Z",fill:r}))});function RB(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(h){const{scope:m,children:x,...w}=h,v=(m==null?void 0:m[t][l])||a,_=p.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:x})}function f(h,m){const x=(m==null?void 0:m[t][l])||a,w=p.useContext(x);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,AB(s,...e)]}function AB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Mc(t){const e=t+"CollectionProvider",[n,r]=RB(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:w,children:v}=x,_=We.useRef(null),E=We.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:E,collectionRef:_,children:v})};i.displayName=e;const a=t+"CollectionSlot",l=We.forwardRef((x,w)=>{const{scope:v,children:_}=x,E=o(a,v),y=Ee(w,E.collectionRef);return u.jsx(Gs,{ref:y,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",h=We.forwardRef((x,w)=>{const{scope:v,children:_,...E}=x,y=We.useRef(null),b=Ee(w,y),N=o(c,v);return We.useEffect(()=>(N.itemMap.set(y,{ref:y,...E}),()=>void N.itemMap.delete(y))),u.jsx(Gs,{[f]:"",ref:b,children:_})});h.displayName=c;function m(x){const w=o(t+"CollectionConsumer",x);return We.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,O)=>E.indexOf(N.ref.current)-E.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:l,ItemSlot:h},m,r]}function PB(t,e=globalThis==null?void 0:globalThis.document){const n=Ke(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NB="DismissableLayer",Mg="dismissableLayer.update",kB="dismissableLayer.pointerDownOutside",jB="dismissableLayer.focusOutside",$E,RR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=p.useContext(RR),[f,h]=p.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Ee(e,C=>h(C)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(_),y=f?v.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,N=y>=E,O=OB(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!N||I||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},m),j=MB(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},m);return PB(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),p.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($E=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),BE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$E)}},[f,m,n,c]),p.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),BE())},[f,c]),p.useEffect(()=>{const C=()=>x({});return document.addEventListener(Mg,C),()=>document.removeEventListener(Mg,C)},[]),u.jsx(oe.div,{...l,ref:w,style:{pointerEvents:b?N?"auto":"none":void 0,...t.style},onFocusCapture:K(t.onFocusCapture,j.onFocusCapture),onBlurCapture:K(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:K(t.onPointerDownCapture,O.onPointerDownCapture)})});Lc.displayName=NB;var DB="DismissableLayerBranch",AR=p.forwardRef((t,e)=>{const n=p.useContext(RR),r=p.useRef(null),s=Ee(e,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(oe.div,{...t,ref:s})});AR.displayName=DB;function OB(t,e=globalThis==null?void 0:globalThis.document){const n=Ke(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){PR(kB,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function MB(t,e=globalThis==null?void 0:globalThis.document){const n=Ke(t),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&PR(jB,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BE(){const t=new CustomEvent(Mg);document.dispatchEvent(t)}function PR(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ew(s,o):s.dispatchEvent(o)}var LB=Lc,VB=AR,Gp=0;function ow(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zE()),document.body.insertAdjacentElement("beforeend",t[1]??zE()),Gp++,()=>{Gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gp--}},[])}function zE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Kp="focusScope.autoFocusOnMount",Qp="focusScope.autoFocusOnUnmount",WE={bubbles:!1,cancelable:!0},FB="FocusScope",xh=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=p.useState(null),c=Ke(s),f=Ke(o),h=p.useRef(null),m=Ee(e,v=>l(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(b){if(x.paused||!a)return;const N=b.target;a.contains(N)?h.current=N:ms(h.current,{select:!0})},_=function(b){if(x.paused||!a)return;const N=b.relatedTarget;N!==null&&(a.contains(N)||ms(h.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const O of b)O.removedNodes.length>0&&ms(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(E);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,x.paused]),p.useEffect(()=>{if(a){qE.add(x);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Kp,WE);a.addEventListener(Kp,c),a.dispatchEvent(E),E.defaultPrevented||(UB(HB(NR(a)),{select:!0}),document.activeElement===v&&ms(a))}return()=>{a.removeEventListener(Kp,c),setTimeout(()=>{const E=new CustomEvent(Qp,WE);a.addEventListener(Qp,f),a.dispatchEvent(E),E.defaultPrevented||ms(v??document.body,{select:!0}),a.removeEventListener(Qp,f),qE.remove(x)},0)}}},[a,c,f,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(_&&E){const y=v.currentTarget,[b,N]=$B(y);b&&N?!v.shiftKey&&E===N?(v.preventDefault(),n&&ms(b,{select:!0})):v.shiftKey&&E===b&&(v.preventDefault(),n&&ms(N,{select:!0})):E===y&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(oe.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});xh.displayName=FB;function UB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ms(r,{select:e}),document.activeElement!==n)return}function $B(t){const e=NR(t),n=HE(e,t),r=HE(e.reverse(),t);return[n,r]}function NR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function HE(t,e){for(const n of t)if(!BB(n,{upTo:e}))return n}function BB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zB(t){return t instanceof HTMLInputElement&&"select"in t}function ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zB(t)&&e&&t.select()}}var qE=WB();function WB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=GE(t,e),t.unshift(e)},remove(e){var n;t=GE(t,e),(n=t[0])==null||n.resume()}}}function GE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function HB(t){return t.filter(e=>e.tagName!=="A")}var qB=CS.useId||(()=>{}),GB=0;function qn(t){const[e,n]=p.useState(qB());return ct(()=>{n(r=>r??String(GB++))},[t]),e?`radix-${e}`:""}const KB=["top","right","bottom","left"],Ks=Math.min,ln=Math.max,gf=Math.round,Lu=Math.floor,Qs=t=>({x:t,y:t}),QB={left:"right",right:"left",bottom:"top",top:"bottom"},YB={start:"end",end:"start"};function Lg(t,e,n){return ln(t,Ks(e,n))}function Kr(t,e){return typeof t=="function"?t(e):t}function Qr(t){return t.split("-")[0]}function ba(t){return t.split("-")[1]}function iw(t){return t==="x"?"y":"x"}function aw(t){return t==="y"?"height":"width"}function Ys(t){return["top","bottom"].includes(Qr(t))?"y":"x"}function lw(t){return iw(Ys(t))}function XB(t,e,n){n===void 0&&(n=!1);const r=ba(t),s=lw(t),o=aw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=vf(i)),[i,vf(i)]}function JB(t){const e=vf(t);return[Vg(t),e,Vg(e)]}function Vg(t){return t.replace(/start|end/g,e=>YB[e])}function ZB(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function e8(t,e,n,r){const s=ba(t);let o=ZB(Qr(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Vg)))),o}function vf(t){return t.replace(/left|right|bottom|top/g,e=>QB[e])}function t8(t){return{top:0,right:0,bottom:0,left:0,...t}}function kR(t){return typeof t!="number"?t8(t):{top:t,right:t,bottom:t,left:t}}function yf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function KE(t,e,n){let{reference:r,floating:s}=t;const o=Ys(e),i=lw(e),a=aw(i),l=Qr(e),c=o==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let x;switch(l){case"top":x={x:f,y:r.y-s.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-s.width,y:h};break;default:x={x:r.x,y:r.y}}switch(ba(e)){case"start":x[i]-=m*(n&&c?-1:1);break;case"end":x[i]+=m*(n&&c?-1:1);break}return x}const n8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=KE(c,r,l),m=r,x={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:E}=a[v],{x:y,y:b,data:N,reset:O}=await E({x:f,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:x,rects:c,platform:i,elements:{reference:t,floating:e}});f=y??f,h=b??h,x={...x,[_]:{...x[_],...N}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:f,y:h}=KE(c,m,l)),v=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:x}};async function cc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:x=0}=Kr(e,t),w=kR(x),_=a[m?h==="floating"?"reference":"floating":h],E=yf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),y=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),N=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},O=yf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(E.top-O.top+w.top)/N.y,bottom:(O.bottom-E.bottom+w.bottom)/N.y,left:(E.left-O.left+w.left)/N.x,right:(O.right-E.right+w.right)/N.x}}const r8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Kr(t,e)||{};if(c==null)return{};const h=kR(f),m={x:n,y:r},x=lw(s),w=aw(x),v=await i.getDimensions(c),_=x==="y",E=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[x]-m[x]-o.floating[w],O=m[x]-o.reference[x],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=j?j[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(j)))&&(C=a.floating[b]||o.floating[w]);const T=N/2-O/2,I=C/2-v[w]/2-1,P=Ks(h[E],I),R=Ks(h[y],I),D=P,k=C-v[w]-R,B=C/2-v[w]/2+T,te=Lg(D,B,k),Y=!l.arrow&&ba(s)!=null&&B!==te&&o.reference[w]/2-(B<D?P:R)-v[w]/2<0,ne=Y?B<D?B-D:B-k:0;return{[x]:m[x]+ne,data:{[x]:te,centerOffset:B-te-ne,...Y&&{alignmentOffset:ne}},reset:Y}}}),s8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Kr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Qr(s),y=Ys(a),b=Qr(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=m||(b||!v?[vf(a)]:JB(a)),j=w!=="none";!m&&j&&O.push(...e8(a,v,w,N));const C=[a,...O],T=await cc(e,_),I=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&I.push(T[E]),h){const B=XB(s,i,N);I.push(T[B[0]],T[B[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(B=>B<=0)){var R,D;const B=(((R=o.flip)==null?void 0:R.index)||0)+1,te=C[B];if(te)return{data:{index:B,overflows:P},reset:{placement:te}};let Y=(D=P.filter(ne=>ne.overflows[0]<=0).sort((ne,L)=>ne.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(x){case"bestFit":{var k;const ne=(k=P.filter(L=>{if(j){const F=Ys(L.placement);return F===y||F==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((L,F)=>L[1]-F[1])[0])==null?void 0:k[0];ne&&(Y=ne);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function QE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YE(t){return KB.some(e=>t[e]>=0)}const o8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Kr(t,e);switch(r){case"referenceHidden":{const o=await cc(e,{...s,elementContext:"reference"}),i=QE(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:YE(i)}}}case"escaped":{const o=await cc(e,{...s,altBoundary:!0}),i=QE(o,n.floating);return{data:{escapedOffsets:i,escaped:YE(i)}}}default:return{}}}}};async function i8(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Qr(n),a=ba(n),l=Ys(n)==="y",c=["left","top"].includes(i)?-1:1,f=o&&l?-1:1,h=Kr(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(x=a==="end"?w*-1:w),l?{x:x*f,y:m*c}:{x:m*c,y:x*f}}const a8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await i8(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},l8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:_=>{let{x:E,y}=_;return{x:E,y}}},...l}=Kr(t,e),c={x:n,y:r},f=await cc(e,l),h=Ys(Qr(s)),m=iw(h);let x=c[m],w=c[h];if(o){const _=m==="y"?"top":"left",E=m==="y"?"bottom":"right",y=x+f[_],b=x-f[E];x=Lg(y,x,b)}if(i){const _=h==="y"?"top":"left",E=h==="y"?"bottom":"right",y=w+f[_],b=w-f[E];w=Lg(y,w,b)}const v=a.fn({...e,[m]:x,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:o,[h]:i}}}}}},c8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Kr(t,e),f={x:n,y:r},h=Ys(s),m=iw(h);let x=f[m],w=f[h];const v=Kr(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=m==="y"?"height":"width",N=o.reference[m]-o.floating[b]+_.mainAxis,O=o.reference[m]+o.reference[b]-_.mainAxis;x<N?x=N:x>O&&(x=O)}if(c){var E,y;const b=m==="y"?"width":"height",N=["top","left"].includes(Qr(s)),O=o.reference[h]-o.floating[b]+(N&&((E=i.offset)==null?void 0:E[h])||0)+(N?0:_.crossAxis),j=o.reference[h]+o.reference[b]+(N?0:((y=i.offset)==null?void 0:y[h])||0)-(N?_.crossAxis:0);w<O?w=O:w>j&&(w=j)}return{[m]:x,[h]:w}}}},u8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=Kr(t,e),f=await cc(e,c),h=Qr(s),m=ba(s),x=Ys(s)==="y",{width:w,height:v}=o.floating;let _,E;h==="top"||h==="bottom"?(_=h,E=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,_=m==="end"?"top":"bottom");const y=v-f.top-f.bottom,b=w-f.left-f.right,N=Ks(v-f[_],y),O=Ks(w-f[E],b),j=!e.middlewareData.shift;let C=N,T=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),j&&!m){const P=ln(f.left,0),R=ln(f.right,0),D=ln(f.top,0),k=ln(f.bottom,0);x?T=w-2*(P!==0||R!==0?P+R:ln(f.left,f.right)):C=v-2*(D!==0||k!==0?D+k:ln(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:C});const I=await i.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function _h(){return typeof window<"u"}function Ca(t){return jR(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function br(t){var e;return(e=(jR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jR(t){return _h()?t instanceof Node||t instanceof pn(t).Node:!1}function Xn(t){return _h()?t instanceof Element||t instanceof pn(t).Element:!1}function xr(t){return _h()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function XE(t){return!_h()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}function Vc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function d8(t){return["table","td","th"].includes(Ca(t))}function Eh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function cw(t){const e=uw(),n=Xn(t)?Jn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function f8(t){let e=Xs(t);for(;xr(e)&&!aa(e);){if(cw(e))return e;if(Eh(e))return null;e=Xs(e)}return null}function uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(t){return["html","body","#document"].includes(Ca(t))}function Jn(t){return pn(t).getComputedStyle(t)}function Sh(t){return Xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Ca(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XE(t)&&t.host||br(t);return XE(e)?e.host:e}function DR(t){const e=Xs(t);return aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:xr(e)&&Vc(e)?e:DR(e)}function uc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DR(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=pn(s);if(o){const a=Fg(i);return e.concat(i,i.visualViewport||[],Vc(s)?s:[],a&&n?uc(a):[])}return e.concat(s,uc(s,[],n))}function Fg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OR(t){const e=Jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xr(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=gf(n)!==o||gf(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function dw(t){return Xn(t)?t:t.contextElement}function Wi(t){const e=dw(t);if(!xr(e))return Qs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=OR(e);let i=(o?gf(n.width):n.width)/r,a=(o?gf(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const h8=Qs(0);function MR(t){const e=pn(t);return!uw()||!e.visualViewport?h8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=dw(t);let i=Qs(1);e&&(r?Xn(r)&&(i=Wi(r)):i=Wi(t));const a=p8(o,n,r)?MR(o):Qs(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,f=s.width/i.x,h=s.height/i.y;if(o){const m=pn(o),x=r&&Xn(r)?pn(r):r;let w=m,v=Fg(w);for(;v&&r&&x!==w;){const _=Wi(v),E=v.getBoundingClientRect(),y=Jn(v),b=E.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,N=E.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,f*=_.x,h*=_.y,l+=b,c+=N,w=pn(v),v=Fg(w)}}return yf({width:f,height:h,x:l,y:c})}function m8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=br(r),a=e?Eh(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Qs(1);const f=Qs(0),h=xr(r);if((h||!h&&!o)&&((Ca(r)!=="body"||Vc(i))&&(l=Sh(r)),xr(r))){const m=Lo(r);c=Wi(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function g8(t){return Array.from(t.getClientRects())}function Ug(t,e){const n=Sh(t).scrollLeft;return e?e.left+n:Lo(br(t)).left+n}function v8(t){const e=br(t),n=Sh(t),r=t.ownerDocument.body,s=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ug(t);const a=-n.scrollTop;return Jn(r).direction==="rtl"&&(i+=ln(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function y8(t,e){const n=pn(t),r=br(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=uw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function w8(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=xr(t)?Wi(t):Qs(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function JE(t,e,n){let r;if(e==="viewport")r=y8(t,n);else if(e==="document")r=v8(br(t));else if(Xn(e))r=w8(e,n);else{const s=MR(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return yf(r)}function LR(t,e){const n=Xs(t);return n===e||!Xn(n)||aa(n)?!1:Jn(n).position==="fixed"||LR(n,e)}function x8(t,e){const n=e.get(t);if(n)return n;let r=uc(t,[],!1).filter(a=>Xn(a)&&Ca(a)!=="body"),s=null;const o=Jn(t).position==="fixed";let i=o?Xs(t):t;for(;Xn(i)&&!aa(i);){const a=Jn(i),l=cw(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Vc(i)&&!l&&LR(t,i))?r=r.filter(f=>f!==i):s=a,i=Xs(i)}return e.set(t,r),r}function _8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Eh(e)?[]:x8(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,f)=>{const h=JE(e,f,s);return c.top=ln(h.top,c.top),c.right=Ks(h.right,c.right),c.bottom=Ks(h.bottom,c.bottom),c.left=ln(h.left,c.left),c},JE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function E8(t){const{width:e,height:n}=OR(t);return{width:e,height:n}}function S8(t,e,n){const r=xr(e),s=br(e),o=n==="fixed",i=Lo(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Qs(0);if(r||!r&&!o)if((Ca(e)!=="body"||Vc(s))&&(a=Sh(e)),r){const x=Lo(e,!0,o,e);l.x=x.x+e.clientLeft,l.y=x.y+e.clientTop}else s&&(l.x=Ug(s));let c=0,f=0;if(s&&!r&&!o){const x=s.getBoundingClientRect();f=x.top+a.scrollTop,c=x.left+a.scrollLeft-Ug(s,x)}const h=i.left+a.scrollLeft-l.x-c,m=i.top+a.scrollTop-l.y-f;return{x:h,y:m,width:i.width,height:i.height}}function Yp(t){return Jn(t).position==="static"}function ZE(t,e){if(!xr(t)||Jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return br(t)===n&&(n=n.ownerDocument.body),n}function VR(t,e){const n=pn(t);if(Eh(t))return n;if(!xr(t)){let s=Xs(t);for(;s&&!aa(s);){if(Xn(s)&&!Yp(s))return s;s=Xs(s)}return n}let r=ZE(t,e);for(;r&&d8(r)&&Yp(r);)r=ZE(r,e);return r&&aa(r)&&Yp(r)&&!cw(r)?n:r||f8(t)||n}const T8=async function(t){const e=this.getOffsetParent||VR,n=this.getDimensions,r=await n(t.floating);return{reference:S8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b8(t){return Jn(t).direction==="rtl"}const C8={convertOffsetParentRelativeRectToViewportRelativeRect:m8,getDocumentElement:br,getClippingRect:_8,getOffsetParent:VR,getElementRects:T8,getClientRects:g8,getDimensions:E8,getScale:Wi,isElement:Xn,isRTL:b8};function I8(t,e){let n=null,r;const s=br(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:f,width:h,height:m}=t.getBoundingClientRect();if(a||e(),!h||!m)return;const x=Lu(f),w=Lu(s.clientWidth-(c+h)),v=Lu(s.clientHeight-(f+m)),_=Lu(c),y={rootMargin:-x+"px "+-w+"px "+-v+"px "+-_+"px",threshold:ln(0,Ks(1,l))||1};let b=!0;function N(O){const j=O[0].intersectionRatio;if(j!==l){if(!b)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(N,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,y)}n.observe(t)}return i(!0),o}function R8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=dw(t),f=s||o?[...c?uc(c):[],...uc(e)]:[];f.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const h=c&&a?I8(c,n):null;let m=-1,x=null;i&&(x=new ResizeObserver(E=>{let[y]=E;y&&y.target===c&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(e)})),n()}),c&&!l&&x.observe(c),x.observe(e));let w,v=l?Lo(t):null;l&&_();function _(){const E=Lo(t);v&&(E.x!==v.x||E.y!==v.y||E.width!==v.width||E.height!==v.height)&&n(),v=E,w=requestAnimationFrame(_)}return n(),()=>{var E;f.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),h==null||h(),(E=x)==null||E.disconnect(),x=null,l&&cancelAnimationFrame(w)}}const A8=a8,P8=l8,N8=s8,k8=u8,j8=o8,eS=r8,D8=c8,O8=(t,e,n)=>{const r=new Map,s={platform:C8,...n},o={...s.platform,_c:r};return n8(t,e,{...s,platform:o})};var hd=typeof document<"u"?p.useLayoutEffect:p.useEffect;function wf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!wf(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function FR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tS(t,e){const n=FR(t);return Math.round(e*n)/n}function Xp(t){const e=p.useRef(t);return hd(()=>{e.current=t}),e}function M8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=p.useState(r);wf(m,r)||x(r);const[w,v]=p.useState(null),[_,E]=p.useState(null),y=p.useCallback(L=>{L!==j.current&&(j.current=L,v(L))},[]),b=p.useCallback(L=>{L!==C.current&&(C.current=L,E(L))},[]),N=o||w,O=i||_,j=p.useRef(null),C=p.useRef(null),T=p.useRef(f),I=l!=null,P=Xp(l),R=Xp(s),D=Xp(c),k=p.useCallback(()=>{if(!j.current||!C.current)return;const L={placement:e,strategy:n,middleware:m};R.current&&(L.platform=R.current),O8(j.current,C.current,L).then(F=>{const G={...F,isPositioned:D.current!==!1};B.current&&!wf(T.current,G)&&(T.current=G,zo.flushSync(()=>{h(G)}))})},[m,e,n,R,D]);hd(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[c]);const B=p.useRef(!1);hd(()=>(B.current=!0,()=>{B.current=!1}),[]),hd(()=>{if(N&&(j.current=N),O&&(C.current=O),N&&O){if(P.current)return P.current(N,O,k);k()}},[N,O,k,P,I]);const te=p.useMemo(()=>({reference:j,floating:C,setReference:y,setFloating:b}),[y,b]),Y=p.useMemo(()=>({reference:N,floating:O}),[N,O]),ne=p.useMemo(()=>{const L={position:n,left:0,top:0};if(!Y.floating)return L;const F=tS(Y.floating,f.x),G=tS(Y.floating,f.y);return a?{...L,transform:"translate("+F+"px, "+G+"px)",...FR(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:G}},[n,a,Y.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:k,refs:te,elements:Y,floatingStyles:ne}),[f,k,te,Y,ne])}const L8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?eS({element:r.current,padding:s}).fn(n):{}:r?eS({element:r,padding:s}).fn(n):{}}}},V8=(t,e)=>({...A8(t),options:[t,e]}),F8=(t,e)=>({...P8(t),options:[t,e]}),U8=(t,e)=>({...D8(t),options:[t,e]}),$8=(t,e)=>({...N8(t),options:[t,e]}),B8=(t,e)=>({...k8(t),options:[t,e]}),z8=(t,e)=>({...j8(t),options:[t,e]}),W8=(t,e)=>({...L8(t),options:[t,e]});var H8="Arrow",UR=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return u.jsx(oe.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});UR.displayName=H8;var q8=UR;function G8(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(h){const{scope:m,children:x,...w}=h,v=(m==null?void 0:m[t][l])||a,_=p.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:x})}function f(h,m){const x=(m==null?void 0:m[t][l])||a,w=p.useContext(x);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,K8(s,...e)]}function K8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Q8(t){const[e,n]=p.useState(void 0);return ct(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fw="Popper",[$R,Th]=G8(fw),[Y8,BR]=$R(fw),zR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return u.jsx(Y8,{scope:e,anchor:r,onAnchorChange:s,children:n})};zR.displayName=fw;var WR="PopperAnchor",HR=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=BR(WR,n),i=p.useRef(null),a=Ee(e,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(oe.div,{...s,ref:a})});HR.displayName=WR;var hw="PopperContent",[X8,J8]=$R(hw),qR=p.forwardRef((t,e)=>{var Q,fe,xe,ue,re,H;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=t,_=BR(hw,n),[E,y]=p.useState(null),b=Ee(e,pe=>y(pe)),[N,O]=p.useState(null),j=Q8(N),C=(j==null?void 0:j.width)??0,T=(j==null?void 0:j.height)??0,I=r+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(c)?c:[c],D=R.length>0,k={padding:P,boundary:R.filter(ez),altBoundary:D},{refs:B,floatingStyles:te,placement:Y,isPositioned:ne,middlewareData:L}=M8({strategy:"fixed",placement:I,whileElementsMounted:(...pe)=>R8(...pe,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[V8({mainAxis:s+T,alignmentAxis:i}),l&&F8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?U8():void 0,...k}),l&&$8({...k}),B8({...k,apply:({elements:pe,rects:Ie,availableWidth:Ue,availableHeight:ut})=>{const{width:St,height:yn}=Ie.reference,Nt=pe.floating.style;Nt.setProperty("--radix-popper-available-width",`${Ue}px`),Nt.setProperty("--radix-popper-available-height",`${ut}px`),Nt.setProperty("--radix-popper-anchor-width",`${St}px`),Nt.setProperty("--radix-popper-anchor-height",`${yn}px`)}}),N&&W8({element:N,padding:a}),tz({arrowWidth:C,arrowHeight:T}),m&&z8({strategy:"referenceHidden",...k})]}),[F,G]=QR(Y),J=Ke(w);ct(()=>{ne&&(J==null||J())},[ne,J]);const ie=(Q=L.arrow)==null?void 0:Q.x,ve=(fe=L.arrow)==null?void 0:fe.y,Ce=((xe=L.arrow)==null?void 0:xe.centerOffset)!==0,[Fe,De]=p.useState();return ct(()=>{E&&De(window.getComputedStyle(E).zIndex)},[E]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:ne?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(ue=L.transformOrigin)==null?void 0:ue.x,(re=L.transformOrigin)==null?void 0:re.y].join(" "),...((H=L.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(X8,{scope:n,placedSide:F,onArrowChange:O,arrowX:ie,arrowY:ve,shouldHideArrow:Ce,children:u.jsx(oe.div,{"data-side":F,"data-align":G,...v,ref:b,style:{...v.style,animation:ne?void 0:"none"}})})})});qR.displayName=hw;var GR="PopperArrow",Z8={top:"bottom",right:"left",bottom:"top",left:"right"},KR=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=J8(GR,r),i=Z8[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(q8,{...s,ref:n,style:{...s.style,display:"block"}})})});KR.displayName=GR;function ez(t){return t!==null}var tz=t=>({name:"transformOrigin",options:t,fn(e){var _,E,y;const{placement:n,rects:r,middlewareData:s}=e,i=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,f]=QR(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,x=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=i?h:`${m}px`,v=`${-l}px`):c==="top"?(w=i?h:`${m}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=i?h:`${x}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=i?h:`${x}px`),{data:{x:w,y:v}}}});function QR(t){const[e,n="center"]=t.split("-");return[e,n]}var YR=zR,XR=HR,JR=qR,ZR=KR,nz="Portal",Fc=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=p.useState(!1);ct(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ED.createPortal(u.jsx(oe.div,{...r,ref:e}),i):null});Fc.displayName=nz;function _r({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=rz({defaultProp:e,onChange:n}),o=t!==void 0,i=o?t:r,a=Ke(n),l=p.useCallback(c=>{if(o){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[o,t,s,a]);return[i,l]}function rz({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),o=Ke(e);return p.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}function sz(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var oz="VisuallyHidden",bh=p.forwardRef((t,e)=>u.jsx(oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));bh.displayName=oz;var iz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pi=new WeakMap,Vu=new WeakMap,Fu={},Jp=0,eA=function(t){return t&&(t.host||eA(t.parentNode))},az=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lz=function(t,e,n,r){var s=az(e,Array.isArray(t)?t:[t]);Fu[n]||(Fu[n]=new WeakMap);var o=Fu[n],i=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))f(m);else try{var x=m.getAttribute(r),w=x!==null&&x!=="false",v=(pi.get(m)||0)+1,_=(o.get(m)||0)+1;pi.set(m,v),o.set(m,_),i.push(m),v===1&&w&&Vu.set(m,!0),_===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return f(e),a.clear(),Jp++,function(){i.forEach(function(h){var m=pi.get(h)-1,x=o.get(h)-1;pi.set(h,m),o.set(h,x),m||(Vu.has(h)||h.removeAttribute(r),Vu.delete(h)),x||h.removeAttribute(n)}),Jp--,Jp||(pi=new WeakMap,pi=new WeakMap,Vu=new WeakMap,Fu={})}},pw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=iz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),lz(r,s,n,"aria-hidden")):function(){return null}},pd="right-scroll-bar-position",md="width-before-scroll-bar",cz="with-scroll-bars-hidden",uz="--removed-body-scroll-bar-size";function Zp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dz(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var fz=typeof window<"u"?p.useLayoutEffect:p.useEffect,nS=new WeakMap;function hz(t,e){var n=dz(null,function(r){return t.forEach(function(s){return Zp(s,r)})});return fz(function(){var r=nS.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||Zp(a,null)}),o.forEach(function(a){s.has(a)||Zp(a,i)})}nS.set(n,t)},[t]),n}function pz(t){return t}function mz(t,e){e===void 0&&(e=pz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var f=i;i=[],f.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){i.push(f),c()},filter:function(f){return i=i.filter(f),n}}}};return s}function gz(t){t===void 0&&(t={});var e=mz(null);return e.options=cr({async:!0,ssr:!1},t),e}var tA=function(t){var e=t.sideCar,n=Sc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,cr({},n))};tA.isSideCarExport=!0;function vz(t,e){return t.useMedium(e),tA}var nA=gz(),em=function(){},Ch=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:em,onWheelCapture:em,onTouchMoveCapture:em}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,x=t.noIsolation,w=t.inert,v=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,y=t.gapMode,b=Sc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,O=hz([n,e]),j=cr(cr({},b),s);return p.createElement(p.Fragment,null,f&&p.createElement(N,{sideCar:nA,removeScrollBar:c,shards:h,noIsolation:x,inert:w,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:y}),i?p.cloneElement(p.Children.only(a),cr(cr({},j),{ref:O})):p.createElement(E,cr({},j,{className:l,ref:O}),a))});Ch.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ch.classNames={fullWidth:md,zeroRight:pd};var yz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yz();return e&&t.setAttribute("nonce",e),t}function xz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _z(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ez=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wz())&&(xz(e,n),_z(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Sz=function(){var t=Ez();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rA=function(){var t=Sz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Tz={left:0,top:0,right:0,gap:0},tm=function(t){return parseInt(t||"",10)||0},bz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[tm(n),tm(r),tm(s)]},Cz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Tz;var e=bz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Iz=rA(),Hi="data-scroll-locked",Rz=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(md,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(md," .").concat(md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(uz,": ").concat(a,`px;
  }
`)},rS=function(){var t=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(t)?t:0},Az=function(){p.useEffect(function(){return document.body.setAttribute(Hi,(rS()+1).toString()),function(){var t=rS()-1;t<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,t.toString())}},[])},Pz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Az();var o=p.useMemo(function(){return Cz(s)},[s]);return p.createElement(Iz,{styles:Rz(o,!e,s,n?"":"!important")})},$g=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return $g=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{$g=!1}var mi=$g?{passive:!1}:!1,Nz=function(t){return t.tagName==="TEXTAREA"},sA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nz(t)&&n[e]==="visible")},kz=function(t){return sA(t,"overflowY")},jz=function(t){return sA(t,"overflowX")},sS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=oA(t,r);if(s){var o=iA(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Dz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Oz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},oA=function(t,e){return t==="v"?kz(e):jz(e)},iA=function(t,e){return t==="v"?Dz(e):Oz(e)},Mz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Lz=function(t,e,n,r,s){var o=Mz(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,l=e.contains(a),c=!1,f=i>0,h=0,m=0;do{var x=iA(t,a),w=x[0],v=x[1],_=x[2],E=v-_-o*w;(w||E)&&oA(t,a)&&(h+=E,m+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(c=!0),c},$u=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oS=function(t){return[t.deltaX,t.deltaY]},iS=function(t){return t&&"current"in t?t.current:t},Vz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Uz=0,gi=[];function $z(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Uz++)[0],o=p.useState(rA)[0],i=p.useRef(t);p.useEffect(function(){i.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=S4([t.lockRef.current],(t.shards||[]).map(iS),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var E=$u(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-E[0],N="deltaY"in v?v.deltaY:y[1]-E[1],O,j=v.target,C=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in v&&C==="h"&&j.type==="range")return!1;var T=sS(C,j);if(!T)return!0;if(T?O=C:(O=C==="v"?"h":"v",T=sS(C,j)),!T)return!1;if(!r.current&&"changedTouches"in v&&(b||N)&&(r.current=O),!O)return!0;var I=r.current||O;return Lz(I,_,v,I==="h"?b:N,!0)},[]),l=p.useCallback(function(v){var _=v;if(!(!gi.length||gi[gi.length-1]!==o)){var E="deltaY"in _?oS(_):$u(_),y=e.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&Vz(O.delta,E)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(iS).filter(Boolean).filter(function(O){return O.contains(_.target)}),N=b.length>0?a(_,b[0]):!i.current.noIsolation;N&&_.cancelable&&_.preventDefault()}}},[]),c=p.useCallback(function(v,_,E,y){var b={name:v,delta:_,target:E,should:y,shadowParent:Bz(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(N){return N!==b})},1)},[]),f=p.useCallback(function(v){n.current=$u(v),r.current=void 0},[]),h=p.useCallback(function(v){c(v.type,oS(v),v.target,a(v,t.lockRef.current))},[]),m=p.useCallback(function(v){c(v.type,$u(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return gi.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,mi),document.addEventListener("touchmove",l,mi),document.addEventListener("touchstart",f,mi),function(){gi=gi.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,mi),document.removeEventListener("touchmove",l,mi),document.removeEventListener("touchstart",f,mi)}},[]);var x=t.removeScrollBar,w=t.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:Fz(s)}):null,x?p.createElement(Pz,{gapMode:t.gapMode}):null)}function Bz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zz=vz(nA,$z);var Ih=p.forwardRef(function(t,e){return p.createElement(Ch,cr({},t,{ref:e,sideCar:zz}))});Ih.classNames=Ch.classNames;var Wz=[" ","Enter","ArrowUp","ArrowDown"],Hz=[" ","Enter"],Uc="Select",[Rh,Ah,qz]=Mc(Uc),[Ia,NG]=ts(Uc,[qz,Th]),Ph=Th(),[Gz,no]=Ia(Uc),[Kz,Qz]=Ia(Uc),aA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:h,disabled:m,required:x,form:w}=t,v=Ph(e),[_,E]=p.useState(null),[y,b]=p.useState(null),[N,O]=p.useState(!1),j=Oc(c),[C=!1,T]=_r({prop:r,defaultProp:s,onChange:o}),[I,P]=_r({prop:i,defaultProp:a,onChange:l}),R=p.useRef(null),D=_?w||!!_.closest("form"):!0,[k,B]=p.useState(new Set),te=Array.from(k).map(Y=>Y.props.value).join(";");return u.jsx(YR,{...v,children:u.jsxs(Gz,{required:x,scope:e,trigger:_,onTriggerChange:E,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:qn(),value:I,onValueChange:P,open:C,onOpenChange:T,dir:j,triggerPointerDownPosRef:R,disabled:m,children:[u.jsx(Rh.Provider,{scope:e,children:u.jsx(Kz,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(Y=>{B(ne=>new Set(ne).add(Y))},[]),onNativeOptionRemove:p.useCallback(Y=>{B(ne=>{const L=new Set(ne);return L.delete(Y),L})},[]),children:n})}),D?u.jsxs(kA,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:Y=>P(Y.target.value),disabled:m,form:w,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},te):null]})})};aA.displayName=Uc;var lA="SelectTrigger",cA=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Ph(n),i=no(lA,n),a=i.disabled||r,l=Ee(e,i.onTriggerChange),c=Ah(n),f=p.useRef("touch"),[h,m,x]=jA(v=>{const _=c().filter(b=>!b.disabled),E=_.find(b=>b.value===i.value),y=DA(_,v,E);y!==void 0&&i.onValueChange(y.value)}),w=v=>{a||(i.onOpenChange(!0),x()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(XR,{asChild:!0,...o,children:u.jsx(oe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":NA(i.value)?"":void 0,...s,ref:l,onClick:K(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&w(v)}),onPointerDown:K(s.onPointerDown,v=>{f.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:K(s.onKeyDown,v=>{const _=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(_&&v.key===" ")&&Wz.includes(v.key)&&(w(),v.preventDefault())})})})});cA.displayName=lA;var uA="SelectValue",dA=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,l=no(uA,n),{onValueNodeHasChildrenChange:c}=l,f=o!==void 0,h=Ee(e,l.onValueNodeChange);return ct(()=>{c(f)},[c,f]),u.jsx(oe.span,{...a,ref:h,style:{pointerEvents:"none"},children:NA(l.value)?u.jsx(u.Fragment,{children:i}):o})});dA.displayName=uA;var Yz="SelectIcon",fA=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});fA.displayName=Yz;var Xz="SelectPortal",hA=t=>u.jsx(Fc,{asChild:!0,...t});hA.displayName=Xz;var Vo="SelectContent",pA=p.forwardRef((t,e)=>{const n=no(Vo,t.__scopeSelect),[r,s]=p.useState();if(ct(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?zo.createPortal(u.jsx(mA,{scope:t.__scopeSelect,children:u.jsx(Rh.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(gA,{...t,ref:e})});pA.displayName=Vo;var Ln=10,[mA,ro]=Ia(Vo),Jz="SelectContentImpl",gA=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:_,...E}=t,y=no(Vo,n),[b,N]=p.useState(null),[O,j]=p.useState(null),C=Ee(e,Q=>N(Q)),[T,I]=p.useState(null),[P,R]=p.useState(null),D=Ah(n),[k,B]=p.useState(!1),te=p.useRef(!1);p.useEffect(()=>{if(b)return pw(b)},[b]),ow();const Y=p.useCallback(Q=>{const[fe,...xe]=D().map(H=>H.ref.current),[ue]=xe.slice(-1),re=document.activeElement;for(const H of Q)if(H===re||(H==null||H.scrollIntoView({block:"nearest"}),H===fe&&O&&(O.scrollTop=0),H===ue&&O&&(O.scrollTop=O.scrollHeight),H==null||H.focus(),document.activeElement!==re))return},[D,O]),ne=p.useCallback(()=>Y([T,b]),[Y,T,b]);p.useEffect(()=>{k&&ne()},[k,ne]);const{onOpenChange:L,triggerPointerDownPosRef:F}=y;p.useEffect(()=>{if(b){let Q={x:0,y:0};const fe=ue=>{var re,H;Q={x:Math.abs(Math.round(ue.pageX)-(((re=F.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((H=F.current)==null?void 0:H.y)??0))}},xe=ue=>{Q.x<=10&&Q.y<=10?ue.preventDefault():b.contains(ue.target)||L(!1),document.removeEventListener("pointermove",fe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",xe,{capture:!0})}}},[b,L,F]),p.useEffect(()=>{const Q=()=>L(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[L]);const[G,J]=jA(Q=>{const fe=D().filter(re=>!re.disabled),xe=fe.find(re=>re.ref.current===document.activeElement),ue=DA(fe,Q,xe);ue&&setTimeout(()=>ue.ref.current.focus())}),ie=p.useCallback((Q,fe,xe)=>{const ue=!te.current&&!xe;(y.value!==void 0&&y.value===fe||ue)&&(I(Q),ue&&(te.current=!0))},[y.value]),ve=p.useCallback(()=>b==null?void 0:b.focus(),[b]),Ce=p.useCallback((Q,fe,xe)=>{const ue=!te.current&&!xe;(y.value!==void 0&&y.value===fe||ue)&&R(Q)},[y.value]),Fe=r==="popper"?Bg:vA,De=Fe===Bg?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return u.jsx(mA,{scope:n,content:b,viewport:O,onViewportChange:j,itemRefCallback:ie,selectedItem:T,onItemLeave:ve,itemTextRefCallback:Ce,focusSelectedItem:ne,selectedItemText:P,position:r,isPositioned:k,searchRef:G,children:u.jsx(Ih,{as:Gs,allowPinchZoom:!0,children:u.jsx(xh,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:K(s,Q=>{var fe;(fe=y.trigger)==null||fe.focus({preventScroll:!0}),Q.preventDefault()}),children:u.jsx(Lc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:u.jsx(Fe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault(),...E,...De,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:K(E.onKeyDown,Q=>{const fe=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!fe&&Q.key.length===1&&J(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ue=D().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const re=Q.target,H=ue.indexOf(re);ue=ue.slice(H+1)}setTimeout(()=>Y(ue)),Q.preventDefault()}})})})})})})});gA.displayName=Jz;var Zz="SelectItemAlignedPosition",vA=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=no(Vo,n),i=ro(Vo,n),[a,l]=p.useState(null),[c,f]=p.useState(null),h=Ee(e,C=>f(C)),m=Ah(n),x=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:E,focusSelectedItem:y}=i,b=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&v&&_&&E){const C=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(o.dir!=="rtl"){const re=P.left-T.left,H=I.left-re,pe=C.left-H,Ie=C.width+pe,Ue=Math.max(Ie,T.width),ut=window.innerWidth-Ln,St=Og(H,[Ln,Math.max(Ln,ut-Ue)]);a.style.minWidth=Ie+"px",a.style.left=St+"px"}else{const re=T.right-P.right,H=window.innerWidth-I.right-re,pe=window.innerWidth-C.right-H,Ie=C.width+pe,Ue=Math.max(Ie,T.width),ut=window.innerWidth-Ln,St=Og(H,[Ln,Math.max(Ln,ut-Ue)]);a.style.minWidth=Ie+"px",a.style.right=St+"px"}const R=m(),D=window.innerHeight-Ln*2,k=v.scrollHeight,B=window.getComputedStyle(c),te=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),ne=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),F=te+Y+k+L+ne,G=Math.min(_.offsetHeight*5,F),J=window.getComputedStyle(v),ie=parseInt(J.paddingTop,10),ve=parseInt(J.paddingBottom,10),Ce=C.top+C.height/2-Ln,Fe=D-Ce,De=_.offsetHeight/2,Q=_.offsetTop+De,fe=te+Y+Q,xe=F-fe;if(fe<=Ce){const re=R.length>0&&_===R[R.length-1].ref.current;a.style.bottom="0px";const H=c.clientHeight-v.offsetTop-v.offsetHeight,pe=Math.max(Fe,De+(re?ve:0)+H+ne),Ie=fe+pe;a.style.height=Ie+"px"}else{const re=R.length>0&&_===R[0].ref.current;a.style.top="0px";const pe=Math.max(Ce,te+v.offsetTop+(re?ie:0)+De)+xe;a.style.height=pe+"px",v.scrollTop=fe-Ce+v.offsetTop}a.style.margin=`${Ln}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,o.trigger,o.valueNode,a,c,v,_,E,o.dir,r]);ct(()=>b(),[b]);const[N,O]=p.useState();ct(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const j=p.useCallback(C=>{C&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return u.jsx(t7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:x,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:u.jsx(oe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vA.displayName=Zz;var e7="SelectPopperPosition",Bg=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ln,...o}=t,i=Ph(n);return u.jsx(JR,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bg.displayName=e7;var[t7,mw]=Ia(Vo,{}),zg="SelectViewport",yA=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=ro(zg,n),i=mw(zg,n),a=Ee(e,o.onViewportChange),l=p.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Rh.Slot,{scope:n,children:u.jsx(oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const x=Math.abs(l.current-f.scrollTop);if(x>0){const w=window.innerHeight-Ln*2,v=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),E=Math.max(v,_);if(E<w){const y=E+x,b=Math.min(w,y),N=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});yA.displayName=zg;var wA="SelectGroup",[n7,r7]=Ia(wA),s7=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qn();return u.jsx(n7,{scope:n,id:s,children:u.jsx(oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});s7.displayName=wA;var xA="SelectLabel",_A=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=r7(xA,n);return u.jsx(oe.div,{id:s.id,...r,ref:e})});_A.displayName=xA;var xf="SelectItem",[o7,EA]=Ia(xf),SA=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=no(xf,n),l=ro(xf,n),c=a.value===r,[f,h]=p.useState(o??""),[m,x]=p.useState(!1),w=Ee(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),v=qn(),_=p.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(o7,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:p.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:u.jsx(Rh.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:u.jsx(oe.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:K(i.onFocus,()=>x(!0)),onBlur:K(i.onBlur,()=>x(!1)),onClick:K(i.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:K(i.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:K(i.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:K(i.onPointerMove,y=>{var b;_.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:K(i.onKeyDown,y=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(Hz.includes(y.key)&&E(),y.key===" "&&y.preventDefault())})})})})});SA.displayName=xf;var pl="SelectItemText",TA=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=no(pl,n),a=ro(pl,n),l=EA(pl,n),c=Qz(pl,n),[f,h]=p.useState(null),m=Ee(e,E=>h(E),l.onItemTextChange,E=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,E,l.value,l.disabled)}),x=f==null?void 0:f.textContent,w=p.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:x},l.value),[l.disabled,l.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return ct(()=>(v(w),()=>_(w)),[v,_,w]),u.jsxs(u.Fragment,{children:[u.jsx(oe.span,{id:l.textId,...o,ref:m}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?zo.createPortal(o.children,i.valueNode):null]})});TA.displayName=pl;var bA="SelectItemIndicator",CA=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EA(bA,n).isSelected?u.jsx(oe.span,{"aria-hidden":!0,...r,ref:e}):null});CA.displayName=bA;var Wg="SelectScrollUpButton",IA=p.forwardRef((t,e)=>{const n=ro(Wg,t.__scopeSelect),r=mw(Wg,t.__scopeSelect),[s,o]=p.useState(!1),i=Ee(e,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(AA,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});IA.displayName=Wg;var Hg="SelectScrollDownButton",RA=p.forwardRef((t,e)=>{const n=ro(Hg,t.__scopeSelect),r=mw(Hg,t.__scopeSelect),[s,o]=p.useState(!1),i=Ee(e,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;o(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(AA,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});RA.displayName=Hg;var AA=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=ro("SelectScrollButton",n),i=p.useRef(null),a=Ah(n),l=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),ct(()=>{var f;const c=a().find(h=>h.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),u.jsx(oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:K(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:K(s.onPointerLeave,()=>{l()})})}),i7="SelectSeparator",PA=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(oe.div,{"aria-hidden":!0,...r,ref:e})});PA.displayName=i7;var qg="SelectArrow",a7=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ph(n),o=no(qg,n),i=ro(qg,n);return o.open&&i.position==="popper"?u.jsx(ZR,{...s,...r,ref:e}):null});a7.displayName=qg;function NA(t){return t===""||t===void 0}var kA=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),o=Ee(e,s),i=sz(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&f){const h=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(h)}},[i,n]),u.jsx(bh,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});kA.displayName="BubbleSelect";function jA(t){const e=Ke(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const a=n.current+i;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function DA(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=l7(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function l7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var c7=aA,OA=cA,u7=dA,d7=fA,f7=hA,MA=pA,h7=yA,LA=_A,VA=SA,p7=TA,m7=CA,FA=IA,UA=RA,$A=PA;const Zn=c7,er=u7,Pn=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(OA,{ref:r,className:le("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(d7,{asChild:!0,children:u.jsx(gB,{className:"h-4 w-4 opacity-50"})})]}));Pn.displayName=OA.displayName;const BA=p.forwardRef(({className:t,...e},n)=>u.jsx(FA,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(EB,{})}));BA.displayName=FA.displayName;const zA=p.forwardRef(({className:t,...e},n)=>u.jsx(UA,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(CR,{})}));zA.displayName=UA.displayName;const Nn=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(f7,{children:u.jsxs(MA,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(BA,{}),u.jsx(h7,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(zA,{})]})}));Nn.displayName=MA.displayName;const g7=p.forwardRef(({className:t,...e},n)=>u.jsx(LA,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t),...e}));g7.displayName=LA.displayName;const ee=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(VA,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(m7,{children:u.jsx(bR,{className:"h-4 w-4"})})}),u.jsx(p7,{children:e})]}));ee.displayName=VA.displayName;const v7=p.forwardRef(({className:t,...e},n)=>u.jsx($A,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));v7.displayName=$A.displayName;const ei=()=>{const t=async(s,o,i,a)=>{try{if(await e(s,i,o))return alert("already in watchlist");await e6($p(el,"users",s,"watchlist",s,o,i.toString()),a)}catch(l){console.log("error",l)}},e=async(s,o,i)=>{const a=$p(el,"users",s,"watchlist",s,i,o.toString());return!!(await Z9(a)).exists()};return{addToWatchList:t,checkIfInWatchList:e,getWatchList:async s=>{const o=yE(el,"users",s,"watchlist",s,"movies"),i=yE(el,"users",s,"watchlist",s,"tvshows");try{const l=(await xE(o)).docs.map(h=>({id:h.id,...h.data()})),f=(await xE(i)).docs.map(h=>({id:h.id,...h.data()}));return{movies:l,tvShows:f}}catch(a){console.error("Error fetching watchlist data:",a)}},removeFromWatchList:async(s,o,i)=>{try{await t6($p(el,"users",s,"watchlist",s,o,i.toString()))}catch(a){console.log("error",a)}}}},y7=()=>{const{isAuthenticated:t,user:e,mode:n}=ke(),[r,s]=p.useState(),[o,i]=p.useState(),[a,l]=p.useState(),[c,f]=p.useState(),h=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],m="https://image.tmdb.org/t/p/original",x=ha(),[w,v]=p.useState(""),[_,E]=p.useState([]),[y,b]=p.useState(0),{getWatchList:N}=ei(),{getTrendingMovies:O,getTrendingMoviesByGenre:j,getSeuggestions:C}=Gt();return p.useEffect(()=>{(async()=>{const I=await O();s(I);const P=await j(878);i(P);const R=await j(28);l(R);const D=await j(16);f(D),b(Math.floor(Math.random()*I.length))})()},[O,j]),p.useEffect(()=>{(async()=>{const I=await C(w);E(I)})()},[w]),p.useEffect(()=>{(async()=>{e&&await N(e&&e.uid.toString(),"movies").then(I=>console.log(I))})()},[e]),u.jsx("div",{className:`bg-background min-h-screen text-foreground ${n}`,children:u.jsxs("main",{className:"flex-1",children:[u.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 xl:py-48 bg-cover bg-center",title:r&&r[y]&&(r[y].title||r[y].name),style:{backgroundImage:`url(${r&&r[y]&&r[y].backdrop_path?`${m}${r[y].backdrop_path}`:""})`,backgroundBlendMode:"overlay",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:u.jsx("div",{className:"bg-black bg-opacity-5 max-sm:bg-opacity-15 px-4 md:px-6",children:u.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl text-white",children:"Welcome to Film Guild"}),u.jsx("p",{className:"mx-auto max-w-[700px] text-gray-300 md:text-xl",children:"Discover, watch, and discuss the best films from around the world."})]}),u.jsxs("div",{className:"w-full max-w-md space-y-2",children:[u.jsxs("div",{className:"flex space-x-2 relative",children:[u.jsx(pt,{value:w,onChange:T=>v(T.target.value),className:"max-w-[300px] h-10 flex-1 text-white border-white rounded-lg shadow-md",placeholder:"Search movies or tvshows...",type:"search"}),u.jsx("div",{className:"absolute z-50 -left-2 top-10 text-foreground text-left bg-background w-[300px] rounded-lg shadow-lg",children:u.jsxs(ns,{className:"max-h-40 whitespace-nowrap flex flex-col",children:[_&&_.map(T=>u.jsxs("div",{className:"cursor-pointer p-2 border-y-[0.2px] border-foreground hover:bg-slate-500",onClick:()=>x(`/search/query=${T.title||T.name}`),children:[u.jsx("img",{src:T.poster_path?`${m}${T.poster_path}`:"default_image_url",alt:T.title,className:"w-8 h-12 inline-block mr-2 rounded-md"}),T.title||T.name]},T.id)),u.jsx(rs,{orientation:"vertical",className:"bg-foreground rounded"})]})}),u.jsxs(Je,{type:"",variant:"secondary",onClick:()=>x(`/search/query=${w}`),className:"rounded-lg shadow-md",children:[u.jsx(Er,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Search"})]})]}),u.jsx("h1",{className:"text-white text-start",children:"or browse by genre"}),u.jsx("div",{className:"flex space-x-2 relative",children:u.jsxs(Zn,{onValueChange:T=>x(`/genre/${T}`),children:[u.jsx(Pn,{className:"max-w-[300px] h-10 flex-1 text-white border-white rounded-lg shadow-md bg-transparent",children:u.jsx(er,{placeholder:"Select Genre"})}),u.jsx(Nn,{children:h.map(T=>u.jsx(ee,{value:T.id.toString(),className:"text-black",children:T.name},T.id))})]})})]})]})})}),u.jsxs("section",{className:"w-full bg-background sm:p-4",children:[u.jsx(Mu,{title:"Trending Now",media:r,genres:h,posterBase:m,icon:lU}),u.jsx(Mu,{title:"Science Fiction",media:o,genres:h,posterBase:m,icon:uU}),u.jsx(Mu,{title:"Action",media:a,genres:h,posterBase:m,icon:Ky}),u.jsx(Mu,{title:"Animation",media:c,genres:h,posterBase:m,icon:Y6})]})]})})};var w7="Label",WA=p.forwardRef((t,e)=>u.jsx(oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WA.displayName=w7;var HA=WA;const x7=xa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$n=p.forwardRef(({className:t,...e},n)=>u.jsx(HA,{ref:n,className:le(x7(),t),...e}));$n.displayName=HA.displayName;gI(dh);const _7=async(t,e)=>bV(Yn,t,e),E7=async(t,e)=>CV(Yn,t,e),S7=async()=>Yn.signOut(),T7=async t=>TV(Yn,t),qA=async()=>{const t=new kr;return eF(Yn,t)},b7=async t=>{const e=Yn.currentUser;if(e)return AV(e,{displayName:t});throw new Error("No authenticated user")},C7=async t=>{const e=Yn.currentUser;if(e)return PV(e,t);throw new Error("No authenticated user")},I7=async t=>{const e=Yn.currentUser;if(e)return NV(e,t);throw new Error("No authenticated user")},R7=async()=>{const t=Yn.currentUser;if(t)return IV(t);throw new Error("No authenticated user")},A7=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,o]=p.useState(null),i=ha(),a=async()=>{await E7(t,n).catch(h=>{o(h.message.replace("Firebase: ",""))})},{isAuthenticated:l}=ke();p.useEffect(()=>{l&&i("/")},[l]);const c=async()=>{await qA().catch(h=>{o(h.message.replace("Firebase: ",""))})},{mode:f}=ke();return u.jsx("div",{className:`flex  min-h-[100dvh] items-center justify-center bg-background px-4 py-12 sm:px-6 lg:px-8 ${f}`,children:u.jsxs("div",{className:"mx-auto w-full max-w-md space-y-6",children:[u.jsxs("div",{className:"space-y-2 text-center",children:[u.jsx("h1",{className:"text-3xl text-foreground font-bold",children:"Welcome back"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your email and password to sign in to your account."}),s&&u.jsx("p",{className:"text-red-500",children:s})]}),u.jsxs("div",{className:"space-y-4 text-foreground",children:[u.jsxs("div",{className:"space-y-2 ",children:[u.jsx($n,{htmlFor:"email",children:"Email"}),u.jsx(pt,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:t,onChange:h=>e(h.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx($n,{htmlFor:"password",children:"Password"}),u.jsx(_e,{to:"/forgot-password",className:"text-sm font-medium underline underline-offset-4 hover:text-primary",prefetch:!1,children:"Forgot password?"})]}),u.jsx(pt,{id:"password",type:"password",required:!0,placeholder:"*********",value:n,onChange:h=>r(h.target.value)})]}),u.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account? ",u.jsx(_e,{to:"/signup",className:"font-medium underline underline-offset-4 hover:text-primary",children:"Sign up"})]}),u.jsx(Je,{type:"submit",className:"w-full",onClick:a,children:"Sign in"}),u.jsx(Je,{variant:"ghost",className:"w-full border border-secondary",onClick:c,children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("img",{src:"https://www.svgrepo.com/show/303108/google-icon-logo.svg",alt:"Google Logo",className:"w-6 h-6 mr-2"}),u.jsx("span",{children:"Sign in with Google"})]})})]})]})})};function P7(){const{isAuthenticated:t}=ke();p.useEffect(()=>{t&&c("/")},[t]);const[e,n]=p.useState(""),[r,s]=p.useState(""),[o,i]=p.useState(!1),[a,l]=p.useState(null),c=ha(),f=async x=>{x.preventDefault(),i(!0);try{await _7(e,r).then(()=>c("/")).catch(w=>l(w.message.replace("Firebase: ","")))}catch(w){console.error(w)}i(!1)},h=async()=>{await qA().catch(x=>{l(x.message.replace("Firebase: ",""))})},{mode:m}=ke();return u.jsx("div",{className:` ${m} flex min-h-[100dvh] items-center justify-center bg-background px-4 py-12 sm:px-6 lg:px-8`,children:u.jsxs("div",{className:"mx-auto w-full max-w-md space-y-6",children:[u.jsxs("div",{className:"space-y-2 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Create an account"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your details to create a new account."}),a&&u.jsx("p",{className:"text-red-500",children:a})]}),u.jsxs("div",{className:"space-y-4 text-foreground",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"email",children:"Email"}),u.jsx(pt,{id:"email",type:"email",onChange:x=>n(x.target.value),placeholder:"m@example.com",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"password",children:"Password"}),u.jsx(pt,{id:"password",type:"password",placeholder:"*********",onChange:x=>s(x.target.value),required:!0})]}),u.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account? ",u.jsx(_e,{to:"/login",className:"font-medium underline underline-offset-4 hover:text-primary",children:"Sign in"})]}),u.jsx(Je,{type:"submit",className:"w-full",onClick:x=>f(x),children:o?"Creating account...":"Create account"}),u.jsx(Je,{variant:"ghost",className:"w-full border border-secondary",onClick:h,children:u.jsxs("div",{className:"flex items-center justify-center ",children:[u.jsx("img",{src:"https://www.svgrepo.com/show/303108/google-icon-logo.svg",alt:"Google Logo",className:"w-6 h-6 mr-2"}),u.jsx("span",{children:"Sign up with Google"})]})})]})]})})}const N7=()=>{const[t,e]=We.useState(""),[n,r]=We.useState(null),[s,o]=We.useState(!1),i=async l=>{l.preventDefault(),await T7(t).then(()=>o(!0)).catch(c=>r(c.message))},{mode:a}=ke();return u.jsxs("div",{className:`${a} flex bg-background flex-col items-center justify-center min-h-screen`,children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"Forgot Password"}),n&&u.jsx("p",{className:"text-red-500",children:n}),u.jsxs("form",{onSubmit:i,className:"bg-secondary p-6 rounded shadow-md w-full max-w-sm text",method:"post",children:[s&&u.jsx("p",{className:"text-green-500 text-center",children:"Password reset email sent"}),u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground",children:"Email:"}),u.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",onChange:l=>e(l.target.value)}),u.jsx(Je,{type:"submit",className:"mt-4 w-full  text-white py-2 px-4 rounded-md  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Submit"})]}),u.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Remembered your password? ",u.jsx("a",{href:"/login",className:"text-secondary",children:"Login"})]})]})};function k7(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(h){const{scope:m,children:x,...w}=h,v=(m==null?void 0:m[t][l])||a,_=p.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:x})}function f(h,m){const x=(m==null?void 0:m[t][l])||a,w=p.useContext(x);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,j7(s,...e)]}function j7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var nm="rovingFocusGroup.onEntryFocus",D7={bubbles:!1,cancelable:!0},Nh="RovingFocusGroup",[Gg,GA,O7]=Mc(Nh),[M7,KA]=k7(Nh,[O7]),[L7,V7]=M7(Nh),QA=p.forwardRef((t,e)=>u.jsx(Gg.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Gg.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(F7,{...t,ref:e})})}));QA.displayName=Nh;var F7=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...h}=t,m=p.useRef(null),x=Ee(e,m),w=Oc(o),[v=null,_]=_r({prop:i,defaultProp:a,onChange:l}),[E,y]=p.useState(!1),b=Ke(c),N=GA(n),O=p.useRef(!1),[j,C]=p.useState(0);return p.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(nm,b),()=>T.removeEventListener(nm,b)},[b]),u.jsx(L7,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(T=>_(T),[_]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>C(T=>T-1),[]),children:u.jsx(oe.div,{tabIndex:E||j===0?-1:0,"data-orientation":r,...h,ref:x,style:{outline:"none",...t.style},onMouseDown:K(t.onMouseDown,()=>{O.current=!0}),onFocus:K(t.onFocus,T=>{const I=!O.current;if(T.target===T.currentTarget&&I&&!E){const P=new CustomEvent(nm,D7);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=N().filter(Y=>Y.focusable),D=R.find(Y=>Y.active),k=R.find(Y=>Y.id===v),te=[D,k,...R].filter(Boolean).map(Y=>Y.ref.current);JA(te,f)}}O.current=!1}),onBlur:K(t.onBlur,()=>y(!1))})})}),YA="RovingFocusGroupItem",XA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=t,a=qn(),l=o||a,c=V7(YA,n),f=c.currentTabStopId===l,h=GA(n),{onFocusableItemAdd:m,onFocusableItemRemove:x}=c;return p.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),u.jsx(Gg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(oe.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...i,ref:e,onMouseDown:K(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:K(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:K(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=B7(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const y=E.indexOf(w.currentTarget);E=c.loop?z7(E,y+1):E.slice(y+1)}setTimeout(()=>JA(E))}})})})});XA.displayName=YA;var U7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function B7(t,e,n){const r=$7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return U7[r]}function JA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function z7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var W7=QA,H7=XA,Kg=["Enter"," "],q7=["ArrowDown","PageUp","Home"],ZA=["ArrowUp","PageDown","End"],G7=[...q7,...ZA],K7={ltr:[...Kg,"ArrowRight"],rtl:[...Kg,"ArrowLeft"]},Q7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$c="Menu",[dc,Y7,X7]=Mc($c),[ti,eP]=ts($c,[X7,Th,KA]),kh=Th(),tP=KA(),[J7,ni]=ti($c),[Z7,Bc]=ti($c),nP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=t,a=kh(e),[l,c]=p.useState(null),f=p.useRef(!1),h=Ke(o),m=Oc(s);return p.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),u.jsx(YR,{...a,children:u.jsx(J7,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:u.jsx(Z7,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:i,children:r})})})};nP.displayName=$c;var eW="MenuAnchor",gw=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=kh(n);return u.jsx(XR,{...s,...r,ref:e})});gw.displayName=eW;var vw="MenuPortal",[tW,rP]=ti(vw,{forceMount:void 0}),sP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=ni(vw,e);return u.jsx(tW,{scope:e,forceMount:n,children:u.jsx(sn,{present:n||o.open,children:u.jsx(Fc,{asChild:!0,container:s,children:r})})})};sP.displayName=vw;var Cn="MenuContent",[nW,yw]=ti(Cn),oP=p.forwardRef((t,e)=>{const n=rP(Cn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=ni(Cn,t.__scopeMenu),i=Bc(Cn,t.__scopeMenu);return u.jsx(dc.Provider,{scope:t.__scopeMenu,children:u.jsx(sn,{present:r||o.open,children:u.jsx(dc.Slot,{scope:t.__scopeMenu,children:i.modal?u.jsx(rW,{...s,ref:e}):u.jsx(sW,{...s,ref:e})})})})}),rW=p.forwardRef((t,e)=>{const n=ni(Cn,t.__scopeMenu),r=p.useRef(null),s=Ee(e,r);return p.useEffect(()=>{const o=r.current;if(o)return pw(o)},[]),u.jsx(ww,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:K(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sW=p.forwardRef((t,e)=>{const n=ni(Cn,t.__scopeMenu);return u.jsx(ww,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ww=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:x,disableOutsideScroll:w,...v}=t,_=ni(Cn,n),E=Bc(Cn,n),y=kh(n),b=tP(n),N=Y7(n),[O,j]=p.useState(null),C=p.useRef(null),T=Ee(e,C,_.onContentChange),I=p.useRef(0),P=p.useRef(""),R=p.useRef(0),D=p.useRef(null),k=p.useRef("right"),B=p.useRef(0),te=w?Ih:p.Fragment,Y=w?{as:Gs,allowPinchZoom:!0}:void 0,ne=F=>{var Q,fe;const G=P.current+F,J=N().filter(xe=>!xe.disabled),ie=document.activeElement,ve=(Q=J.find(xe=>xe.ref.current===ie))==null?void 0:Q.textValue,Ce=J.map(xe=>xe.textValue),Fe=gW(Ce,G,ve),De=(fe=J.find(xe=>xe.textValue===Fe))==null?void 0:fe.ref.current;(function xe(ue){P.current=ue,window.clearTimeout(I.current),ue!==""&&(I.current=window.setTimeout(()=>xe(""),1e3))})(G),De&&setTimeout(()=>De.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),ow();const L=p.useCallback(F=>{var J,ie;return k.current===((J=D.current)==null?void 0:J.side)&&yW(F,(ie=D.current)==null?void 0:ie.area)},[]);return u.jsx(nW,{scope:n,searchRef:P,onItemEnter:p.useCallback(F=>{L(F)&&F.preventDefault()},[L]),onItemLeave:p.useCallback(F=>{var G;L(F)||((G=C.current)==null||G.focus(),j(null))},[L]),onTriggerLeave:p.useCallback(F=>{L(F)&&F.preventDefault()},[L]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback(F=>{D.current=F},[]),children:u.jsx(te,{...Y,children:u.jsx(xh,{asChild:!0,trapped:s,onMountAutoFocus:K(o,F=>{var G;F.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(Lc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:x,children:u.jsx(W7,{asChild:!0,...b,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:j,onEntryFocus:K(l,F=>{E.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(JR,{role:"menu","aria-orientation":"vertical","data-state":_P(_.open),"data-radix-menu-content":"",dir:E.dir,...y,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:K(v.onKeyDown,F=>{const J=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ie=F.ctrlKey||F.altKey||F.metaKey,ve=F.key.length===1;J&&(F.key==="Tab"&&F.preventDefault(),!ie&&ve&&ne(F.key));const Ce=C.current;if(F.target!==Ce||!G7.includes(F.key))return;F.preventDefault();const De=N().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);ZA.includes(F.key)&&De.reverse(),pW(De)}),onBlur:K(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:K(t.onPointerMove,fc(F=>{const G=F.target,J=B.current!==F.clientX;if(F.currentTarget.contains(G)&&J){const ie=F.clientX>B.current?"right":"left";k.current=ie,B.current=F.clientX}}))})})})})})})});oP.displayName=Cn;var oW="MenuGroup",xw=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(oe.div,{role:"group",...r,ref:e})});xw.displayName=oW;var iW="MenuLabel",iP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(oe.div,{...r,ref:e})});iP.displayName=iW;var _f="MenuItem",aS="menu.itemSelect",jh=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=p.useRef(null),i=Bc(_f,t.__scopeMenu),a=yw(_f,t.__scopeMenu),l=Ee(e,o),c=p.useRef(!1),f=()=>{const h=o.current;if(!n&&h){const m=new CustomEvent(aS,{bubbles:!0,cancelable:!0});h.addEventListener(aS,x=>r==null?void 0:r(x),{once:!0}),ew(h,m),m.defaultPrevented?c.current=!1:i.onClose()}};return u.jsx(aP,{...s,ref:l,disabled:n,onClick:K(t.onClick,f),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),c.current=!0},onPointerUp:K(t.onPointerUp,h=>{var m;c.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:K(t.onKeyDown,h=>{const m=a.searchRef.current!=="";n||m&&h.key===" "||Kg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});jh.displayName=_f;var aP=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,i=yw(_f,n),a=tP(n),l=p.useRef(null),c=Ee(e,l),[f,h]=p.useState(!1),[m,x]=p.useState("");return p.useEffect(()=>{const w=l.current;w&&x((w.textContent??"").trim())},[o.children]),u.jsx(dc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:u.jsx(H7,{asChild:!0,...a,focusable:!r,children:u.jsx(oe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:K(t.onPointerMove,fc(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:K(t.onPointerLeave,fc(w=>i.onItemLeave(w))),onFocus:K(t.onFocus,()=>h(!0)),onBlur:K(t.onBlur,()=>h(!1))})})})}),aW="MenuCheckboxItem",lP=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(hP,{scope:t.__scopeMenu,checked:n,children:u.jsx(jh,{role:"menuitemcheckbox","aria-checked":Ef(n)?"mixed":n,...s,ref:e,"data-state":Ew(n),onSelect:K(s.onSelect,()=>r==null?void 0:r(Ef(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lP.displayName=aW;var cP="MenuRadioGroup",[lW,cW]=ti(cP,{value:void 0,onValueChange:()=>{}}),uP=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=Ke(r);return u.jsx(lW,{scope:t.__scopeMenu,value:n,onValueChange:o,children:u.jsx(xw,{...s,ref:e})})});uP.displayName=cP;var dP="MenuRadioItem",fP=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=cW(dP,t.__scopeMenu),o=n===s.value;return u.jsx(hP,{scope:t.__scopeMenu,checked:o,children:u.jsx(jh,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Ew(o),onSelect:K(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});fP.displayName=dP;var _w="MenuItemIndicator",[hP,uW]=ti(_w,{checked:!1}),pP=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=uW(_w,n);return u.jsx(sn,{present:r||Ef(o.checked)||o.checked===!0,children:u.jsx(oe.span,{...s,ref:e,"data-state":Ew(o.checked)})})});pP.displayName=_w;var dW="MenuSeparator",mP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});mP.displayName=dW;var fW="MenuArrow",gP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=kh(n);return u.jsx(ZR,{...s,...r,ref:e})});gP.displayName=fW;var hW="MenuSub",[kG,vP]=ti(hW),ml="MenuSubTrigger",yP=p.forwardRef((t,e)=>{const n=ni(ml,t.__scopeMenu),r=Bc(ml,t.__scopeMenu),s=vP(ml,t.__scopeMenu),o=yw(ml,t.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},f=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),u.jsx(gw,{asChild:!0,...c,children:u.jsx(aP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_P(n.open),...t,ref:fh(e,s.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:K(t.onPointerMove,fc(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:K(t.onPointerLeave,fc(h=>{var x,w;f();const m=(x=n.content)==null?void 0:x.getBoundingClientRect();if(m){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",E=_?-5:5,y=m[_?"left":"right"],b=m[_?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:y,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:y,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:K(t.onKeyDown,h=>{var x;const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||K7[r.dir].includes(h.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),h.preventDefault())})})})});yP.displayName=ml;var wP="MenuSubContent",xP=p.forwardRef((t,e)=>{const n=rP(Cn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=ni(Cn,t.__scopeMenu),i=Bc(Cn,t.__scopeMenu),a=vP(wP,t.__scopeMenu),l=p.useRef(null),c=Ee(e,l);return u.jsx(dc.Provider,{scope:t.__scopeMenu,children:u.jsx(sn,{present:r||o.open,children:u.jsx(dc.Slot,{scope:t.__scopeMenu,children:u.jsx(ww,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:K(t.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:K(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:K(t.onKeyDown,f=>{var x;const h=f.currentTarget.contains(f.target),m=Q7[i.dir].includes(f.key);h&&m&&(o.onOpenChange(!1),(x=a.trigger)==null||x.focus(),f.preventDefault())})})})})})});xP.displayName=wP;function _P(t){return t?"open":"closed"}function Ef(t){return t==="indeterminate"}function Ew(t){return Ef(t)?"indeterminate":t?"checked":"unchecked"}function pW(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function mW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function gW(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=mW(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function vW(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,l=e[o].y,c=e[i].x,f=e[i].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(s=!s)}return s}function yW(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return vW(n,e)}function fc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var wW=nP,xW=gw,_W=sP,EW=oP,SW=xw,TW=iP,bW=jh,CW=lP,IW=uP,RW=fP,AW=pP,PW=mP,NW=gP,kW=yP,jW=xP,Sw="DropdownMenu",[DW,jG]=ts(Sw,[eP]),Kt=eP(),[OW,EP]=DW(Sw),SP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,l=Kt(e),c=p.useRef(null),[f=!1,h]=_r({prop:s,defaultProp:o,onChange:i});return u.jsx(OW,{scope:e,triggerId:qn(),triggerRef:c,contentId:qn(),open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:a,children:u.jsx(wW,{...l,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};SP.displayName=Sw;var TP="DropdownMenuTrigger",bP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=EP(TP,n),i=Kt(n);return u.jsx(xW,{asChild:!0,...i,children:u.jsx(oe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:fh(e,o.triggerRef),onPointerDown:K(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:K(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});bP.displayName=TP;var MW="DropdownMenuPortal",CP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kt(e);return u.jsx(_W,{...r,...n})};CP.displayName=MW;var IP="DropdownMenuContent",RP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=EP(IP,n),o=Kt(n),i=p.useRef(!1);return u.jsx(EW,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:K(t.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:K(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!s.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RP.displayName=IP;var LW="DropdownMenuGroup",VW=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(SW,{...s,...r,ref:e})});VW.displayName=LW;var FW="DropdownMenuLabel",AP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(TW,{...s,...r,ref:e})});AP.displayName=FW;var UW="DropdownMenuItem",PP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(bW,{...s,...r,ref:e})});PP.displayName=UW;var $W="DropdownMenuCheckboxItem",NP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(CW,{...s,...r,ref:e})});NP.displayName=$W;var BW="DropdownMenuRadioGroup",zW=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(IW,{...s,...r,ref:e})});zW.displayName=BW;var WW="DropdownMenuRadioItem",kP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(RW,{...s,...r,ref:e})});kP.displayName=WW;var HW="DropdownMenuItemIndicator",jP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(AW,{...s,...r,ref:e})});jP.displayName=HW;var qW="DropdownMenuSeparator",DP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(PW,{...s,...r,ref:e})});DP.displayName=qW;var GW="DropdownMenuArrow",KW=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(NW,{...s,...r,ref:e})});KW.displayName=GW;var QW="DropdownMenuSubTrigger",OP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(kW,{...s,...r,ref:e})});OP.displayName=QW;var YW="DropdownMenuSubContent",MP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kt(n);return u.jsx(jW,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MP.displayName=YW;var XW=SP,JW=bP,ZW=CP,LP=RP,VP=AP,FP=PP,UP=NP,$P=kP,BP=jP,zP=DP,WP=OP,HP=MP;const rm=XW,sm=JW,eH=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(WP,{ref:s,className:le("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,u.jsx(xB,{className:"ml-auto"})]}));eH.displayName=WP.displayName;const tH=p.forwardRef(({className:t,...e},n)=>u.jsx(HP,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tH.displayName=HP.displayName;const gd=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(ZW,{children:u.jsx(LP,{ref:r,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));gd.displayName=LP.displayName;const nH=p.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(FP,{ref:r,className:le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));nH.displayName=FP.displayName;const rH=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(UP,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(BP,{children:u.jsx(bR,{className:"h-4 w-4"})})}),e]}));rH.displayName=UP.displayName;const sH=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs($P,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(BP,{children:u.jsx(bB,{className:"h-4 w-4 fill-current"})})}),e]}));sH.displayName=$P.displayName;const oH=p.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(VP,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));oH.displayName=VP.displayName;const iH=p.forwardRef(({className:t,...e},n)=>u.jsx(zP,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));iH.displayName=zP.displayName;var aH="Toggle",qP=p.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...o}=t,[i=!1,a]=_r({prop:n,onChange:s,defaultProp:r});return u.jsx(oe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:K(t.onClick,()=>{t.disabled||a(!i)})})});qP.displayName=aH;var GP=qP;const lH=xa("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),KP=p.forwardRef(({className:t,variant:e,size:n,...r},s)=>u.jsx(GP,{ref:s,className:le(lH({variant:e,size:n,className:t})),...r}));KP.displayName=GP.displayName;var Tw="Dialog",[QP,DG]=ts(Tw),[cH,sr]=QP(Tw),YP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=p.useRef(null),l=p.useRef(null),[c=!1,f]=_r({prop:r,defaultProp:s,onChange:o});return u.jsx(cH,{scope:e,triggerRef:a,contentRef:l,contentId:qn(),titleId:qn(),descriptionId:qn(),open:c,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:n})};YP.displayName=Tw;var XP="DialogTrigger",JP=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(XP,n),o=Ee(e,s.triggerRef);return u.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Iw(s.open),...r,ref:o,onClick:K(t.onClick,s.onOpenToggle)})});JP.displayName=XP;var bw="DialogPortal",[uH,ZP]=QP(bw,{forceMount:void 0}),eN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=sr(bw,e);return u.jsx(uH,{scope:e,forceMount:n,children:p.Children.map(r,i=>u.jsx(sn,{present:n||o.open,children:u.jsx(Fc,{asChild:!0,container:s,children:i})}))})};eN.displayName=bw;var Sf="DialogOverlay",tN=p.forwardRef((t,e)=>{const n=ZP(Sf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=sr(Sf,t.__scopeDialog);return o.modal?u.jsx(sn,{present:r||o.open,children:u.jsx(dH,{...s,ref:e})}):null});tN.displayName=Sf;var dH=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(Sf,n);return u.jsx(Ih,{as:Gs,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(oe.div,{"data-state":Iw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fo="DialogContent",nN=p.forwardRef((t,e)=>{const n=ZP(Fo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=sr(Fo,t.__scopeDialog);return u.jsx(sn,{present:r||o.open,children:o.modal?u.jsx(fH,{...s,ref:e}):u.jsx(hH,{...s,ref:e})})});nN.displayName=Fo;var fH=p.forwardRef((t,e)=>{const n=sr(Fo,t.__scopeDialog),r=p.useRef(null),s=Ee(e,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return pw(o)},[]),u.jsx(rN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:K(t.onFocusOutside,o=>o.preventDefault())})}),hH=p.forwardRef((t,e)=>{const n=sr(Fo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return u.jsx(rN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),rN=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=sr(Fo,n),l=p.useRef(null),c=Ee(e,l);return ow(),u.jsxs(u.Fragment,{children:[u.jsx(xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Lc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Iw(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(pH,{titleId:a.titleId}),u.jsx(gH,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Cw="DialogTitle",sN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(Cw,n);return u.jsx(oe.h2,{id:s.titleId,...r,ref:e})});sN.displayName=Cw;var oN="DialogDescription",iN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(oN,n);return u.jsx(oe.p,{id:s.descriptionId,...r,ref:e})});iN.displayName=oN;var aN="DialogClose",lN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(aN,n);return u.jsx(oe.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>s.onOpenChange(!1))})});lN.displayName=aN;function Iw(t){return t?"open":"closed"}var cN="DialogTitleWarning",[OG,uN]=G$(cN,{contentName:Fo,titleName:Cw,docsSlug:"dialog"}),pH=({titleId:t})=>{const e=uN(cN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mH="DialogDescriptionWarning",gH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uN(mH).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vH=YP,yH=JP,wH=eN,dN=tN,fN=nN,hN=sN,pN=iN,xH=lN;const _H=vH,EH=yH,SH=wH,mN=p.forwardRef(({className:t,...e},n)=>u.jsx(dN,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));mN.displayName=dN.displayName;const TH=xa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gN=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(SH,{children:[u.jsx(mN,{}),u.jsxs(fN,{ref:s,className:le(TH({side:t}),e),...r,children:[u.jsxs(xH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(IR,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));gN.displayName=fN.displayName;const bH=p.forwardRef(({className:t,...e},n)=>u.jsx(hN,{ref:n,className:le("text-lg font-semibold text-foreground",t),...e}));bH.displayName=hN.displayName;const CH=p.forwardRef(({className:t,...e},n)=>u.jsx(pN,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));CH.displayName=pN.displayName;var Rw="Collapsible",[IH,vN]=ts(Rw),[RH,Aw]=IH(Rw),yN=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...a}=t,[l=!1,c]=_r({prop:r,defaultProp:s,onChange:i});return u.jsx(RH,{scope:n,disabled:o,contentId:qn(),open:l,onOpenToggle:p.useCallback(()=>c(f=>!f),[c]),children:u.jsx(oe.div,{"data-state":Nw(l),"data-disabled":o?"":void 0,...a,ref:e})})});yN.displayName=Rw;var wN="CollapsibleTrigger",xN=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Aw(wN,n);return u.jsx(oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Nw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:K(t.onClick,s.onOpenToggle)})});xN.displayName=wN;var Pw="CollapsibleContent",_N=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Aw(Pw,t.__scopeCollapsible);return u.jsx(sn,{present:n||s.open,children:({present:o})=>u.jsx(AH,{...r,ref:e,present:o})})});_N.displayName=Pw;var AH=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=t,i=Aw(Pw,n),[a,l]=p.useState(r),c=p.useRef(null),f=Ee(e,c),h=p.useRef(0),m=h.current,x=p.useRef(0),w=x.current,v=i.open||a,_=p.useRef(v),E=p.useRef();return p.useEffect(()=>{const y=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(y)},[]),ct(()=>{const y=c.current;if(y){E.current=E.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();h.current=b.height,x.current=b.width,_.current||(y.style.transitionDuration=E.current.transitionDuration,y.style.animationName=E.current.animationName),l(r)}},[i.open,r]),u.jsx(oe.div,{"data-state":Nw(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v,...o,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:v&&s})});function Nw(t){return t?"open":"closed"}var PH=yN,NH=xN,kH=_N,ss="Accordion",jH=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[kw,DH,OH]=Mc(ss),[Dh,MG]=ts(ss,[OH,vN]),jw=vN(),EN=We.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,o=r;return u.jsx(kw.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(FH,{...o,ref:e}):u.jsx(VH,{...s,ref:e})})});EN.displayName=ss;var[SN,MH]=Dh(ss),[TN,LH]=Dh(ss,{collapsible:!1}),VH=We.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...i}=t,[a,l]=_r({prop:n,defaultProp:r,onChange:s});return u.jsx(SN,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:We.useCallback(()=>o&&l(""),[o,l]),children:u.jsx(TN,{scope:t.__scopeAccordion,collapsible:o,children:u.jsx(bN,{...i,ref:e})})})}),FH=We.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=t,[i=[],a]=_r({prop:n,defaultProp:r,onChange:s}),l=We.useCallback(f=>a((h=[])=>[...h,f]),[a]),c=We.useCallback(f=>a((h=[])=>h.filter(m=>m!==f)),[a]);return u.jsx(SN,{scope:t.__scopeAccordion,value:i,onItemOpen:l,onItemClose:c,children:u.jsx(TN,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(bN,{...o,ref:e})})})}),[UH,Oh]=Dh(ss),bN=We.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...i}=t,a=We.useRef(null),l=Ee(a,e),c=DH(n),h=Oc(s)==="ltr",m=K(t.onKeyDown,x=>{var T;if(!jH.includes(x.key))return;const w=x.target,v=c().filter(I=>{var P;return!((P=I.ref.current)!=null&&P.disabled)}),_=v.findIndex(I=>I.ref.current===w),E=v.length;if(_===-1)return;x.preventDefault();let y=_;const b=0,N=E-1,O=()=>{y=_+1,y>N&&(y=b)},j=()=>{y=_-1,y<b&&(y=N)};switch(x.key){case"Home":y=b;break;case"End":y=N;break;case"ArrowRight":o==="horizontal"&&(h?O():j());break;case"ArrowDown":o==="vertical"&&O();break;case"ArrowLeft":o==="horizontal"&&(h?j():O());break;case"ArrowUp":o==="vertical"&&j();break}const C=y%E;(T=v[C].ref.current)==null||T.focus()});return u.jsx(UH,{scope:n,disabled:r,direction:s,orientation:o,children:u.jsx(kw.Slot,{scope:n,children:u.jsx(oe.div,{...i,"data-orientation":o,ref:l,onKeyDown:r?void 0:m})})})}),Tf="AccordionItem",[$H,Dw]=Dh(Tf),CN=We.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,o=Oh(Tf,n),i=MH(Tf,n),a=jw(n),l=qn(),c=r&&i.value.includes(r)||!1,f=o.disabled||t.disabled;return u.jsx($H,{scope:n,open:c,disabled:f,triggerId:l,children:u.jsx(PH,{"data-orientation":o.orientation,"data-state":kN(c),...a,...s,ref:e,disabled:f,open:c,onOpenChange:h=>{h?i.onItemOpen(r):i.onItemClose(r)}})})});CN.displayName=Tf;var IN="AccordionHeader",RN=We.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Oh(ss,n),o=Dw(IN,n);return u.jsx(oe.h3,{"data-orientation":s.orientation,"data-state":kN(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});RN.displayName=IN;var Qg="AccordionTrigger",AN=We.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Oh(ss,n),o=Dw(Qg,n),i=LH(Qg,n),a=jw(n);return u.jsx(kw.ItemSlot,{scope:n,children:u.jsx(NH,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...a,...r,ref:e})})});AN.displayName=Qg;var PN="AccordionContent",NN=We.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Oh(ss,n),o=Dw(PN,n),i=jw(n);return u.jsx(kH,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});NN.displayName=PN;function kN(t){return t?"open":"closed"}var BH=EN,zH=CN,WH=RN,jN=AN,DN=NN;const HH=BH,Yg=p.forwardRef(({className:t,...e},n)=>u.jsx(zH,{ref:n,className:le("border-b",t),...e}));Yg.displayName="AccordionItem";const Xg=p.forwardRef(({className:t,children:e,...n},r)=>u.jsx(WH,{className:"flex",children:u.jsxs(jN,{ref:r,className:le("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(CR,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));Xg.displayName=jN.displayName;const Jg=p.forwardRef(({className:t,children:e,...n},r)=>u.jsx(DN,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:le("pb-4 pt-0",t),children:e})}));Jg.displayName=DN.displayName;function qH(){const{user:t,toggleMode:e,mode:n}=ke(),[r,s]=p.useState([]),{getWatchList:o}=ei();p.useEffect(()=>{(async()=>{const{movies:l,tvShows:c}=await o(t&&t.uid);s([...l,...c])})()},[t,r]);const i=async()=>{await S7().then(()=>{console.log("Logged out")})};return u.jsx("header",{className:`sticky top-0 z-50 w-full bg-opacity-10 backdrop-blur-md bg-secondary border-b border-foreground ${n}`,children:u.jsxs("div",{className:"container mx-auto flex h-16 max-w-6xl items-center justify-between px-4 md:px-6 backdrop-blur-md",children:[u.jsxs(_e,{to:"/",className:"flex items-center gap-2",children:[u.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2503/2503508.png",className:"h-10 w-10"}),u.jsx("span",{className:"sm:text-xl font-bold text-secondary-foreground font-[poppins]",children:"FILM GUILD"})]}),u.jsxs("nav",{className:"hidden items-center gap-6 text-sm font-medium md:flex",children:[u.jsx(_e,{to:"/",className:"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Home"}),u.jsxs(rm,{children:[u.jsx(sm,{asChild:!0,children:u.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:["Movies",u.jsx(bE,{className:"h-4 w-4"})]})}),u.jsxs(gd,{className:"p-4 flex flex-col gap-1",children:[u.jsx(_e,{to:"/movies",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"All movies"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/top-rated-movies",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Top rated movies"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/animation",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Animation movies"})]})]}),u.jsxs(rm,{children:[u.jsx(sm,{asChild:!0,children:u.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:["Tv shows",u.jsx(bE,{className:"h-4 w-4"})]})}),u.jsxs(gd,{className:"p-4 flex flex-col gap-1",children:[u.jsx(_e,{to:"/tvseries",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"All Tv shows"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/top-rated-tv-shows",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Top rated series"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/mini-series",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Mini series"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(rm,{children:[u.jsx(sm,{asChild:!0,children:u.jsx(dU,{className:"cursor-pointer h-5 w-5 m-2 text-gray-500 dark:text-gray-400"})}),u.jsx(gd,{className:"p-4",children:t?u.jsxs("div",{className:"grid gap-4",children:[u.jsx(_e,{to:"/profile",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Profile"}),u.jsxs("button",{onClick:()=>i(),className:"flex gap-2 items-center text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:[u.jsx(tU,{className:"w-4 h-4"}),"Logout"]})]}):u.jsxs("div",{className:"grid gap-4",children:[u.jsx(_e,{to:"/login",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Login"}),u.jsx(_e,{to:"/signup",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Sign Up"})]})})]}),u.jsxs(_e,{to:"/watchlist",className:"text-sm relative font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:[u.jsx(cU,{className:"w-5 h-5"}),u.jsx("span",{className:"absolute bg-red-500 font-[poppins] h-4 w-4 -top-2 rounded-full flex items-center justify-center -right-2 text-xs text-white",children:r.length})]}),u.jsx(KP,{"aria-label":"Toggle mode",className:"rounded-full bg-background",onClick:()=>e(),children:n==="dark"?u.jsx(aU,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):u.jsx(sU,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),u.jsxs(_H,{children:[u.jsx(EH,{asChild:!0,children:u.jsxs(Je,{variant:"ghost",size:"icon",className:"rounded-full md:hidden ",children:[u.jsx(rU,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"}),u.jsx("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),u.jsx(gN,{side:"left",className:`md:hidden bg-background ${n}`,children:u.jsxs("div",{className:"grid gap-4 p-4",children:[u.jsx(_e,{to:"/",className:"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:u.jsx("button",{children:"Home"})}),u.jsxs(HH,{type:"single",collapsible:!0,children:[u.jsxs(Yg,{value:"movies",children:[u.jsx(Xg,{className:"flex items-center gap-1 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Movies"}),u.jsxs(Jg,{className:"p-4 flex flex-col gap-1",children:[u.jsx(_e,{to:"/movies",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"All movies"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/top-rated-movies",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Top rated movies"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/animation",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Animation movies"})]})]}),u.jsxs(Yg,{value:"tvseries",children:[u.jsx(Xg,{className:"flex items-center gap-1 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Tv shows"}),u.jsxs(Jg,{className:"p-4 flex flex-col gap-1",children:[u.jsx(_e,{to:"/tvseries",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"All Tv shows"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/top-rated-tv-shows",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Top rated series"}),u.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),u.jsx(_e,{to:"/mini-series",className:"text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",children:"Mini series"})]})]})]})]})})]})]})]})})}const GH=()=>{const{mode:t}=ke();return u.jsx("div",{children:u.jsxs("footer",{className:` ${t}   border-foreground flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t bg-secondary`,children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"© 2024 Film Guild. All rights reserved."}),u.jsx("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:u.jsx(_e,{className:"text-xs hover:underline underline-offset-4 text-gray-500 dark:text-gray-400",to:"privacy-policy",children:"Terms of Service"})})]})})},zc=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("rounded-xl border bg-card text-card-foreground shadow",t),...e}));zc.displayName="Card";const Wc=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));Wc.displayName="CardHeader";const Hc=p.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:le("font-semibold leading-none tracking-tight",t),...e}));Hc.displayName="CardTitle";const qc=p.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));qc.displayName="CardDescription";const Gc=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));Gc.displayName="CardContent";const ON=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));ON.displayName="CardFooter";const KH=p.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:le("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));KH.displayName="Textarea";const QH=xa("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bf({className:t,variant:e,...n}){return u.jsx("div",{className:le(QH({variant:e}),t),...n})}var Ow="Avatar",[YH,LG]=ts(Ow),[XH,MN]=YH(Ow),LN=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=p.useState("idle");return u.jsx(XH,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:u.jsx(oe.span,{...r,ref:e})})});LN.displayName=Ow;var VN="AvatarImage",FN=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,i=MN(VN,n),a=JH(r,o.referrerPolicy),l=Ke(c=>{s(c),i.onImageLoadingStatusChange(c)});return ct(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(oe.img,{...o,ref:e,src:r}):null});FN.displayName=VN;var UN="AvatarFallback",$N=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=MN(UN,n),[i,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?u.jsx(oe.span,{...s,ref:e}):null});$N.displayName=UN;function JH(t,e){const[n,r]=p.useState("idle");return ct(()=>{if(!t){r("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&r(a)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var BN=LN,zN=FN,WN=$N;const HN=p.forwardRef(({className:t,...e},n)=>u.jsx(BN,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));HN.displayName=BN.displayName;const qN=p.forwardRef(({className:t,...e},n)=>u.jsx(zN,{ref:n,className:le("aspect-square h-full w-full",t),...e}));qN.displayName=zN.displayName;const GN=p.forwardRef(({className:t,...e},n)=>u.jsx(WN,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));GN.displayName=WN.displayName;const ZH=1,eq=1e6;let om=0;function tq(){return om=(om+1)%Number.MAX_SAFE_INTEGER,om.toString()}const im=new Map,lS=t=>{if(im.has(t))return;const e=setTimeout(()=>{im.delete(t),kl({type:"REMOVE_TOAST",toastId:t})},eq);im.set(t,e)},nq=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ZH)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?lS(n):t.toasts.forEach(r=>{lS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vd=[];let yd={toasts:[]};function kl(t){yd=nq(yd,t),vd.forEach(e=>{e(yd)})}function rq({...t}){const e=tq(),n=s=>kl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>kl({type:"DISMISS_TOAST",toastId:e});return kl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ra(){const[t,e]=p.useState(yd);return p.useEffect(()=>(vd.push(e),()=>{const n=vd.indexOf(e);n>-1&&vd.splice(n,1)}),[t]),{...t,toast:rq,dismiss:n=>kl({type:"DISMISS_TOAST",toastId:n})}}var Mw="ToastProvider",[Lw,sq,oq]=Mc("Toast"),[KN,VG]=ts("Toast",[oq]),[iq,Mh]=KN(Mw),QN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=p.useState(null),[c,f]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mw}\`. Expected non-empty \`string\`.`),u.jsx(Lw.Provider,{scope:e,children:u.jsx(iq,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>f(x=>x+1),[]),onToastRemove:p.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};QN.displayName=Mw;var YN="ToastViewport",aq=["F8"],Zg="toast.viewportPause",ev="toast.viewportResume",XN=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=aq,label:s="Notifications ({hotkey})",...o}=t,i=Mh(YN,n),a=sq(n),l=p.useRef(null),c=p.useRef(null),f=p.useRef(null),h=p.useRef(null),m=Ee(e,h,i.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;p.useEffect(()=>{const _=E=>{var b;r.length!==0&&r.every(N=>E[N]||E.code===N)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=l.current,E=h.current;if(w&&_&&E){const y=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(Zg);E.dispatchEvent(j),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(ev);E.dispatchEvent(j),i.isClosePausedRef.current=!1}},N=j=>{!_.contains(j.relatedTarget)&&b()},O=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",y),_.addEventListener("focusout",N),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",N),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,i.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:_})=>{const y=a().map(b=>{const N=b.ref.current,O=[N,...xq(N)];return _==="forwards"?O:O.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return p.useEffect(()=>{const _=h.current;if(_){const E=y=>{var O,j,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const T=document.activeElement,I=y.shiftKey;if(y.target===_&&I){(O=c.current)==null||O.focus();return}const D=v({tabbingDirection:I?"backwards":"forwards"}),k=D.findIndex(B=>B===T);am(D.slice(k+1))?y.preventDefault():I?(j=c.current)==null||j.focus():(C=f.current)==null||C.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[a,v]),u.jsxs(VB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx(tv,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});am(_)}}),u.jsx(Lw.Slot,{scope:n,children:u.jsx(oe.ol,{tabIndex:-1,...o,ref:m})}),w&&u.jsx(tv,{ref:f,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});am(_)}})]})});XN.displayName=YN;var JN="ToastFocusProxy",tv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Mh(JN,n);return u.jsx(bh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});tv.displayName=JN;var Lh="Toast",lq="toast.swipeStart",cq="toast.swipeMove",uq="toast.swipeCancel",dq="toast.swipeEnd",ZN=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a=!0,l]=_r({prop:r,defaultProp:s,onChange:o});return u.jsx(sn,{present:n||a,children:u.jsx(pq,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Ke(t.onPause),onResume:Ke(t.onResume),onSwipeStart:K(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:K(t.onSwipeMove,c=>{const{x:f,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:K(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:K(t.onSwipeEnd,c=>{const{x:f,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});ZN.displayName=Lh;var[fq,hq]=KN(Lh,{onClose(){}}),pq=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:x,...w}=t,v=Mh(Lh,n),[_,E]=p.useState(null),y=Ee(e,B=>E(B)),b=p.useRef(null),N=p.useRef(null),O=s||v.duration,j=p.useRef(0),C=p.useRef(O),T=p.useRef(0),{onToastAdd:I,onToastRemove:P}=v,R=Ke(()=>{var te;(_==null?void 0:_.contains(document.activeElement))&&((te=v.viewport)==null||te.focus()),i()}),D=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(T.current),j.current=new Date().getTime(),T.current=window.setTimeout(R,B))},[R]);p.useEffect(()=>{const B=v.viewport;if(B){const te=()=>{D(C.current),c==null||c()},Y=()=>{const ne=new Date().getTime()-j.current;C.current=C.current-ne,window.clearTimeout(T.current),l==null||l()};return B.addEventListener(Zg,Y),B.addEventListener(ev,te),()=>{B.removeEventListener(Zg,Y),B.removeEventListener(ev,te)}}},[v.viewport,O,l,c,D]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&D(O)},[o,O,v.isClosePausedRef,D]),p.useEffect(()=>(I(),()=>P()),[I,P]);const k=p.useMemo(()=>_?ik(_):null,[_]);return v.viewport?u.jsxs(u.Fragment,{children:[k&&u.jsx(mq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),u.jsx(fq,{scope:n,onClose:R,children:zo.createPortal(u.jsx(Lw.ItemSlot,{scope:n,children:u.jsx(LB,{asChild:!0,onEscapeKeyDown:K(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:K(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:K(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:K(t.onPointerMove,B=>{if(!b.current)return;const te=B.clientX-b.current.x,Y=B.clientY-b.current.y,ne=!!N.current,L=["left","right"].includes(v.swipeDirection),F=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=L?F(0,te):0,J=L?0:F(0,Y),ie=B.pointerType==="touch"?10:2,ve={x:G,y:J},Ce={originalEvent:B,delta:ve};ne?(N.current=ve,Bu(cq,h,Ce,{discrete:!1})):cS(ve,v.swipeDirection,ie)?(N.current=ve,Bu(lq,f,Ce,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(te)>ie||Math.abs(Y)>ie)&&(b.current=null)}),onPointerUp:K(t.onPointerUp,B=>{const te=N.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),N.current=null,b.current=null,te){const ne=B.currentTarget,L={originalEvent:B,delta:te};cS(te,v.swipeDirection,v.swipeThreshold)?Bu(dq,x,L,{discrete:!0}):Bu(uq,m,L,{discrete:!0}),ne.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),mq=t=>{const{__scopeToast:e,children:n,...r}=t,s=Mh(Lh,e),[o,i]=p.useState(!1),[a,l]=p.useState(!1);return yq(()=>i(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Fc,{asChild:!0,children:u.jsx(bh,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},gq="ToastTitle",ek=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(oe.div,{...r,ref:e})});ek.displayName=gq;var vq="ToastDescription",tk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(oe.div,{...r,ref:e})});tk.displayName=vq;var nk="ToastAction",rk=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(ok,{altText:n,asChild:!0,children:u.jsx(Vw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nk}\`. Expected non-empty \`string\`.`),null)});rk.displayName=nk;var sk="ToastClose",Vw=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hq(sk,n);return u.jsx(ok,{asChild:!0,children:u.jsx(oe.button,{type:"button",...r,ref:e,onClick:K(t.onClick,s.onClose)})})});Vw.displayName=sk;var ok=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ik(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wq(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...ik(r))}}),e}function Bu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ew(s,o):s.dispatchEvent(o)}var cS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function yq(t=()=>{}){const e=Ke(t);ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wq(t){return t.nodeType===t.ELEMENT_NODE}function xq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function am(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _q=QN,ak=XN,lk=ZN,ck=ek,uk=tk,dk=rk,fk=Vw;const Eq=_q,hk=p.forwardRef(({className:t,...e},n)=>u.jsx(ak,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hk.displayName=ak.displayName;const Sq=xa("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pk=p.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(lk,{ref:r,className:le(Sq({variant:e}),t),...n}));pk.displayName=lk.displayName;const ho=p.forwardRef(({className:t,...e},n)=>u.jsx(dk,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ho.displayName=dk.displayName;const mk=p.forwardRef(({className:t,...e},n)=>u.jsx(fk,{ref:n,className:le("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(IR,{className:"h-4 w-4"})}));mk.displayName=fk.displayName;const gk=p.forwardRef(({className:t,...e},n)=>u.jsx(ck,{ref:n,className:le("text-sm font-semibold [&+div]:text-xs",t),...e}));gk.displayName=ck.displayName;const vk=p.forwardRef(({className:t,...e},n)=>u.jsx(uk,{ref:n,className:le("text-sm opacity-90",t),...e}));vk.displayName=uk.displayName;const Tq=()=>{const{user:t}=ke(),{toast:e}=Ra(),[n,r]=p.useState(),[s,o]=p.useState(),[i,a]=p.useState(),[l,c]=p.useState(!1);p.useState(),p.useEffect(()=>{r(t==null?void 0:t.displayName),o(t==null?void 0:t.email)},[t]);const f=async()=>{if(n===""||s===""||i==="")return e({title:"Error while updating user",description:"Please fill in all the fields",status:"error",duration:5e3,isClosable:!0});n!==t.displayName&&await b7(n).then(()=>(c(!1),e({title:"Display name changed ",description:"Your display name has been changed successfully",action:u.jsx(ho,{altText:"Goto schedule to undo",children:"Undo"})}))),s!==t.email&&await C7(s).then(()=>(c(!1),e({title:"Email changed ",description:"Your display name has been changed successfully",action:u.jsx(ho,{altText:"Goto schedule to undo",children:"Undo"})}))).catch(x=>(c(!1),e({title:"Error while Email changing ",description:x.message,action:u.jsx(ho,{altText:"Goto schedule to undo",children:"Undo"})}))),i!==t.password&&await I7(i).then(()=>(c(!1),e({title:"Password  changed ",description:"Your password has been changed successfully",action:u.jsx(ho,{altText:"Goto schedule to undo",children:"Undo"})}))).catch(x=>(c(!1),e({title:"Error while Passowrd changing ",description:x.message,action:u.jsx(ho,{altText:"Goto schedule to undo",children:"Undo"})})))},{mode:h}=ke(),m=async()=>{await R7().then(()=>{e({title:"Verification email sent",description:"A verification email has been sent to your email address",duration:5e3,action:u.jsx(ho,{altText:"Goto schedule to undo",children:"Undo"})})})};return u.jsx("div",{children:t===null?u.jsx(cO,{to:"/login"}):u.jsx("div",{className:` mx-auto py-10 bg-background ${h}`,children:u.jsxs(zc,{className:"max-w-2xl mx-auto bg-background shadow-lg",children:[u.jsxs(Wc,{children:[u.jsx(Hc,{children:"User user"}),u.jsx(qc,{children:"View and edit your user information"})]}),u.jsx(Gc,{children:u.jsx("div",{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs(HN,{className:"w-24 h-24",children:[u.jsx(qN,{src:t==null?void 0:t.photoURL,alt:t.displayName}),u.jsx(GN,{children:t==null?void 0:t.displayName})]}),l&&u.jsxs("div",{children:[u.jsx($n,{htmlFor:"avatar",className:"cursor-pointer text-sm font-medium text-blue-600 hover:text-blue-500",children:"Change Avatar"}),u.jsx(pt,{id:"avatar",type:"file",accept:"image/*",className:"sr-only"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"name",children:"Name"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(fU,{className:"text-gray-500",size:20}),u.jsx(pt,{id:"name",name:"name",value:n,onChange:x=>r(x.target.value),readOnly:!l})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(nU,{className:"text-gray-500",size:20}),u.jsx(pt,{id:"email",name:"email",type:"email",value:s,onChange:x=>o(x.target.value),readOnly:!l})]})]}),u.jsxs("div",{children:[u.jsxs("div",{children:["Email verified : ",t.emailVerified?u.jsx(bf,{className:"bg-green-500",children:"Yes"}):u.jsx(bf,{className:"bg-red-500",children:"No"})]}),t.emailVerified?null:u.jsxs(Je,{variant:"ghost",className:"border mt-3",onClick:m,children:["Send verification email ",u.jsx(oU,{})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"email",children:"Password"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(J6,{className:"text-gray-500",size:20}),u.jsx(pt,{id:"password",name:"password",type:"password",onChange:x=>a(x.target.value),readOnly:!l})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"occupation",children:"Created at"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(iU,{className:"text-gray-500",size:20}),u.jsx("span",{children:t.metadata.creationTime})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx($n,{htmlFor:"location",children:"Last login"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(eU,{className:"text-gray-500",size:20}),u.jsx("span",{children:t.metadata.lastSignInTime})]})]})]})})}),u.jsx(ON,{className:"flex justify-between",children:l?u.jsxs(u.Fragment,{children:[u.jsx(Je,{onClick:f,children:"Save Changes"}),u.jsx(Je,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]}):u.jsx(Je,{onClick:()=>c(!0),children:"Edit user"})})]})})})},yk=({cast:t})=>t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Cast"}),u.jsxs(ns,{className:"w-full h-full whitespace-nowrap rounded-md  ",children:[u.jsx("div",{className:"flex  h-full space-x-4 p-4",children:t.map(e=>u.jsxs(_e,{to:`/actor/${e.id}`,className:"flex flex-col items-center",children:[u.jsx("img",{src:`https://image.tmdb.org/t/p/original${e.profile_path}`,alt:e.name,height:150,width:150,className:"w-32 h-32 object-cover rounded mb-2"}),u.jsx("p",{className:"text-center text-sm font-semibold",children:e.name}),u.jsx("p",{className:"text-center text-xs text-muted-foreground",children:e.character})]},e.id))}),u.jsx(rs,{orientation:"horizontal"})]})]}),wk=({trailers:t})=>u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("h2",{className:"text-2xl font-bold mx-4 text-left",children:"Trailers"}),!t.length&&u.jsx("p",{className:"text-center text-foreground mt-5",children:"No trailers found"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 p-4",children:t&&t.map(e=>u.jsxs("div",{className:"bg-white rounded dark:bg-gray-900 text-gray-900 dark:text-white shadow-lg",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:`https://img.youtube.com/vi/${e.key}/hqdefault.jpg`,alt:e.name,className:"w-full h-52 object-cover rounded-t-md"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("button",{className:" ",children:u.jsx("a",{href:`https://www.youtube.com/watch?v=${e.key}`,target:"_blank",rel:"noreferrer",className:"text-sm",children:u.jsx(X6,{className:" text-red-500",size:40})})})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:e.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 line-clamp-3",children:e.type})]})]},e.id))})]});function bq(){const{id:t}=Wo(),[e,n]=p.useState(null),[r,s]=p.useState([]),[o,i]=p.useState([]),{getMovieById:a,getMovieCast:l,getMovieTrailers:c,addToWatchlist:f}=Gt(),{mode:h}=ke(),{toast:m}=Ra(),{addToWatchList:x,checkIfInWatchList:w}=ei(),{user:v}=ke(),[_,E]=p.useState(!1),[y,b]=p.useState(!1);p.useEffect(()=>{(async()=>{const j=await a(t);n(j)})()},[a,t]),p.useEffect(()=>{(async()=>{const j=await l(t),C=await c(t);i(C),s(j);const T=await w(v.uid&&v.uid,t,"movies");E(T)})()},[l,c,t,_]),p.useEffect(()=>{(async()=>{const j=await w(v.uid&&v.uid,t,"movies");console.log(j),E(j)})()},[_,y]);const N=async()=>{if(!v)return m({title:"Login",description:`Login first to add ${(e==null?void 0:e.title)||"this movie"} to watch list`,variant:"destructive"});const O={id:e.id,added_at:Date.now()};return await x(v&&v.uid,"movies",O.id,O),m({title:"Added to Watchlist",description:`${e.title} has been added to your watchlist.`})};return e?u.jsxs("div",{className:`${h} min-h-screen bg-background text-foreground`,children:[u.jsxs("div",{className:"relative h-[50vh] w-full",children:[u.jsx("img",{src:`https://image.tmdb.org/t/p/original${e.backdrop_path}`,alt:e.title,className:"w-full h-full object-cover brightness-50"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent"})]}),u.jsxs("div",{className:"container mx-auto px-4 py-8 -mt-32 relative z-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("img",{src:`https://image.tmdb.org/t/p/original${e.poster_path}`,alt:e.title,width:300,height:450,className:"rounded-lg shadow-lg"})}),u.jsxs("div",{className:"flex-grow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"sm:text-4xl text-2xl font-bold",children:e.title}),v&&_?u.jsxs(Je,{className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[u.jsx(Ky,{className:"mr-2 h-4 w-4"})," Already in watch list"]}):u.jsxs(Je,{onClick:O=>{N(),setTimeout(()=>b(!0),1e3)},className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[u.jsx(VI,{className:"mr-2 h-4 w-4"})," Add to Watchlist"]})]}),u.jsx("p",{className:"sm:text-xl  text-muted-foreground mb-4",children:e.original_title}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(IB,{className:"w-5 h-5 text-yellow-400 mr-1"}),u.jsx("span",{children:e.vote_average.toFixed(1)})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Q6,{className:"w-5 h-5 mr-1"}),u.jsx("span",{children:e.release_date})]})]}),u.jsx("div",{className:"mb-4",children:e.genres.map(O=>u.jsx("span",{className:"font-[poppins] inline-block bg-primary text-primary-foreground rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2",children:O.name||"Unknown"},O.id))}),u.jsx("p",{className:"text-lg mb-6 font-[poppins]",children:e.overview}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Original Language"}),u.jsx("p",{children:e.original_language.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Origin Country"}),e.production_countries.length>0&&u.jsx("img",{src:`https://flagcdn.com/w320/${e.production_countries[0].iso_3166_1.toLowerCase()}.png`,width:40,alt:e.production_countries[0].name})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Vote Count"}),u.jsx("p",{children:e.vote_count})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Adult"}),u.jsx("p",{children:e.adult?"Yes":"No"})]})]})]})]}),u.jsx("div",{className:"w-full mt-7",children:u.jsx(_e,{to:`/movie/watch/${e.id}`,children:u.jsx("button",{className:"w-full border-foreground bg-gradient-to-r from-purple-700 via-pink-500 to-red-500 text-primary-foreground hover:bg-gradient-to-r hover:from-purple-500 hover:via-pink-600 hover:to-red-600 text-white rounded py-2",children:"Watch now"})})})]}),u.jsx(wk,{trailers:o}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(yk,{cast:r})})]}):u.jsx("div",{className:"flex justify-center min-h-screen w-full items-center bg-background",children:u.jsx(Ea,{className:"animate-spin text-foreground "})})}const Cq=()=>{const{id:t}=Wo(),[e,n]=p.useState(),{getTvById:r,getTvCast:s,getTvTrailers:o}=Gt(),[i,a]=p.useState([]),[l,c]=p.useState([]),{toast:f}=Ra(),{user:h}=ke(),{addToWatchList:m,checkIfInWatchList:x}=ei(),[w,v]=p.useState(!1),[_,E]=p.useState(!1);p.useEffect(()=>{(async()=>{const O=await r(t);n(O);const j=await s(t);a(j);const C=await o(t);c(C)})()},[r,t]),p.useEffect(()=>{(async()=>{const O=await x(h.uid&&h.uid,t,"tvshows");console.log(O),v(O)})()},[w,_]);const y=async()=>{if(!h)return f({title:"Login",description:`Login first to add ${(e==null?void 0:e.name)||"this movie"} to watch list`,variant:"destructive"});const N={id:e.id,added_at:Date.now(),type:"tvshow"};return await m(h.uid,"tvshows",N.id,N),console.log(),f({title:"Added to Watchlist",description:`${e.name} has been added to your watchlist.`})},{mode:b}=ke();return u.jsxs(u.Fragment,{children:[!e&&u.jsxs("p",{className:"h-screen flex justify-center items-center w-full border rounded-md flex-col",children:[u.jsx(Ea,{className:"animate-spin"}),"Fetching..."]}),e&&u.jsxs("div",{className:`${b} min-h-screen bg-background text-foreground`,children:[u.jsxs("div",{className:"relative h-[50vh] w-full ",children:[u.jsx("img",{src:`https://image.tmdb.org/t/p/original${e.backdrop_path}`,alt:e.title,className:"w-full h-full object-cover brightness-50"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent"})]}),u.jsxs("div",{className:"container mx-auto px-4 py-8 -mt-32 relative z-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,width:300,height:450,className:"rounded-lg shadow-lg"})}),u.jsxs("div",{className:"flex-grow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-4xl font-bold",children:e.name}),h&&w?u.jsxs(Je,{className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[u.jsx(Ky,{className:"mr-2 h-4 w-4"})," Already in Watchlist"]}):u.jsxs(Je,{onClick:N=>{y(),setTimeout(()=>E(!0),1e3)},className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[u.jsx(VI,{className:"mr-2 h-4 w-4"})," Add to Watchlist"]})]}),u.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:e.original_name}),u.jsx("div",{className:"mb-4",children:e.genres.map(N=>u.jsx("span",{className:"font-[poppins] inline-block bg-primary text-primary-foreground rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2",children:N.name||"Unknown"},N.id))}),u.jsx("p",{className:"text-lg mb-6 font-[poppins]",children:e.overview}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Original Language"}),u.jsx("p",{children:e.original_language.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Origin Country"}),e.production_countries.length>0&&u.jsx("img",{src:`https://flagcdn.com/w320/${e.production_countries[0].iso_3166_1.toLowerCase()}.png`,width:40,alt:e.production_countries[0].name})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Vote Count"}),u.jsx("p",{children:e.vote_count})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Adult"}),u.jsx("p",{children:e.adult?"Yes":"No"})]})]})]})]}),u.jsx("div",{className:"w-full mt-7",children:u.jsx(_e,{to:`/tv/watch/${e.id}/1/1`,children:u.jsx("button",{className:"w-full border-foreground bg-gradient-to-r from-purple-700 via-pink-500 to-red-500 text-primary-foreground hover:bg-gradient-to-r hover:from-purple-500 hover:via-pink-600 hover:to-red-600 text-white rounded py-2",children:"Watch now"})})})]}),u.jsx(wk,{trailers:l}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(yk,{cast:i})})]})]})},Yr=({movie:t,watchlist:e})=>{const{addToWatchList:n,removeFromWatchList:r}=ei(),{user:s}=ke(),{toast:o}=Ra(),i=async c=>{const f={id:c.id,added_at:Date.now()};return await n(s&&s.uid,"movies",f.id,f),o({title:"Added to Watchlist",description:`${c.title} has been added to your watchlist.`})},a=async c=>(await r(s&&s.uid,"movies",c.id.toString()),o({title:"Removed ",description:`${c.title} has been from watchlist.`})),{mode:l}=ke();return u.jsx("div",{className:l,children:u.jsxs(zc,{className:"flex flex-col bg-secondary text-foreground p-0",children:[u.jsxs(Wc,{children:[u.jsxs(Hc,{className:"text-lg font-bold flex justify-between items-center",children:[u.jsx(_e,{to:`/${t.media_type||"movie"}/${t.id}`,children:t.title||t.name},t.id),!e&&u.jsx("button",{onClick:()=>i(t),className:"bg-foreground z-50 text-background rounded-full p-1 ml-4",title:"Add to Watchlist",children:u.jsx(UI,{className:"h-6 w-6"})})]}),u.jsxs(qc,{children:["Released: ",new Date(t.release_date||t.first_air_date).toLocaleDateString()]})]}),u.jsxs(Gc,{className:"flex-grow",children:[u.jsx("div",{className:"relative mb-2",children:u.jsx("img",{src:`https://image.tmdb.org/t/p/original${t.poster_path}`,alt:`${t.title} poster`,className:"object-cover rounded-md w-full h-full"})}),u.jsx(bf,{className:"mb-2 bg-yellow-400 text-black",children:t.vote_average&&(t.vote_average/2).toFixed(2)}),u.jsxs(ns,{className:"h-24",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:t.overview}),u.jsx(rs,{orientation:"vertical",className:"rounded",size:1})]}),e&&u.jsx(Je,{onClick:()=>a(t),variant:"destructive",className:"mt-2",children:"Remove from Watchlist"})]})]})})},Kc=({movie:t,watchlist:e})=>{const{addToWatchList:n,removeFromWatchList:r}=ei(),{user:s}=ke(),{toast:o}=Ra(),i=async c=>{const f={id:c.id,added_at:Date.now()};return await n(s&&s.uid,"tvshows",f.id,f),o({title:"Added to Watchlist",description:`${c.name} has been added to your watchlist.`})},a=async c=>(await r(s&&s.uid,"tvshows",c.id.toString()),o({title:"Removed ",description:`${c.name} has been from watchlist.`})),{mode:l}=ke();return u.jsx("div",{className:l,children:u.jsxs(zc,{className:"flex flex-col bg-secondary text-foreground",children:[u.jsxs(Wc,{children:[u.jsxs(Hc,{className:"text-lg font-bold flex justify-between items-center",children:[u.jsx(_e,{to:`/${t.media_type||"tv"}/${t.id}`,children:t.title||t.name},t.id),!e&&u.jsx("button",{onClick:()=>i(t),className:"bg-foreground z-50 text-background rounded-full p-1 ml-4",title:"Add to Watchlist",children:u.jsx(UI,{className:"h-6 w-6"})})]}),u.jsxs(qc,{children:["Released: ",new Date(t.release_date||t.first_air_date).toLocaleDateString()]})]}),u.jsxs(Gc,{className:"flex-grow",children:[u.jsx("div",{className:"aspect-[2/3] relative mb-4",children:u.jsx("img",{src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:`${t.title} poster`,className:"object-cover rounded-md w-full h-full"})}),u.jsx(bf,{className:"mb-2 bg-yellow-400 text-black",children:t.vote_average&&t.vote_average.toFixed(2)/2}),u.jsxs(ns,{className:"h-24",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:t.overview}),u.jsx(rs,{orientation:"vertical",className:"bg-background rounded ",size:1})]}),e&&u.jsx(Je,{onClick:()=>a(t),variant:"destructive",className:"mt-2",children:"Remove from Watchlist"})]})]})})},Iq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),{getWorksOfActor:s,getActorNameById:o}=Gt(),[i,a]=p.useState(""),[l,c]=p.useState(""),{id:f}=Wo(),[h,m]=p.useState([]),[x,w]=p.useState(!1);p.useEffect(()=>{r(!0),(async()=>{const E=await s(f),y=await o(f);a(y),e(E.movies),m(E.tvShows),r(!1)})()},[f,x]);const{mode:v}=ke();return p.useEffect(()=>{e(t.filter(_=>_.title.toString().toLowerCase().includes(l.toLowerCase())))},[l]),u.jsxs("div",{className:v,children:[n&&u.jsx("div",{className:"flex justify-center min-h-screen w-full items-center bg-background",children:u.jsx(Ea,{className:"animate-spin text-foreground"})}),!t.length&&u.jsx("div",{className:"flex justify-center min-h-screen w-full items-center bg-background",children:u.jsx("p",{className:"text-foreground",children:"No Movies Found"})}),!n&&u.jsxs("div",{className:" px-6 bg-background  mx-auto py-10",children:[u.jsxs("div",{className:"sm:flex justify-evenly",children:[t.length&&i&&u.jsxs("h1",{className:"text-4xl font-bold mb-8 text-center text-foreground underline",children:[i,"'s Movies"]}),u.jsxs("div",{className:"relative bg-background h-fit sm:w-1/3 max-sm:my-2",children:[u.jsx(Er,{className:"cursor-pointer absolute left-2.5 top-2.5 h-4 w-4 text-gray-500 dark:text-gray-400"}),u.jsx(pt,{value:l,type:"search",onChange:_=>c(_.target.value),placeholder:"Search...",className:"pl-8 w-full bg-background text-foreground"}),l&&u.jsx("span",{onClick:()=>{c(""),w(!0)},className:"text-foreground cursor-pointer float-end",children:"Clear Search"})]})]}),u.jsx("h1",{className:"text-foreground my-3 text-2xl font-bold font-poppins underline",children:"Movies"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t&&t.map(_=>u.jsx(Yr,{movie:_},_.id))}),u.jsx("hr",{className:"my-8 border-t-2 border-foreground"}),u.jsx("h1",{className:"text-foreground my-3 text-2xl font-bold font-poppins underline",children:"Tv Shows"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length&&h.map(_=>u.jsx(Kc,{movie:_},_.id))}),u.jsx(Je,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-7 right-7 bg-primary text-white p-3 rounded-full shadow-lg",children:u.jsx(K6,{size:30})})]})]})},Rq=()=>{const{query:t}=Wo(),[e,n]=p.useState(t.replace("query=","")||""),[r,s]=p.useState([]),[o,i]=p.useState(!1),{getSearchResults:a,getTrendingMovies:l}=Gt(),[c,f]=p.useState([]),{mode:h}=ke();return p.useEffect(()=>{i(!0),(async()=>{const x=await a(e),w=await l();f(w),console.log(x),s(x),i(!1)})()},[e,t]),u.jsx("div",{className:h,children:u.jsxs("div",{className:"px-8 bg-background mx-auto text-foreground py-8",children:[u.jsx("h1",{className:"text-3xl  font-bold mb-6",children:"TMDB Movie Search"}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx(pt,{type:"text",placeholder:"Search for a movie...",value:e,onChange:m=>n(m.target.value),className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),o&&u.jsx("div",{className:"flex justify-center min-h-screen w-full items-center bg-background",children:u.jsx(Ea,{className:"animate-spin text-foreground"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[!r.length&&c.map(m=>u.jsx(Yr,{movie:m},m.id)),r.map(m=>u.jsx(Yr,{movie:m},m.id))]})]})})};function Aq(t){return Object.prototype.toString.call(t)==="[object Object]"}function uS(t){return Aq(t)||Array.isArray(t)}function Pq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Fw(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==o?!1:n.every(i=>{const a=t[i],l=e[i];return typeof a=="function"?`${a}`==`${l}`:!uS(a)||!uS(l)?a===l:Fw(a,l)})}function dS(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Nq(t,e){if(t.length!==e.length)return!1;const n=dS(t),r=dS(e);return n.every((s,o)=>{const i=r[o];return Fw(s,i)})}function Uw(t){return typeof t=="number"}function nv(t){return typeof t=="string"}function Vh(t){return typeof t=="boolean"}function fS(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xe(t){return Math.abs(t)}function $w(t){return Math.sign(t)}function jl(t,e){return Xe(t-e)}function kq(t,e){if(t===0||e===0||Xe(t)<=Xe(e))return 0;const n=jl(Xe(t),Xe(e));return Xe(n/t)}function hc(t){return pc(t).map(Number)}function Gn(t){return t[Qc(t)]}function Qc(t){return Math.max(0,t.length-1)}function Bw(t,e){return e===Qc(t)}function hS(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function pc(t){return Object.keys(t)}function xk(t,e){return[t,e].reduce((n,r)=>(pc(r).forEach(s=>{const o=n[s],i=r[s],a=fS(o)&&fS(i);n[s]=a?xk(o,i):i}),n),{})}function rv(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function jq(t,e){const n={start:r,center:s,end:o};function r(){return 0}function s(l){return o(l)/2}function o(l){return e-l}function i(l,c){return nv(t)?n[t](l):t(e,l,c)}return{measure:i}}function mc(){let t=[];function e(s,o,i,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(o,i,a),l=()=>s.removeEventListener(o,i,a);else{const c=s;c.addListener(i),l=()=>c.removeListener(i)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function Dq(t,e,n,r){const s=mc(),o=1e3/60;let i=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&w()})}function f(){x(),s.clear()}function h(_){if(!l)return;i||(i=_);const E=_-i;for(i=_,a+=E;a>=o;)n(o),a-=o;const y=a/o;r(y),l&&e.requestAnimationFrame(h)}function m(){l||(l=e.requestAnimationFrame(h))}function x(){e.cancelAnimationFrame(l),i=null,a=0,l=0}function w(){i=null,a=0}return{init:c,destroy:f,start:m,stop:x,update:()=>n(o),render:r}}function Oq(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",o=r?"x":"y",i=!r&&n?-1:1,a=f(),l=h();function c(w){const{height:v,width:_}=w;return r?v:_}function f(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function m(w){return w*i}return{scroll:s,cross:o,startEdge:a,endEdge:l,measureSize:c,direction:m}}function Uo(t=0,e=0){const n=Xe(t-e);function r(c){return c<t}function s(c){return c>e}function o(c){return r(c)||s(c)}function i(c){return o(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:i,reachedAny:o,reachedMax:s,reachedMin:r,removeOffset:a}}function _k(t,e,n){const{constrain:r}=Uo(0,t),s=t+1;let o=i(e);function i(m){return n?Xe((s+m)%s):r(m)}function a(){return o}function l(m){return o=i(m),h}function c(m){return f().set(a()+m)}function f(){return _k(t,a(),n)}const h={get:a,set:l,add:c,clone:f};return h}function Mq(t,e,n,r,s,o,i,a,l,c,f,h,m,x,w,v,_,E,y){const{cross:b,direction:N}=t,O=["INPUT","SELECT","TEXTAREA"],j={passive:!1},C=mc(),T=mc(),I=Uo(50,225).constrain(x.measure(20)),P={mouse:300,touch:400},R={mouse:500,touch:600},D=w?43:25;let k=!1,B=0,te=0,Y=!1,ne=!1,L=!1,F=!1;function G(H){if(!y)return;function pe(Ue){(Vh(y)||y(H,Ue))&&De(Ue)}const Ie=e;C.add(Ie,"dragstart",Ue=>Ue.preventDefault(),j).add(Ie,"touchmove",()=>{},j).add(Ie,"touchend",()=>{}).add(Ie,"touchstart",pe).add(Ie,"mousedown",pe).add(Ie,"touchcancel",fe).add(Ie,"contextmenu",fe).add(Ie,"click",xe,!0)}function J(){C.clear(),T.clear()}function ie(){const H=F?n:e;T.add(H,"touchmove",Q,j).add(H,"touchend",fe).add(H,"mousemove",Q,j).add(H,"mouseup",fe)}function ve(H){const pe=H.nodeName||"";return O.includes(pe)}function Ce(){return(w?R:P)[F?"mouse":"touch"]}function Fe(H,pe){const Ie=h.add($w(H)*-1),Ue=f.byDistance(H,!w).distance;return w||Xe(H)<I?Ue:_&&pe?Ue*.5:f.byIndex(Ie.get(),0).distance}function De(H){const pe=rv(H,r);F=pe,L=w&&pe&&!H.buttons&&k,k=jl(s.get(),i.get())>=2,!(pe&&H.button!==0)&&(ve(H.target)||(Y=!0,o.pointerDown(H),c.useFriction(0).useDuration(0),s.set(i),ie(),B=o.readPoint(H),te=o.readPoint(H,b),m.emit("pointerDown")))}function Q(H){if(!rv(H,r)&&H.touches.length>=2)return fe(H);const Ie=o.readPoint(H),Ue=o.readPoint(H,b),ut=jl(Ie,B),St=jl(Ue,te);if(!ne&&!F&&(!H.cancelable||(ne=ut>St,!ne)))return fe(H);const yn=o.pointerMove(H);ut>v&&(L=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(N(yn)),H.preventDefault()}function fe(H){const Ie=f.byDistance(0,!1).index!==h.get(),Ue=o.pointerUp(H)*Ce(),ut=Fe(N(Ue),Ie),St=kq(Ue,ut),yn=D-10*St,Nt=E+St/50;ne=!1,Y=!1,T.clear(),c.useDuration(yn).useFriction(Nt),l.distance(ut,!w),F=!1,m.emit("pointerUp")}function xe(H){L&&(H.stopPropagation(),H.preventDefault(),L=!1)}function ue(){return Y}return{init:G,destroy:J,pointerDown:ue}}function Lq(t,e){let r,s;function o(h){return h.timeStamp}function i(h,m){const w=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(rv(h,e)?h:h.touches[0])[w]}function a(h){return r=h,s=h,i(h)}function l(h){const m=i(h)-i(s),x=o(h)-o(r)>170;return s=h,x&&(r=h),m}function c(h){if(!r||!s)return 0;const m=i(s)-i(r),x=o(h)-o(r),w=o(h)-o(s)>170,v=m/x;return x&&!w&&Xe(v)>.1?v:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function Vq(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:o,offsetHeight:i}=n;return{top:r,right:s+o,bottom:r+i,left:s,width:o,height:i}}return{measure:t}}function Fq(t){function e(r){return t*(r/100)}return{measure:e}}function Uq(t,e,n,r,s,o,i){const a=[t].concat(r);let l,c,f=[],h=!1;function m(_){return s.measureSize(i.measure(_))}function x(_){if(!o)return;c=m(t),f=r.map(m);function E(y){for(const b of y){if(h)return;const N=b.target===t,O=r.indexOf(b.target),j=N?c:f[O],C=m(N?t:r[O]);if(Xe(C-j)>=.5){_.reInit(),e.emit("resize");break}}}l=new ResizeObserver(y=>{(Vh(o)||o(_,y))&&E(y)}),n.requestAnimationFrame(()=>{a.forEach(y=>l.observe(y))})}function w(){h=!0,l&&l.disconnect()}return{init:x,destroy:w}}function $q(t,e,n,r,s,o){let i=0,a=0,l=s,c=o,f=t.get(),h=0;function m(j){const C=j/1e3,T=l*C,I=r.get()-t.get(),P=!l;let R=0;return P?(i=0,n.set(r),t.set(r),R=I):(n.set(t),i+=I/T,i*=c,f+=i,t.add(i*C),R=f-h),a=$w(R),h=f,O}function x(){const j=r.get()-e.get();return Xe(j)<.001}function w(){return l}function v(){return a}function _(){return i}function E(){return b(s)}function y(){return N(o)}function b(j){return l=j,O}function N(j){return c=j,O}const O={direction:v,duration:w,velocity:_,seek:m,settled:x,useBaseFriction:y,useBaseDuration:E,useFriction:N,useDuration:b};return O}function Bq(t,e,n,r,s){const o=s.measure(10),i=s.measure(50),a=Uo(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function f(x){if(!c())return;const w=t.reachedMin(e.get())?"min":"max",v=Xe(t[w]-e.get()),_=n.get()-e.get(),E=a.constrain(v/i);n.subtract(_*E),!x&&Xe(_)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(x){l=!x}return{shouldConstrain:c,constrain:f,toggleActive:h}}function zq(t,e,n,r,s){const o=Uo(-e+t,0),i=h(),a=f(),l=m();function c(w,v){return jl(w,v)<1}function f(){const w=i[0],v=Gn(i),_=i.lastIndexOf(w),E=i.indexOf(v)+1;return Uo(_,E)}function h(){return n.map((w,v)=>{const{min:_,max:E}=o,y=o.constrain(w),b=!v,N=Bw(n,v);return b?E:N||c(_,y)?_:c(E,y)?E:y}).map(w=>parseFloat(w.toFixed(3)))}function m(){if(e<=t+s)return[o.max];if(r==="keepSnaps")return i;const{min:w,max:v}=a;return i.slice(w,v)}return{snapsContained:l,scrollContainLimit:a}}function Wq(t,e,n){const r=e[0],s=n?r-t:Gn(e);return{limit:Uo(s,r)}}function Hq(t,e,n,r){const o=e.min+.1,i=e.max+.1,{reachedMin:a,reachedMax:l}=Uo(o,i);function c(m){return m===1?l(n.get()):m===-1?a(n.get()):!1}function f(m){if(!c(m))return;const x=t*(m*-1);r.forEach(w=>w.add(x))}return{loop:f}}function qq(t){const{max:e,length:n}=t;function r(o){const i=o-e;return n?i/-n:0}return{get:r}}function Gq(t,e,n,r,s){const{startEdge:o,endEdge:i}=t,{groupSlides:a}=s,l=h().map(e.measure),c=m(),f=x();function h(){return a(r).map(v=>Gn(v)[i]-v[0][o]).map(Xe)}function m(){return r.map(v=>n[o]-v[o]).map(v=>-Xe(v))}function x(){return a(c).map(v=>v[0]).map((v,_)=>v+l[_])}return{snaps:c,snapsAligned:f}}function Kq(t,e,n,r,s,o){const{groupSlides:i}=s,{min:a,max:l}=r,c=f();function f(){const m=i(o),x=!t||e==="keepSnaps";return n.length===1?[o]:x?m:m.slice(a,l).map((w,v,_)=>{const E=!v,y=Bw(_,v);if(E){const b=Gn(_[0])+1;return hS(b)}if(y){const b=Qc(o)-Gn(_)[0]+1;return hS(b,Gn(_)[0])}return w})}return{slideRegistry:c}}function Qq(t,e,n,r,s){const{reachedAny:o,removeOffset:i,constrain:a}=r;function l(w){return w.concat().sort((v,_)=>Xe(v)-Xe(_))[0]}function c(w){const v=t?i(w):a(w),_=e.map((y,b)=>({diff:f(y-v,0),index:b})).sort((y,b)=>Xe(y.diff)-Xe(b.diff)),{index:E}=_[0];return{index:E,distance:v}}function f(w,v){const _=[w,w+n,w-n];if(!t)return w;if(!v)return l(_);const E=_.filter(y=>$w(y)===v);return E.length?l(E):Gn(_)-n}function h(w,v){const _=e[w]-s.get(),E=f(_,v);return{index:w,distance:E}}function m(w,v){const _=s.get()+w,{index:E,distance:y}=c(_),b=!t&&o(_);if(!v||b)return{index:E,distance:w};const N=e[E]-y,O=w+f(N,0);return{index:E,distance:O}}return{byDistance:m,byIndex:h,shortcut:f}}function Yq(t,e,n,r,s,o,i){function a(h){const m=h.distance,x=h.index!==e.get();o.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),x&&(n.set(e.get()),e.set(h.index),i.emit("select"))}function l(h,m){const x=s.byDistance(h,m);a(x)}function c(h,m){const x=e.clone().set(h),w=s.byIndex(x.get(),m);a(w)}return{distance:l,index:c}}function Xq(t,e,n,r,s,o,i,a){const l={passive:!0,capture:!0};let c=0;function f(x){if(!a)return;function w(v){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),t.scrollLeft=0;const y=n.findIndex(b=>b.includes(v));Uw(y)&&(s.useDuration(0),r.index(y,0),i.emit("slideFocus"))}o.add(document,"keydown",h,!1),e.forEach((v,_)=>{o.add(v,"focus",E=>{(Vh(a)||a(x,E))&&w(_)},l)})}function h(x){x.code==="Tab"&&(c=new Date().getTime())}return{init:f}}function gl(t){let e=t;function n(){return e}function r(l){e=i(l)}function s(l){e+=i(l)}function o(l){e-=i(l)}function i(l){return Uw(l)?l:l.get()}return{get:n,set:r,add:s,subtract:o}}function Ek(t,e){const n=t.scroll==="x"?o:i,r=e.style;let s=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function i(h){return`translate3d(0px,${h}px,0px)`}function a(h){s||(r.transform=n(t.direction(h)))}function l(h){s=!h}function c(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function Jq(t,e,n,r,s,o,i,a,l){const f=hc(s),h=hc(s).reverse(),m=E().concat(y());function x(C,T){return C.reduce((I,P)=>I-s[P],T)}function w(C,T){return C.reduce((I,P)=>x(I,T)>0?I.concat([P]):I,[])}function v(C){return o.map((T,I)=>({start:T-r[I]+.5+C,end:T+e-.5+C}))}function _(C,T,I){const P=v(T);return C.map(R=>{const D=I?0:-n,k=I?n:0,B=I?"end":"start",te=P[R][B];return{index:R,loopPoint:te,slideLocation:gl(-1),translate:Ek(t,l[R]),target:()=>a.get()>te?D:k}})}function E(){const C=i[0],T=w(h,C);return _(T,n,!1)}function y(){const C=e-i[0]-1,T=w(f,C);return _(T,-n,!0)}function b(){return m.every(({index:C})=>{const T=f.filter(I=>I!==C);return x(T,e)<=.1})}function N(){m.forEach(C=>{const{target:T,translate:I,slideLocation:P}=C,R=T();R!==P.get()&&(I.to(R),P.set(R))})}function O(){m.forEach(C=>C.translate.clear())}return{canLoop:b,clear:O,loop:N,loopPoints:m}}function Zq(t,e,n){let r,s=!1;function o(l){if(!n)return;function c(f){for(const h of f)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(f=>{s||(Vh(n)||n(l,f))&&c(f)}),r.observe(t,{childList:!0})}function i(){r&&r.disconnect(),s=!0}return{init:o,destroy:i}}function eG(t,e,n,r){const s={};let o=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(w=>{l||(w.forEach(v=>{const _=e.indexOf(v.target);s[_]=v}),o=null,i=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(w=>a.observe(w))}function f(){a&&a.disconnect(),l=!0}function h(w){return pc(s).reduce((v,_)=>{const E=parseInt(_),{isIntersecting:y}=s[E];return(w&&y||!w&&!y)&&v.push(E),v},[])}function m(w=!0){if(w&&o)return o;if(!w&&i)return i;const v=h(w);return w&&(o=v),w||(i=v),v}return{init:c,destroy:f,get:m}}function tG(t,e,n,r,s,o){const{measureSize:i,startEdge:a,endEdge:l}=t,c=n[0]&&s,f=w(),h=v(),m=n.map(i),x=_();function w(){if(!c)return 0;const y=n[0];return Xe(e[a]-y[a])}function v(){if(!c)return 0;const y=o.getComputedStyle(Gn(r));return parseFloat(y.getPropertyValue(`margin-${l}`))}function _(){return n.map((y,b,N)=>{const O=!b,j=Bw(N,b);return O?m[b]+f:j?m[b]+h:N[b+1][a]-y[a]}).map(Xe)}return{slideSizes:m,slideSizesWithGaps:x,startGap:f,endGap:h}}function nG(t,e,n,r,s,o,i,a,l){const{startEdge:c,endEdge:f,direction:h}=t,m=Uw(n);function x(E,y){return hc(E).filter(b=>b%y===0).map(b=>E.slice(b,b+y))}function w(E){return E.length?hc(E).reduce((y,b,N)=>{const O=Gn(y)||0,j=O===0,C=b===Qc(E),T=s[c]-o[O][c],I=s[c]-o[b][f],P=!r&&j?h(i):0,R=!r&&C?h(a):0,D=Xe(I-R-(T+P));return N&&D>e+l&&y.push(b),C&&y.push(E.length),y},[]).map((y,b,N)=>{const O=Math.max(N[b-1]||0);return E.slice(O,y)}):[]}function v(E){return m?x(E,n):w(E)}return{groupSlides:v}}function rG(t,e,n,r,s,o,i){const{align:a,axis:l,direction:c,startIndex:f,loop:h,duration:m,dragFree:x,dragThreshold:w,inViewThreshold:v,slidesToScroll:_,skipSnaps:E,containScroll:y,watchResize:b,watchSlides:N,watchDrag:O,watchFocus:j}=o,C=2,T=Vq(),I=T.measure(e),P=n.map(T.measure),R=Oq(l,c),D=R.measureSize(I),k=Fq(D),B=jq(a,D),te=!h&&!!y,Y=h||!!y,{slideSizes:ne,slideSizesWithGaps:L,startGap:F,endGap:G}=tG(R,I,P,n,Y,s),J=nG(R,D,_,h,I,P,F,G,C),{snaps:ie,snapsAligned:ve}=Gq(R,B,I,P,J),Ce=-Gn(ie)+Gn(L),{snapsContained:Fe,scrollContainLimit:De}=zq(D,Ce,ve,y,C),Q=te?Fe:ve,{limit:fe}=Wq(Ce,Q,h),xe=_k(Qc(Q),f,h),ue=xe.clone(),re=hc(n),H=({dragHandler:Dn,scrollBody:Na,scrollBounds:Cr,options:{loop:oo}},ii)=>{oo||Cr.constrain(Dn.pointerDown()),Na.seek(ii)},pe=({scrollBody:Dn,translate:Na,location:Cr,offsetLocation:oo,scrollLooper:ii,slideLooper:ka,dragHandler:Uh,animation:$h,eventHandler:ai,scrollBounds:Yc,options:{loop:ja}},is)=>{const li=Dn.settled(),Da=!Yc.shouldConstrain(),or=ja?li:li&&Da;or&&!Uh.pointerDown()&&($h.stop(),ai.emit("settle")),or||ai.emit("scroll");const Xc=Cr.get()*is+yn.get()*(1-is);oo.set(Xc),ja&&(ii.loop(Dn.direction()),ka.loop()),Na.to(oo.get())},Ie=Dq(r,s,Dn=>H(oi,Dn),Dn=>pe(oi,Dn)),Ue=.68,ut=Q[xe.get()],St=gl(ut),yn=gl(ut),Nt=gl(ut),jn=gl(ut),os=$q(St,Nt,yn,jn,m,Ue),Aa=Qq(h,Q,Ce,fe,jn),so=Yq(Ie,xe,ue,os,Aa,jn,i),ri=qq(fe),Pa=mc(),vt=eG(e,n,i,v),{slideRegistry:yt}=Kq(te,y,Q,De,J,re),si=Xq(t,n,yt,so,os,Pa,i,j),oi={ownerDocument:r,ownerWindow:s,eventHandler:i,containerRect:I,slideRects:P,animation:Ie,axis:R,dragHandler:Mq(R,t,r,s,jn,Lq(R,s),St,Ie,so,os,Aa,xe,i,k,x,w,E,Ue,O),eventStore:Pa,percentOfView:k,index:xe,indexPrevious:ue,limit:fe,location:St,offsetLocation:Nt,previousLocation:yn,options:o,resizeHandler:Uq(e,i,s,n,R,b,T),scrollBody:os,scrollBounds:Bq(fe,Nt,jn,os,k),scrollLooper:Hq(Ce,fe,Nt,[St,Nt,yn,jn]),scrollProgress:ri,scrollSnapList:Q.map(ri.get),scrollSnaps:Q,scrollTarget:Aa,scrollTo:so,slideLooper:Jq(R,D,Ce,ne,L,ie,Q,Nt,n),slideFocus:si,slidesHandler:Zq(e,i,N),slidesInView:vt,slideIndexes:re,slideRegistry:yt,slidesToScroll:J,target:jn,translate:Ek(R,e)};return oi}function sG(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(f=>f(e,c)),l}function o(c,f){return t[c]=r(c).concat([f]),l}function i(c,f){return t[c]=r(c).filter(h=>h!==f),l}function a(){t={}}const l={init:n,emit:s,off:i,on:o,clear:a};return l}const oG={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function iG(t){function e(o,i){return xk(o,i||{})}function n(o){const i=o.breakpoints||{},a=pc(i).filter(l=>t.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>e(l,c),{});return e(o,a)}function r(o){return o.map(i=>pc(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function aG(t){let e=[];function n(o,i){return e=i.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function Cf(t,e,n){const r=t.ownerDocument,s=r.defaultView,o=iG(s),i=aG(o),a=mc(),l=sG(),{mergeOptions:c,optionsAtMedia:f,optionsMediaQueries:h}=o,{on:m,off:x,emit:w}=l,v=R;let _=!1,E,y=c(oG,Cf.globalOptions),b=c(y),N=[],O,j,C;function T(){const{container:re,slides:H}=b;j=(nv(re)?t.querySelector(re):re)||t.children[0];const Ie=nv(H)?j.querySelectorAll(H):H;C=[].slice.call(Ie||j.children)}function I(re){const H=rG(t,j,C,r,s,re,l);if(re.loop&&!H.slideLooper.canLoop()){const pe=Object.assign({},re,{loop:!1});return I(pe)}return H}function P(re,H){_||(y=c(y,re),b=f(y),N=H||N,T(),E=I(b),h([y,...N.map(({options:pe})=>pe)]).forEach(pe=>a.add(pe,"change",R)),b.active&&(E.translate.to(E.location.get()),E.animation.init(),E.slidesInView.init(),E.slideFocus.init(ue),E.eventHandler.init(ue),E.resizeHandler.init(ue),E.slidesHandler.init(ue),E.options.loop&&E.slideLooper.loop(),j.offsetParent&&C.length&&E.dragHandler.init(ue),O=i.init(ue,N)))}function R(re,H){const pe=J();D(),P(c({startIndex:pe},re),H),l.emit("reInit")}function D(){E.dragHandler.destroy(),E.eventStore.clear(),E.translate.clear(),E.slideLooper.clear(),E.resizeHandler.destroy(),E.slidesHandler.destroy(),E.slidesInView.destroy(),E.animation.destroy(),i.destroy(),a.clear()}function k(){_||(_=!0,a.clear(),D(),l.emit("destroy"),l.clear())}function B(re,H,pe){!b.active||_||(E.scrollBody.useBaseFriction().useDuration(H===!0?0:b.duration),E.scrollTo.index(re,pe||0))}function te(re){const H=E.index.add(1).get();B(H,re,-1)}function Y(re){const H=E.index.add(-1).get();B(H,re,1)}function ne(){return E.index.add(1).get()!==J()}function L(){return E.index.add(-1).get()!==J()}function F(){return E.scrollSnapList}function G(){return E.scrollProgress.get(E.location.get())}function J(){return E.index.get()}function ie(){return E.indexPrevious.get()}function ve(){return E.slidesInView.get()}function Ce(){return E.slidesInView.get(!1)}function Fe(){return O}function De(){return E}function Q(){return t}function fe(){return j}function xe(){return C}const ue={canScrollNext:ne,canScrollPrev:L,containerNode:fe,internalEngine:De,destroy:k,off:x,on:m,emit:w,plugins:Fe,previousScrollSnap:ie,reInit:v,rootNode:Q,scrollNext:te,scrollPrev:Y,scrollProgress:G,scrollSnapList:F,scrollTo:B,selectedScrollSnap:J,slideNodes:xe,slidesInView:ve,slidesNotInView:Ce};return P(e,n),setTimeout(()=>l.emit("init"),0),ue}Cf.globalOptions=void 0;function zw(t={},e=[]){const n=p.useRef(t),r=p.useRef(e),[s,o]=p.useState(),[i,a]=p.useState(),l=p.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return p.useEffect(()=>{Fw(n.current,t)||(n.current=t,l())},[t,l]),p.useEffect(()=>{Nq(r.current,e)||(r.current=e,l())},[e,l]),p.useEffect(()=>{if(Pq()&&i){Cf.globalOptions=zw.globalOptions;const c=Cf(i,n.current,r.current);return o(c),()=>c.destroy()}else o(void 0)},[i,o]),[a,s]}zw.globalOptions=void 0;const Sk=p.createContext(null);function Fh(){const t=p.useContext(Sk);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Tk=p.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:o,...i},a)=>{const[l,c]=zw({...e,axis:t==="horizontal"?"x":"y"},r),[f,h]=p.useState(!1),[m,x]=p.useState(!1),w=p.useCallback(y=>{y&&(h(y.canScrollPrev()),x(y.canScrollNext()))},[]),v=p.useCallback(()=>{c==null||c.scrollPrev()},[c]),_=p.useCallback(()=>{c==null||c.scrollNext()},[c]),E=p.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),v()):y.key==="ArrowRight"&&(y.preventDefault(),_())},[v,_]);return p.useEffect(()=>{!c||!n||n(c)},[c,n]),p.useEffect(()=>{if(c)return w(c),c.on("reInit",w),c.on("select",w),()=>{c==null||c.off("select",w)}},[c,w]),u.jsx(Sk.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:_,canScrollPrev:f,canScrollNext:m},children:u.jsx("div",{ref:a,onKeyDownCapture:E,className:le("relative",s),role:"region","aria-roledescription":"carousel",...i,children:o})})});Tk.displayName="Carousel";const bk=p.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=Fh();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:le("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});bk.displayName="CarouselContent";const Ck=p.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Fh();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:le("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Ck.displayName="CarouselItem";const lG=p.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:o,scrollPrev:i,canScrollPrev:a}=Fh();return u.jsxs(Je,{ref:s,variant:e,size:n,className:le("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:i,...r,children:[u.jsx(fB,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});lG.displayName="CarouselPrevious";const cG=p.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:o,scrollNext:i,canScrollNext:a}=Fh();return u.jsxs(Je,{ref:s,variant:e,size:n,className:le("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:i,...r,children:[u.jsx(pB,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});cG.displayName="CarouselNext";function uG({movies:t}){const[e,n]=p.useState([]),{getLogoOfMovie:r}=Gt(),s="https://image.tmdb.org/t/p/original";p.useEffect(()=>{t.map(i=>o(i.id))},[t]);const o=async i=>{const a=await r(i);n(l=>[...l,a.find(c=>c.iso_639_1==="en")])};return u.jsx(Tk,{className:"my-2",children:u.jsx(bk,{className:"flex flex-row",children:t&&t.map((i,a)=>{var l;return u.jsx(Ck,{className:"",children:u.jsxs("div",{className:"rounded relative flex justify-start items-center ",children:[u.jsxs("div",{className:"absolute flex flex-col w-1/3 ms-4 items-center justify-start z-50",children:[u.jsx("img",{src:`${s}${(l=e[a])==null?void 0:l.file_path}`,width:500,className:"mb-3"}),u.jsx("p",{className:"text-secondary-foreground font-[poppins] text-lg",children:i.overview.length>100?`${i.overview.slice(0,100)}...`:i.overview}),u.jsxs("div",{className:"flex justify-start w-full mt-4 gap-4",children:[u.jsxs("button",{className:"rounded-md font-bold bg-foreground hover:scale-105 transition-all flex gap-1 float-start p-2 text-background items-center min-w-32 justify-center",children:[u.jsx(FI,{className:"fill-background w-6 h-6"}),u.jsx(_e,{to:`/movie/watch/${i.id}`,children:"Play"})]}),u.jsxs(_e,{to:`/movie/${i.id}`,className:"rounded-md font-bold bg-transparent border-2 border-foreground flex gap-1 float-start p-3 hover:scale-105 transition-all min-w-40 justify-center text-foreground items-center",children:[u.jsx(Z6,{className:"text-foreground w-6 h-6"}),"See more"]})]})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent rounded"}),u.jsx("img",{src:`${s}${i.backdrop_path}`,alt:"",className:"rounded"})]})},i.id)})})})}function dG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getMoviesAndSortAndPaginate:_,getMovieByQuery:E}=Gt(),{mode:y}=ke();p.useEffect(()=>{b(i,m)},[i,m]),p.useEffect(()=>{c(!0),(async()=>{const T=await E(s);r(T),c(!1)})()},[s]);const b=async(C,T)=>{c(!0),h(null);try{const I=await _(C,T);e(I.results),r(I.results),v(I.total_pages)}catch(I){h(I.message)}c(!1)},N=C=>{o(C.target.value)},O=C=>{a(C)},j=C=>{x(C)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px-4 py-8 ${y}`,children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"TMDB Movie Browser"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:N,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:O,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),!s&&u.jsx("div",{className:"flex justify-center max-sm:hidden max-md:hidden",children:u.jsx(uG,{movies:t})}),u.jsx("hr",{className:"my-4 border-foreground"}),u.jsx("h1",{className:"text-4xl m-4",children:"Watch also:"}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:[!n.length&&t.map(C=>u.jsx(Yr,{movie:C},C.id)),n&&n.map(C=>u.jsx(Yr,{movie:C},C.id))]}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>j(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>j(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}function fG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getTVAndSortAndPaginate:_}=Gt(),{mode:E}=ke();p.useEffect(()=>{y(i,m)},[i,m]),p.useEffect(()=>{const j=t.filter(C=>C.name.toLowerCase().includes(s.toLowerCase()));r(j)},[s,t]);const y=async(j,C)=>{c(!0),h(null);try{const T=await _(j,C);e(T.results),r(T.results),v(T.total_pages)}catch(T){h(T.message)}c(!1)},b=j=>{o(j.target.value)},N=j=>{a(j)},O=j=>{x(j)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px-4 py-8 ${E}`,children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"TV series Browser"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:b,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:N,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:n&&n.map(j=>u.jsx(Kc,{movie:j},j.id))}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>O(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>O(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}function hG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getMiniSeriesWithSortAndPaginate:_}=Gt(),{mode:E}=ke();p.useEffect(()=>{y(i,m)},[i,m]),p.useEffect(()=>{const j=t.filter(C=>C.name.toLowerCase().includes(s.toLowerCase()));r(j)},[s,t]);const y=async(j,C)=>{c(!0),h(null);try{const T=await _(j,C);e(T.results),r(T.results),v(T.total_pages)}catch(T){h(T.message)}c(!1)},b=j=>{o(j.target.value)},N=j=>{a(j)},O=j=>{x(j)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px-4 py-8 ${E}`,children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"TV series Browser"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:b,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:N,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:n&&n.map(j=>u.jsx(Kc,{movie:j},j.id))}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>O(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>O(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}function pG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getAnimationMoviesWithSortAndPaginate:_}=Gt(),{mode:E}=ke();p.useEffect(()=>{y(i,m)},[i,m]),p.useEffect(()=>{const j=t.filter(C=>C.title.toLowerCase().includes(s.toLowerCase()));r(j)},[s,t]);const y=async(j,C)=>{c(!0),h(null);try{const T=await _(j,C);e(T.results),r(T.results),v(T.total_pages)}catch(T){h(T.message)}c(!1)},b=j=>{o(j.target.value)},N=j=>{a(j)},O=j=>{x(j)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px-4 py-8 ${E}`,children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"TMDB Movie Browser"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:b,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:N,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:n&&n.map(j=>u.jsx(Yr,{movie:j},j.id))}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>O(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>O(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}function mG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getTopRatedMoviesWithPaginateAndSort:_}=Gt(),{mode:E}=ke();p.useEffect(()=>{y(i,m)},[i,m]),p.useEffect(()=>{const j=t.filter(C=>C.title.toLowerCase().includes(s.toLowerCase()));r(j)},[s,t]);const y=async(j,C)=>{c(!0),h(null);try{const T=await _(j,C);e(T.results),r(T.results),v(T.total_pages)}catch(T){h(T.message)}c(!1)},b=j=>{o(j.target.value)},N=j=>{a(j)},O=j=>{x(j)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px min-h-screen p-4 py-8 ${E}`,children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Top rated movies"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:b,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:N,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:n&&n.map(j=>u.jsx(Yr,{movie:j},j.id))}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>O(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>O(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}function gG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getTopRatedTvShowsWithPaginateAndSort:_}=Gt(),{mode:E}=ke();p.useEffect(()=>{y(i,m)},[i,m]),p.useEffect(()=>{const j=t.filter(C=>C.name.toLowerCase().includes(s.toLowerCase()));r(j)},[s,t]);const y=async(j,C)=>{c(!0),h(null);try{const T=await _(j,C);e(T.results),r(T.results),v(T.total_pages)}catch(T){h(T.message)}c(!1)},b=j=>{o(j.target.value)},N=j=>{a(j)},O=j=>{x(j)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px min-h-screen p-4 py-8 ${E}`,children:[u.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Top rated tv shows"}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:b,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:N,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:n&&n.map(j=>u.jsx(Kc,{movie:j},j.id))}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>O(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>O(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}function vG(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState(""),[i,a]=p.useState("popularity.desc"),[l,c]=p.useState(!0),[f,h]=p.useState(null),[m,x]=p.useState(1),[w,v]=p.useState(1),{getMoviesByGenreIdAndSortAndPaginate:_}=Gt(),{mode:E}=ke(),{id:y}=Wo(),b=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];p.useEffect(()=>{N(i,m)},[i,m]),p.useEffect(()=>{const T=t.filter(I=>I.title.toLowerCase().includes(s.toLowerCase()));r(T)},[s,t]);const N=async(T,I)=>{c(!0),h(null);try{const P=await _(y,T,I);e(P.results),r(P.results),v(P.total_pages)}catch(P){h(P.message)}c(!1)},O=T=>{o(T.target.value)},j=T=>{a(T)},C=T=>{x(T)};return u.jsxs("div",{className:`bg-background text-foreground mx-auto px min-h-screen p-4 py-8 ${E}`,children:[u.jsxs("h1",{className:"text-4xl font-bold mb-8 text-center",children:[u.jsx("span",{className:"text-slate-600 dark:text-green-500",children:b.find(T=>T.id===parseInt(y)).name})," Movies"]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/3",children:[u.jsx(pt,{type:"text",placeholder:"Search movies...",value:s,onChange:O,className:"pl-10"}),u.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),u.jsxs(Zn,{onValueChange:j,defaultValue:i,children:[u.jsx(Pn,{className:"w-full md:w-[200px]",children:u.jsx(er,{placeholder:"Sort by"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"popularity.desc",children:"Popularity Descending"}),u.jsx(ee,{value:"popularity.asc",children:"Popularity Ascending"}),u.jsx(ee,{value:"vote_average.desc",children:"Rating Descending"}),u.jsx(ee,{value:"vote_average.asc",children:"Rating Ascending"}),u.jsx(ee,{value:"release_date.desc",children:"Release Date Descending"}),u.jsx(ee,{value:"release_date.asc",children:"Release Date Ascending"})]})]})]}),l?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Zo,{className:"animate-spin h-12 w-12 text-primary"})}):f?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("p",{className:"text-red-500",children:f})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:n&&n.map(T=>u.jsx(Yr,{movie:T},T.id))}),u.jsxs("div",{className:"flex justify-center items-center mt-8",children:[u.jsx("button",{onClick:()=>C(m-1),disabled:m===1,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Xo,{size:20})}),u.jsxs("span",{className:"px-4 py-2 mx-2",children:[m," / ",w]}),u.jsx("button",{onClick:()=>C(m+1),disabled:m===w,className:"px-4 py-2 mx-2 bg-primary text-primary-foreground rounded disabled:opacity-50",children:u.jsx(Jo,{size:20})})]})]})]})}const yG=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState([]),{user:i,mode:a}=ke(),{getWatchList:l}=ei(),{getMovieById:c,getTvById:f}=Gt(),[h,m]=p.useState(!0);return p.useEffect(()=>{const x=async()=>{const{movies:w,tvShows:v}=await l(i&&i.uid);e([...w,...v]);const _=await Promise.all(w.map(async y=>{const b=await c(y.id);return m(!1),b}));r(_);const E=await Promise.all(v.map(async y=>{const b=await f(y.id);return m(!1),b}));o(E)};i&&i.uid&&x()},[i&&i.uid,t]),u.jsx("div",{children:u.jsxs("div",{className:` mx-auto px-8 py-8 bg-background text-foreground ${a}`,children:[u.jsxs("header",{className:"mb-8 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Watchlist"}),u.jsx("p",{className:"text-muted-foreground",children:"Keep track of movies and shows you want to watch"})]}),h&&u.jsx("div",{className:"flex min-h-screen    justify-center items-center h-96",children:u.jsx("p",{className:"text-foreground",children:"Loading..."})}),t.length===0?u.jsx("div",{className:"flex justify-center items-center h-96",children:u.jsx("p",{className:"text-foreground",children:"No items in your watchlist"})}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-2xl py-3 text-foreground",children:"Movies"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(x=>u.jsx(Yr,{movie:x,watchlist:!0},x.id))}),u.jsx("h1",{className:"text-2xl py-3 text-foreground",children:"TV Shows"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map(x=>u.jsx(Kc,{movie:x,watchlist:!0},x.id))})]})]})})},wG=()=>{const[t,e]=p.useState("https://vidsrc.me/embed/movie"),{id:n}=Wo(),{mode:r}=ke(),[s,o]=We.useState(null),i=a=>{a==="vidsrc.dev"&&e("https://vidsrc.me/embed/movie"),a==="embed.su"&&e("https://embed.su/embed/movie"),a==="putlocker.vip"&&e("https://putlocker.vip/embed/movie"),a==="vidsrc.icu"&&e("https://vidsrc.icu/embed/movie"),a==="vidlink.pro"&&e("https://vidlink.pro/movie"),a==="vidsrc.net"&&e("https://vidsrc.net/embed/movie"),a==="2embed.cc"&&e("https://www.2embed.cc/embed"),a==="vidsrc.icu"&&e("https://vidsrc.icu/embed/movie"),a==="vidsrc.vip"&&e("https://vidsrc.vip/embed/movie"),a==="multiembed"&&e("https://multiembed.mov"),a==="NontonGo"&&e("https://www.NontonGo.win/embed/movie")};return u.jsxs("div",{className:`${r} bg-secondary text-foreground px-10 min-h-[90vh]`,children:[u.jsxs("div",{className:"flex justify-center items-center rounded",children:[u.jsxs("div",{className:"absolute text-center flex justify-center items-center flex-col",children:[u.jsx(Ea,{className:"animate-spin text-foreground"}),u.jsx("span",{children:"please wait"})]}),u.jsx("iframe",{src:t.includes("multiembed")?`${t}/?video_id=${n}&tmdb=1`:`${t}/${n}`,allowFullScreen:!0,scrolling:"no",width:"100%",style:{border:"none"},title:"Embedded Video",className:"rounded-md mt-3 z-10 sm:h-[600px] h-[500px]"})]}),u.jsxs("div",{className:" py-3",children:[u.jsx("h1",{className:"text-lg",children:"Select a server"}),u.jsxs(Zn,{onValueChange:i,defaultValue:s,className:"bg-background w-full",children:[u.jsx(Pn,{className:"w-full md:w-[200px] bg-background text-foreground",children:u.jsx(er,{placeholder:"Select a service",className:"text-foreground"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"vidsrc.dev",children:"vidsrc.dev"}),u.jsx(ee,{value:"embed.su",children:"embed.su"}),u.jsx(ee,{value:"vidsrc.icu",children:"vidsrc.icu"}),u.jsx(ee,{value:"vidlink.pro",children:"vidlink.pro"}),u.jsx(ee,{value:"vidsrc.net",children:"vidsrc.net"}),u.jsx(ee,{value:"2embed.cc",children:"2embed.cc"}),u.jsx(ee,{value:"vidsrc.vip",children:"vidsrc.vip"}),u.jsx(ee,{value:"multiembed",children:"multiembed"}),u.jsx(ee,{value:"NontonGo",children:"NontonGo"})]})]})]}),u.jsx("span",{className:"text-lg",children:"Note:"}),u.jsx("p",{children:"If the video does not play, try changing the server."})]})},pS=()=>{const[t,e]=p.useState("https://embed.su/embed/tv"),{id:n,season:r,episode:s}=Wo(),{mode:o}=ke();We.useState(null);const[i,a]=p.useState([]),[l,c]=p.useState([]),f=ha(),{getTvShowSeasons:h,getTvShowEpisodes:m}=Gt(),x="https://image.tmdb.org/t/p/original";p.useEffect(()=>{h(n).then(_=>{a(_),console.log(_)})},[]),p.useEffect(()=>{window.scrollTo(0,0)}),p.useEffect(()=>{m(n,r).then(_=>{c(_.episodes),console.log(_)})},[r]);const w=_=>{_==="vidsrc.dev"&&e("https://vidsrc.me/embed/tv"),_==="embed.su"&&e("https://embed.su/embed/tv"),_==="vidsrc.icu"&&e("https://vidsrc.icu/embed/tv"),_==="vidlink.pro"&&e("https://vidlink.pro/embed/tv"),_==="vidsrc.net"&&e("https://vidsrc.net/embed/tv"),_==="2embed.cc"&&e("https://www.2embed.cc/embedtv"),_==="multiembed"&&e("https://multiembed.mov"),_==="NontonGo"&&e("https://www.NontonGo.win/embed/tv")},v=_=>{f(`/tv/watch/${n}/${_}/1`)};return u.jsxs("div",{className:`${o} bg-secondary text-foreground max-sm:px-4 px-3`,children:[u.jsxs("div",{className:"flex justify-center items-center rounded",children:[u.jsxs("div",{className:"absolute text-center flex justify-center items-center flex-col",children:[u.jsx(Ea,{className:"animate-spin text-foreground"}),u.jsx("span",{children:"please wait"})]}),u.jsx("iframe",{src:t.includes("2embed.cc")?`${t}/${n}&s=${r}&e=${s}`:t.includes("NontonGo")?`${t}/?id=${n}&s=${r}&e=${s}`:t.includes("multiembed")?`${t}/?video_id=${n}&tmdb=1&s=${r}&e=${s}`:`${t}/${n}/${parseInt(r)}/${parseInt(s)}`,allowFullScreen:!0,scrolling:"no",width:"100%",height:"100%",style:{border:"none"},title:"Embedded Video",className:"rounded-md mt-3 z-10 max-sm:h-[200px] h-[500px]"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"py-3 flex sm:gap-10 gap-4",children:[u.jsxs(Zn,{onValueChange:w,className:"bg-background w-full",children:[u.jsx(Pn,{className:"w-full  bg-background text-foreground",children:u.jsx(er,{placeholder:"Select a service",className:"text-foreground"})}),u.jsxs(Nn,{children:[u.jsx(ee,{value:"embed.su",children:"embed.su"}),u.jsx(ee,{value:"vidsrc.dev",children:"vidsrc.dev"}),u.jsx(ee,{value:"vidsrc.icu",children:"vidsrc.icu"}),u.jsx(ee,{value:"vidlink.pro",children:"vidlink.pro"}),u.jsx(ee,{value:"vidsrc.net",children:"vidsrc.net"}),u.jsx(ee,{value:"2embed.cc",children:"2embed.cc"}),u.jsx(ee,{value:"multiembed",children:"multiembed"}),u.jsx(ee,{value:"NontonGo",children:"NontonGo"})]})]}),u.jsxs(Zn,{onValueChange:v,className:"bg-background w-full",children:[u.jsx(Pn,{className:"w-full  bg-background text-foreground",children:u.jsx(er,{placeholder:"Select a season",className:"text-foreground"})}),u.jsx(Nn,{children:i&&i.map(_=>u.jsx(ee,{value:_.season_number,children:u.jsx(_e,{to:`/tv/watch/${_.season_number}/1`,children:_.name})}))})]})]}),u.jsxs("div",{className:"flex sm:gap-10 gap-4 mb-3",children:[u.jsx(Je,{className:"w-full",disabled:parseInt(s)===1,variant:"",children:u.jsx(_e,{to:`/tv/watch/${n}/${r}/${parseInt(s)>1?parseInt(s)-1:1}`,children:"Previous episode"})}),u.jsx(Je,{className:"w-full",disabled:parseInt(s)===l.length,variant:"",children:u.jsx(_e,{to:`/tv/watch/${n}/${r}/${parseInt(s)+1}`,children:"Next episode"})})]}),u.jsx("h1",{className:"text-lg mb-4 ",children:"Select an episode :"}),u.jsxs(ns,{className:"flex flex-col max-h-[400px]",children:[l&&l.map(_=>u.jsxs("div",{className:`flex gap-4 p-3 mb-2 rounded-md border ${_.episode_number==s?"bg-slate-300 text-black":"bg-background"}`,children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("img",{src:`${x}${_.still_path}`,className:"rounded max-w-52 max-sm:max-w-24 max-h-24",alt:_.name}),u.jsxs(_e,{to:`/tv/watch/${n}/${_.season_number}/${_.episode_number}`,className:"absolute inset-0",children:[u.jsx(FI,{className:"cursor-pointer absolute inset-0 m-auto flex justify-center items-center bg-slate-800 bg-opacity-30 rounded-full p-2 hover:scale-110 transition-all text-white",size:30}),u.jsx("span",{className:"absolute left-0 bottom-0 bg-zinc-700 border-opacity-20 text-white items-center text-sm px-1 justify-center flex rounded-tr-md min-w-5 text-center",children:_.episode_number})]})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("h1",{className:"max-sm:text-xs",children:_.name}),u.jsx("p",{className:"text-sm  max-sm:text-[10px] max-sm:leading-3  sm:break-words max-sm:line-clamp-2",children:_.overview})]})]},_.id)),u.jsx(rs,{orientation:"vertical",className:"bg-foreground rounded"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("span",{className:"text-lg mt-10",children:"Note:"}),u.jsx("p",{children:"If the video does not play, try changing the server."})]})]})};function xG(){const{mode:t}=ke();return u.jsx("div",{className:`flex min-h-[100dvh] flex-col items-center justify-center bg-background px-4 py-12 sm:px-6 lg:px-8 ${t}`,children:u.jsxs("div",{className:"mx-auto max-w-md text-center",children:[u.jsx("img",{src:"https://media.tenor.com/KOZLvzU0o4kAAAAM/no-results.gif",alt:"404 Not Found",className:"mx-auto mb-6"}),u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:"Page Not Found"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"The page you're looking for doesn't exist. It might have been moved or deleted."}),u.jsx("div",{className:"mt-6",children:u.jsx(_e,{to:"/",className:"inline-flex items-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-colors hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",prefetch:!1,children:"Go to Homepage"})})]})})}function _G(){const{mode:t}=ke();return u.jsx("div",{children:u.jsx("div",{className:`  ${t}`,children:u.jsxs(zc,{className:"w-full rounded-none  mx-auto",children:[u.jsxs(Wc,{children:[u.jsx(Hc,{className:"text-3xl font-bold",children:"Privacy Policy"}),u.jsx(qc,{children:"Last updated: November 05, 2024"})]}),u.jsx(Gc,{children:u.jsx(ns,{className:"h-[60vh] pr-4",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Introduction"}),u.jsx("p",{children:'Film Guild ("we", "us", or "our") operates the website https://movie-appp-tmdb.netlify.app/ (hereinafter referred to as the "Service"). This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Information Collection and Use"}),u.jsx("p",{children:"We collect several different types of information for various purposes to provide and improve our Service to you."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Types of Data Collected"}),u.jsx("h3",{className:"text-xl font-medium mb-1",children:"Personal Data"}),u.jsx("p",{children:'While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you ("Personal Data"). Personally identifiable information may include, but is not limited to:'}),u.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2",children:[u.jsx("li",{children:"Email address"}),u.jsx("li",{children:"First name and last name"}),u.jsx("li",{children:"Cookies and Usage Data"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Use of Data"}),u.jsx("p",{children:"Film Guild uses the collected data for various purposes:"}),u.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2",children:[u.jsx("li",{children:"To provide and maintain our Service"}),u.jsx("li",{children:"To notify you about changes to our Service"}),u.jsx("li",{children:"To allow you to participate in interactive features of our Service when you choose to do so"}),u.jsx("li",{children:"To provide customer support"}),u.jsx("li",{children:"To gather analysis or valuable information so that we can improve our Service"}),u.jsx("li",{children:"To monitor the usage of our Service"}),u.jsx("li",{children:"To detect, prevent and address technical issues"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Transfer of Data"}),u.jsx("p",{children:"Your information, including Personal Data, may be transferred to — and maintained on — computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),u.jsx("p",{className:"mt-2",children:"If you are located outside United States and choose to provide information to us, please note that we transfer the data, including Personal Data, to United States and process it there."}),u.jsx("p",{className:"mt-2",children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Security of Data"}),u.jsx("p",{children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your Rights"}),u.jsx("p",{children:"Film Guild aims to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),u.jsx("p",{className:"mt-2",children:"If you wish to be informed about what Personal Data we hold about you and if you want it to be removed from our systems, please contact us."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Changes to This Privacy Policy"}),u.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),u.jsx("p",{className:"mt-2",children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the "effective date" at the top of this Privacy Policy.'}),u.jsx("p",{className:"mt-2",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Contact Us"}),u.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us:"}),u.jsx("ul",{className:"list-disc list-inside ml-4 mt-2",children:u.jsxs("li",{children:["By visiting this page on our website: "," ",u.jsx(_e,{to:"/contact",className:"text-primary hover:underline",children:"https://movie-appp-tmdb.netlify.app/contact"})]})})]})]})})})]})})})}function EG(){return u.jsxs(yO,{basename:"movie-app-dep",children:[u.jsx(qH,{}),u.jsxs(dO,{children:[u.jsx(Qe,{path:"/",element:u.jsx(y7,{})}),u.jsx(Qe,{path:"/login",element:u.jsx(A7,{})}),u.jsx(Qe,{path:"/signup",element:u.jsx(P7,{})}),u.jsx(Qe,{path:"/forgot-password",element:u.jsx(N7,{})}),u.jsx(Qe,{path:"/profile",element:u.jsx(Tq,{})}),u.jsx(Qe,{path:"/movie/:id",element:u.jsx(bq,{})}),u.jsx(Qe,{path:"/tv/:id",element:u.jsx(Cq,{})}),u.jsx(Qe,{path:"/actor/:id",element:u.jsx(Iq,{})}),u.jsx(Qe,{path:"/search/:query",element:u.jsx(Rq,{})}),u.jsx(Qe,{path:"/tvseries",element:u.jsx(fG,{})}),u.jsx(Qe,{path:"/movies",element:u.jsx(dG,{})}),u.jsx(Qe,{path:"/top-rated-movies",element:u.jsx(mG,{})}),u.jsx(Qe,{path:"/top-rated-tv-shows",element:u.jsx(gG,{})}),u.jsx(Qe,{path:"/genre/:id",element:u.jsx(vG,{})}),u.jsx(Qe,{path:"/mini-series",element:u.jsx(hG,{})}),u.jsx(Qe,{path:"/animation",element:u.jsx(pG,{})}),u.jsx(Qe,{path:"/watchlist",element:u.jsx(yG,{})}),u.jsx(Qe,{path:"/movie/watch/:id",element:u.jsx(wG,{})}),u.jsx(Qe,{path:"/tv/watch/:id",element:u.jsx(pS,{})}),u.jsx(Qe,{path:"/tv/watch/:id/:season/:episode",element:u.jsx(pS,{})}),u.jsx(Qe,{path:"/privacy-policy",element:u.jsx(_G,{})}),u.jsx(Qe,{path:"*",element:u.jsx(xG,{})})]}),u.jsx(GH,{})]})}function SG(){const{toasts:t}=Ra();return u.jsxs(Eq,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return u.jsxs(pk,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(gk,{children:n}),r&&u.jsx(vk,{children:r})]}),s,u.jsx(mk,{})]},e)}),u.jsx(hk,{})]})}AT(document.getElementById("root")).render(u.jsx(p.StrictMode,{children:u.jsx(s6,{children:u.jsxs(B$,{children:[u.jsx(EG,{}),u.jsx(SG,{})]})})}));
